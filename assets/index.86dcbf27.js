var x=Object.defineProperty,H=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var y=(h,e,t)=>e in h?x(h,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[e]=t,r=(h,e)=>{for(var t in e||(e={}))A.call(e,t)&&y(h,t,e[t]);if(d)for(var t of d(e))P.call(e,t)&&y(h,t,e[t]);return h},g=(h,e)=>H(h,v(e));import{r as n,d as w}from"./vendor.17f91827.js";const T={PEAK:"PEAK",INTEGRAL:"INTEGRAL",SIGNAL:"SIGNAL",RANGE:"RANGE",ZONE:"ZONE",EXCLUSION_ZONE:"EXCLUSION_ZONE"},E={highlights:{},highlighted:[],highlightedPermanently:[],type:null},f=n.exports.createContext(E);function k(h,e){switch(e.type){case"SHOW":{const{convertedHighlights:t,type:i}=e.payload,o=g(r({},h),{highlights:r({},h.highlights),type:i});for(const l of t)l in o.highlights||(o.highlights[l]=1);return o.highlighted=Object.keys(o.highlights),o}case"HIDE":{const{convertedHighlights:t}=e.payload,i=g(r({},h),{highlights:r({},h.highlights),type:null});for(const o of t)o in i.highlights&&delete i.highlights[o];return i.highlighted=Object.keys(i.highlights),i}case"SET_PERMANENT":return g(r({},h),{highlightedPermanently:e.payload});case"UNSET_PERMANENT":return g(r({},h),{highlightedPermanently:[]});default:throw new Error(`unknown action type: ${e.type}`)}}function C(h){const[e,t]=n.exports.useReducer(k,E),i=n.exports.useMemo(()=>({highlight:e,dispatch:t}),[e]);return w(f.Provider,{value:i,children:h.children})}function N(){return n.exports.useContext(f)}function b(h,e=null){if(!Array.isArray(h))throw new Error("highlights must be an array");const t=N(),i=n.exports.useMemo(()=>{const s=[];for(const a of h){if(typeof a!="string"&&typeof a!="number")throw new Error("highlight key must be a string or number");a!==""&&s.push(String(a))}return s},[h]);n.exports.useEffect(()=>()=>{t.dispatch({type:"HIDE",payload:{convertedHighlights:i}}),t.dispatch({type:"UNSET_PERMANENT"})},[]);const o=n.exports.useMemo(()=>t.highlight.highlighted.some(s=>i.includes(s)),[t.highlight.highlighted,i]),l=n.exports.useMemo(()=>t.highlight.highlightedPermanently.some(s=>i.includes(s)),[t.highlight.highlightedPermanently,i]),c=n.exports.useCallback(()=>{t.dispatch({type:"SHOW",payload:{convertedHighlights:i,type:e}})},[t,i,e]),p=n.exports.useCallback(()=>{t.dispatch({type:"HIDE",payload:{convertedHighlights:i}})},[t,i]),S=n.exports.useCallback(s=>{t.dispatch({type:"SHOW",payload:{convertedHighlights:[],id:s}})},[t]),m=n.exports.useCallback(s=>{t.dispatch({type:"HIDE",payload:{convertedHighlights:[],id:s}})},[t]),u=n.exports.useCallback(s=>{s&&(s.preventDefault(),s.stopPropagation()),l?t.dispatch({type:"UNSET_PERMANENT"}):t.dispatch({type:"SET_PERMANENT",payload:i})},[t,i,l]);return{isActive:o,show:c,hide:p,onHover:{onMouseEnter:c,onMouseLeave:p},onClick:{onClick:u},isActivePermanently:l,click:u,add:S,remove:m}}export{C as H,T,N as a,b as u};
//# sourceMappingURL=index.86dcbf27.js.map
