var v=Object.defineProperty,x=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var f=(t,h,e)=>h in t?v(t,h,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[h]=e,l=(t,h)=>{for(var e in h||(h={}))P.call(h,e)&&f(t,e,h[e]);if(N)for(var e of N(h))S.call(h,e)&&f(t,e,h[e]);return t},g=(t,h)=>x(t,w(h));import{r as i,d as H}from"./vendor.199dad22.js";var O=(t=>(t.PEAK="PEAK",t.INTEGRAL="INTEGRAL",t.SIGNAL="SIGNAL",t.RANGE="RANGE",t.ZONE="ZONE",t.EXCLUSION_ZONE="EXCLUSION_ZONE",t.DATABASE="DATABASE",t.UNKNOWN="UNKNOWN",t))(O||{});const m={highlight:{highlights:{},highlighted:[],highlightedPermanently:[],sourceData:null},dispatch:()=>null,remove:()=>null},A=i.exports.createContext(m);function T(t,h){switch(h.type){case"SHOW":{const{convertedHighlights:e,sourceData:s}=h.payload,{type:n="UNKNOWN",extra:c=null}=s||{},o=g(l({},t),{highlights:l({},t.highlights),sourceData:{type:n,extra:c}});for(const a of e)a in o.highlights||(o.highlights[a]=1);return o.highlighted=Object.keys(o.highlights),o}case"HIDE":{const{convertedHighlights:e}=h.payload,s=g(l({},t),{highlights:l({},t.highlights),sourceData:null});for(const n of e)n in s.highlights&&delete s.highlights[n];return s.highlighted=Object.keys(s.highlights),s}case"SET_PERMANENT":return g(l({},t),{highlightedPermanently:h.payload});case"UNSET_PERMANENT":return g(l({},t),{highlightedPermanently:[]});default:throw new Error(`unknown action type: ${h.type}`)}}function k(t){const[h,e]=i.exports.useReducer(T,m.highlight),s=i.exports.useMemo(()=>{function n(){e({type:"HIDE",payload:{convertedHighlights:h.highlighted}})}return{highlight:h,dispatch:e,remove:n}},[h]);return H(A.Provider,{value:s,children:t.children})}function b(){return i.exports.useContext(A)}function C(t,h=null){if(!Array.isArray(t))throw new Error("highlights must be an array");const{dispatch:e,highlight:s}=b(),n=i.exports.useMemo(()=>{const r=[];for(const u of t){if(typeof u!="string"&&typeof u!="number")throw new Error("highlight key must be a string or number");u!==""&&r.push(String(u))}return r},[t]);i.exports.useEffect(()=>()=>{e({type:"HIDE",payload:{convertedHighlights:[]}}),e({type:"UNSET_PERMANENT"})},[e]);const c=i.exports.useMemo(()=>s.highlighted.some(r=>n.includes(r)),[n,s.highlighted]),o=i.exports.useMemo(()=>s.highlightedPermanently.some(r=>n.includes(r)),[n,s.highlightedPermanently]),a=i.exports.useCallback(()=>{e({type:"SHOW",payload:{convertedHighlights:n,sourceData:h}})},[e,n,h]),p=i.exports.useCallback(()=>{e({type:"HIDE",payload:{convertedHighlights:n}})},[n,e]),d=i.exports.useCallback(r=>{e({type:"SHOW",payload:{convertedHighlights:[],id:r}})},[e]),y=i.exports.useCallback(r=>{e({type:"HIDE",payload:{convertedHighlights:[],id:r}})},[e]),E=i.exports.useCallback(r=>{r&&(r.preventDefault(),r.stopPropagation()),e(o?{type:"UNSET_PERMANENT"}:{type:"SET_PERMANENT",payload:n})},[n,e,o]);return i.exports.useMemo(()=>({isActive:c,onHover:{onMouseEnter:a,onMouseLeave:p},onClick:E,show:a,hide:p,isActivePermanently:o,click:E,add:d,remove:y}),[d,E,p,c,o,y,a])}export{k as H,b as a,O as b,C as u};
//# sourceMappingURL=index.ac4e24e4.js.map
