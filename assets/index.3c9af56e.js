var x=Object.defineProperty,H=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var y=(h,e,t)=>e in h?x(h,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[e]=t,r=(h,e)=>{for(var t in e||(e={}))A.call(e,t)&&y(h,t,e[t]);if(d)for(var t of d(e))P.call(e,t)&&y(h,t,e[t]);return h},g=(h,e)=>H(h,v(e));import{r as o,j as w}from"./vendor.6840b33b.js";const T={PEAK:"PEAK",INTEGRAL:"INTEGRAL",SIGNAL:"SIGNAL",RANGE:"RANGE",ZONE:"ZONE",EXCLUSION_ZONE:"EXCLUSION_ZONE"},E={highlights:{},highlighted:[],highlightedPermanently:[],type:null},N=o.exports.createContext(E);function b(h,e){switch(e.type){case"SHOW":{const{convertedHighlights:t,type:i}=e.payload,n=g(r({},h),{highlights:r({},h.highlights),type:i});for(const l of t)l in n.highlights||(n.highlights[l]=1);return n.highlighted=Object.keys(n.highlights),n}case"HIDE":{const{convertedHighlights:t}=e.payload,i=g(r({},h),{highlights:r({},h.highlights),type:null});for(const n of t)n in i.highlights&&delete i.highlights[n];return i.highlighted=Object.keys(i.highlights),i}case"SET_PERMANENT":return g(r({},h),{highlightedPermanently:e.payload});case"UNSET_PERMANENT":return g(r({},h),{highlightedPermanently:[]});default:throw new Error(`unknown action type: ${e.type}`)}}function k(h){const[e,t]=o.exports.useReducer(b,E),i=o.exports.useMemo(()=>({highlight:e,dispatch:t}),[e]);return w(N.Provider,{value:i},h.children)}function f(){return o.exports.useContext(N)}function C(h,e=null){if(!Array.isArray(h))throw new Error("highlights must be an array");const t=f(),i=o.exports.useMemo(()=>{const s=[];for(const a of h){if(typeof a!="string"&&typeof a!="number")throw new Error("highlight key must be a string or number");a!==""&&s.push(String(a))}return s},[h]);o.exports.useEffect(()=>()=>{t.dispatch({type:"HIDE",payload:{convertedHighlights:i}}),t.dispatch({type:"UNSET_PERMANENT"})},[]);const n=o.exports.useMemo(()=>t.highlight.highlighted.some(s=>i.includes(s)),[t.highlight.highlighted,i]),l=o.exports.useMemo(()=>t.highlight.highlightedPermanently.some(s=>i.includes(s)),[t.highlight.highlightedPermanently,i]),c=o.exports.useCallback(()=>{t.dispatch({type:"SHOW",payload:{convertedHighlights:i,type:e}})},[t,i,e]),p=o.exports.useCallback(()=>{t.dispatch({type:"HIDE",payload:{convertedHighlights:i}})},[t,i]),S=o.exports.useCallback(s=>{t.dispatch({type:"SHOW",payload:{convertedHighlights:[],id:s}})},[t]),m=o.exports.useCallback(s=>{t.dispatch({type:"HIDE",payload:{convertedHighlights:[],id:s}})},[t]),u=o.exports.useCallback(s=>{s&&(s.preventDefault(),s.stopPropagation()),l?t.dispatch({type:"UNSET_PERMANENT"}):t.dispatch({type:"SET_PERMANENT",payload:i})},[t,i,l]);return{isActive:n,show:c,hide:p,onHover:{onMouseEnter:c,onMouseLeave:p},onClick:{onClick:u},isActivePermanently:l,click:u,add:S,remove:m}}export{k as H,T,f as a,C as u};
//# sourceMappingURL=index.3c9af56e.js.map
