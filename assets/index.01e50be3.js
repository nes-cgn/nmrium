var x=Object.defineProperty,w=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var m=(t,h,e)=>h in t?x(t,h,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[h]=e,l=(t,h)=>{for(var e in h||(h={}))S.call(h,e)&&m(t,e,h[e]);if(f)for(var e of f(h))H.call(h,e)&&m(t,e,h[e]);return t},g=(t,h)=>w(t,P(h));import{r as o,d as O}from"./vendor.b8a3fa83.js";var E;(function(t){t.PEAK="PEAK",t.INTEGRAL="INTEGRAL",t.SIGNAL="SIGNAL",t.RANGE="RANGE",t.ZONE="ZONE",t.EXCLUSION_ZONE="EXCLUSION_ZONE",t.DATABASE="DATABASE",t.UNKNOWN="UNKNOWN"})(E||(E={}));const A={highlight:{highlights:{},highlighted:[],highlightedPermanently:[],sourceData:null},dispatch:()=>null,remove:()=>null},v=o.exports.createContext(A);function T(t,h){switch(h.type){case"SHOW":{const{convertedHighlights:e,sourceData:s}=h.payload,{type:n=E.UNKNOWN,extra:c=null}=s||{},r=g(l({},t),{highlights:l({},t.highlights),sourceData:{type:n,extra:c}});for(const a of e)a in r.highlights||(r.highlights[a]=1);return r.highlighted=Object.keys(r.highlights),r}case"HIDE":{const{convertedHighlights:e}=h.payload,s=g(l({},t),{highlights:l({},t.highlights),sourceData:null});for(const n of e)n in s.highlights&&delete s.highlights[n];return s.highlighted=Object.keys(s.highlights),s}case"SET_PERMANENT":return g(l({},t),{highlightedPermanently:h.payload});case"UNSET_PERMANENT":return g(l({},t),{highlightedPermanently:[]});default:throw new Error(`unknown action type: ${h.type}`)}}function k(t){const[h,e]=o.exports.useReducer(T,A.highlight),s=o.exports.useMemo(()=>{function n(){e({type:"HIDE",payload:{convertedHighlights:h.highlighted}})}return{highlight:h,dispatch:e,remove:n}},[h]);return O(v.Provider,{value:s,children:t.children})}function b(){return o.exports.useContext(v)}function C(t,h=null){if(!Array.isArray(t))throw new Error("highlights must be an array");const{dispatch:e,highlight:s}=b(),n=o.exports.useMemo(()=>{const i=[];for(const u of t){if(typeof u!="string"&&typeof u!="number")throw new Error("highlight key must be a string or number");u!==""&&i.push(String(u))}return i},[t]);o.exports.useEffect(()=>()=>{e({type:"HIDE",payload:{convertedHighlights:[]}}),e({type:"UNSET_PERMANENT"})},[e]);const c=o.exports.useMemo(()=>s.highlighted.some(i=>n.includes(i)),[n,s.highlighted]),r=o.exports.useMemo(()=>s.highlightedPermanently.some(i=>n.includes(i)),[n,s.highlightedPermanently]),a=o.exports.useCallback(()=>{e({type:"SHOW",payload:{convertedHighlights:n,sourceData:h}})},[e,n,h]),p=o.exports.useCallback(()=>{e({type:"HIDE",payload:{convertedHighlights:n}})},[n,e]),y=o.exports.useCallback(i=>{e({type:"SHOW",payload:{convertedHighlights:[],id:i}})},[e]),N=o.exports.useCallback(i=>{e({type:"HIDE",payload:{convertedHighlights:[],id:i}})},[e]),d=o.exports.useCallback(i=>{i&&(i.preventDefault(),i.stopPropagation()),e(r?{type:"UNSET_PERMANENT"}:{type:"SET_PERMANENT",payload:n})},[n,e,r]);return o.exports.useMemo(()=>({isActive:c,onHover:{onMouseEnter:a,onMouseLeave:p},onClick:d,show:a,hide:p,isActivePermanently:r,click:d,add:y,remove:N}),[y,d,p,c,r,N,a])}export{k as H,b as a,E as b,C as u};
//# sourceMappingURL=index.01e50be3.js.map
