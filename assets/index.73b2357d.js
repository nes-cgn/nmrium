var x=Object.defineProperty,H=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var f=(h,t,e)=>t in h?x(h,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[t]=e,r=(h,t)=>{for(var e in t||(t={}))A.call(t,e)&&f(h,e,t[e]);if(N)for(var e of N(t))P.call(t,e)&&f(h,e,t[e]);return h},g=(h,t)=>H(h,v(t));import{r as s,d as w}from"./vendor.7b4e529c.js";const C={PEAK:"PEAK",INTEGRAL:"INTEGRAL",SIGNAL:"SIGNAL",RANGE:"RANGE",ZONE:"ZONE",EXCLUSION_ZONE:"EXCLUSION_ZONE"},m={highlights:{},highlighted:[],highlightedPermanently:[],type:null},S=s.exports.createContext(m);function T(h,t){switch(t.type){case"SHOW":{const{convertedHighlights:e,type:n}=t.payload,i=g(r({},h),{highlights:r({},h.highlights),type:n});for(const l of e)l in i.highlights||(i.highlights[l]=1);return i.highlighted=Object.keys(i.highlights),i}case"HIDE":{const{convertedHighlights:e}=t.payload,n=g(r({},h),{highlights:r({},h.highlights),type:null});for(const i of e)i in n.highlights&&delete n.highlights[i];return n.highlighted=Object.keys(n.highlights),n}case"SET_PERMANENT":return g(r({},h),{highlightedPermanently:t.payload});case"UNSET_PERMANENT":return g(r({},h),{highlightedPermanently:[]});default:throw new Error(`unknown action type: ${t.type}`)}}function O(h){const[t,e]=s.exports.useReducer(T,m),n=s.exports.useMemo(()=>({highlight:t,dispatch:e}),[t]);return w(S.Provider,{value:n,children:h.children})}function b(){return s.exports.useContext(S)}function R(h,t=null){if(!Array.isArray(h))throw new Error("highlights must be an array");const{dispatch:e,highlight:n}=b(),i=s.exports.useMemo(()=>{const o=[];for(const c of h){if(typeof c!="string"&&typeof c!="number")throw new Error("highlight key must be a string or number");c!==""&&o.push(String(c))}return o},[h]);s.exports.useEffect(()=>()=>{e({type:"HIDE",payload:{convertedHighlights:[]}}),e({type:"UNSET_PERMANENT"})},[e]);const l=s.exports.useMemo(()=>n.highlighted.some(o=>i.includes(o)),[i,n.highlighted]),a=s.exports.useMemo(()=>n.highlightedPermanently.some(o=>i.includes(o)),[i,n.highlightedPermanently]),u=s.exports.useCallback(()=>{e({type:"SHOW",payload:{convertedHighlights:i,type:t}})},[i,e,t]),p=s.exports.useCallback(()=>{e({type:"HIDE",payload:{convertedHighlights:i}})},[i,e]),y=s.exports.useCallback(o=>{e({type:"SHOW",payload:{convertedHighlights:[],id:o}})},[e]),E=s.exports.useCallback(o=>{e({type:"HIDE",payload:{convertedHighlights:[],id:o}})},[e]),d=s.exports.useCallback(o=>{o&&(o.preventDefault(),o.stopPropagation()),e(a?{type:"UNSET_PERMANENT"}:{type:"SET_PERMANENT",payload:i})},[i,e,a]);return s.exports.useMemo(()=>({isActive:l,onHover:{onMouseEnter:u,onMouseLeave:p},onClick:d,show:u,hide:p,isActivePermanently:a,click:d,add:y,remove:E}),[y,d,p,l,a,E,u])}export{O as H,C as T,b as a,R as u};
//# sourceMappingURL=index.73b2357d.js.map
