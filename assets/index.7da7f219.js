var x=Object.defineProperty,H=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var y=(e,h,t)=>h in e?x(e,h,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[h]=t,r=(e,h)=>{for(var t in h||(h={}))A.call(h,t)&&y(e,t,h[t]);if(d)for(var t of d(h))P.call(h,t)&&y(e,t,h[t]);return e},g=(e,h)=>H(e,v(h));var R=typeof require!="undefined"?require:e=>{throw new Error('Dynamic require of "'+e+'" is not supported')};import{r as o,j as w}from"./vendor.35105230.js";const T={PEAK:"PEAK",INTEGRAL:"INTEGRAL",SIGNAL:"SIGNAL",RANGE:"RANGE",ZONE:"ZONE",EXCLUSION_ZONE:"EXCLUSION_ZONE"},E={highlights:{},highlighted:[],highlightedPermanently:[],type:null},N=o.exports.createContext(E);function k(e,h){switch(h.type){case"SHOW":{const{convertedHighlights:t,type:i}=h.payload,n=g(r({},e),{highlights:r({},e.highlights),type:i});for(const l of t)l in n.highlights||(n.highlights[l]=1);return n.highlighted=Object.keys(n.highlights),n}case"HIDE":{const{convertedHighlights:t}=h.payload,i=g(r({},e),{highlights:r({},e.highlights),type:null});for(const n of t)n in i.highlights&&delete i.highlights[n];return i.highlighted=Object.keys(i.highlights),i}case"SET_PERMANENT":return g(r({},e),{highlightedPermanently:h.payload});case"UNSET_PERMANENT":return g(r({},e),{highlightedPermanently:[]});default:throw new Error(`unknown action type: ${h.type}`)}}function C(e){const[h,t]=o.exports.useReducer(k,E),i=o.exports.useMemo(()=>({highlight:h,dispatch:t}),[h]);return w(N.Provider,{value:i},e.children)}function f(){return o.exports.useContext(N)}function b(e,h=null){if(!Array.isArray(e))throw new Error("highlights must be an array");const t=f(),i=o.exports.useMemo(()=>{const s=[];for(const a of e){if(typeof a!="string"&&typeof a!="number")throw new Error("highlight key must be a string or number");a!==""&&s.push(String(a))}return s},[e]);o.exports.useEffect(()=>()=>{t.dispatch({type:"HIDE",payload:{convertedHighlights:i}}),t.dispatch({type:"UNSET_PERMANENT"})},[]);const n=o.exports.useMemo(()=>t.highlight.highlighted.some(s=>i.includes(s)),[t.highlight.highlighted,i]),l=o.exports.useMemo(()=>t.highlight.highlightedPermanently.some(s=>i.includes(s)),[t.highlight.highlightedPermanently,i]),c=o.exports.useCallback(()=>{t.dispatch({type:"SHOW",payload:{convertedHighlights:i,type:h}})},[t,i,h]),p=o.exports.useCallback(()=>{t.dispatch({type:"HIDE",payload:{convertedHighlights:i}})},[t,i]),S=o.exports.useCallback(s=>{t.dispatch({type:"SHOW",payload:{convertedHighlights:[],id:s}})},[t]),m=o.exports.useCallback(s=>{t.dispatch({type:"HIDE",payload:{convertedHighlights:[],id:s}})},[t]),u=o.exports.useCallback(s=>{s&&(s.preventDefault(),s.stopPropagation()),l?t.dispatch({type:"UNSET_PERMANENT"}):t.dispatch({type:"SET_PERMANENT",payload:i})},[t,i,l]);return{isActive:n,show:c,hide:p,onHover:{onMouseEnter:c,onMouseLeave:p},onClick:{onClick:u},isActivePermanently:l,click:u,add:S,remove:m}}export{C as H,T,f as a,b as u};
