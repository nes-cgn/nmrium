var _w=Object.defineProperty,Tw=Object.defineProperties;var Rw=Object.getOwnPropertyDescriptors;var Ts=Object.getOwnPropertySymbols;var Gf=Object.prototype.hasOwnProperty,Wf=Object.prototype.propertyIsEnumerable;var Vf=(e,t,n)=>t in e?_w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))Gf.call(t,n)&&Vf(e,n,t[n]);if(Ts)for(var n of Ts(t))Wf.call(t,n)&&Vf(e,n,t[n]);return e},P=(e,t)=>Tw(e,Rw(t));var Uf=e=>typeof e=="symbol"?e:e+"",he=(e,t)=>{var n={};for(var r in e)Gf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ts)for(var r of Ts(e))t.indexOf(r)<0&&Wf.call(e,r)&&(n[r]=e[r]);return n};import{r as d,M as T0,S as Aw,c as X,w as Pw,j as $,a as h,F as Mw,E as Fw,b as _l,R as yr,d as m,e as G,x as ua,f as R0,g as si,m as Wn,h as Ow,i as $w,k as au,l as Dw,n as Iw,o as Ks,p as Xf,z as Nw,q as Lw,s as A0,t as Yf,u as _t,v as li,y as P0,A as Hw,B as $n,C as zw,D as Bw,G as jw,H as Vw,I as M0,J as Gw,K as Ww,L as Uw,N as su,O as Xw,P as Yw,Q as Un,T as Zw,U as Kw,V as qw,W as Jw,X as Qw,Y as eS,Z as Ko,_ as tS,$ as nS,a0 as Vn,a1 as wr,a2 as ct,a3 as gn,a4 as rS,a5 as da,a6 as F0,a7 as Zf,a8 as O0,a9 as oS,aa as ve,ab as td,ac as iS,ad as $0,ae as lu,af as nd,ag as qs,ah as Xn,ai as aS,aj as sS,ak as Ce,al as rd,am as od,an as In,ao as lS,ap as Tl,aq as D0,ar as id,as as cS,at as uS,au as qo,av as zn,aw as Kf,ax as kn,ay as dS,az as qf,aA as pS,aB as pa,aC as I0,aD as fS,aE as hS,aF as gS,aG as Rr,aH as mS,aI as bS,aJ as vS,aK as ad,aL as N0,aM as L0,aN as Rl,aO as an,aP as Bn,aQ as H0,aR as xS,aS as yS,aT as wS,aU as z0,aV as SS,aW as CS,aX as kS,aY as ES,aZ as _S,a_ as TS,a$ as RS,b0 as AS,b1 as PS,b2 as sd,b3 as B0,b4 as j0,b5 as Al,b6 as MS,b7 as ci,b8 as FS,b9 as OS,ba as V0,bb as $S,bc as DS,bd as fa,be as G0,bf as Pl,bg as W0,bh as IS,bi as Ws,bj as NS,bk as U0,bl as LS,bm as Js,bn as pn,bo as Fi,bp as Ml,bq as X0,br as HS,bs as zS,bt as er,bu as BS,bv as jS,bw as VS,bx as GS,by as WS,bz as US,bA as XS,bB as YS,bC as Y0,bD as Jf,bE as ZS,bF as KS,bG as tn,bH as qS,bI as JS,bJ as QS,bK as eC,bL as tC,bM as nC,bN as _c,bO as Tc,bP as rC,bQ as oC,bR as iC,bS as aC,bT as sC,bU as lC,bV as cC,bW as uC,bX as dC,bY as pC}from"./vendor.ce61fb30.js";const fC=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}};fC();var Qf=[{title:"Empty"},{groupName:"General",children:[{file:"./data/cytisine/1H.json",title:"1H spectrum test"},{file:"./data/ethylbenzene/1h.json",title:"1H ethylbenzene"},{file:"./data/ethylbenzene/cosy.json",title:"COSY ethylbenzene"},{file:"./data/ethylbenzene/full.json",title:"FULL ethylbenzene"},{file:"./data/cytisine/2d/hsqc.json",title:"HSQC cytisine"},{file:"./data/cytisine/2d/hmbc-only.json",title:"HMBC only cytisine"},{file:"./data/cytisine/2d/hsqc_hmbc.json",title:"HSQC / HMBC cytisine"},{file:"./data/cytisine/2d/all.json",title:"Full cytisine"},{file:"./data/cytisine/2d/HMBC_HN_Cytisin.json",title:"1H, 15N HMQC cytisine"},{file:"./data/50-78-2/linked-jcamp.json",title:"Linked jcamp"},{file:"./data/cytisine/1Honly.json",title:"1H only jcamp"},{file:"./data/cytisine/2d/cosy.json",title:"2D cosy"},{file:"./data/cytisine/1D.json",title:"1D spectra test"},{file:"./data/ethylvinylether/1h.json",title:"1H ethylvinylether"},{file:"./data/cytisine/13CFID.json",title:"13C Spectrum"},{file:"./data/cytisine/processed13C.json",title:"Processed 13C Spectrum"},{file:"./data/cytisine/Big13C.json",title:"Big 13C"},{file:"./data/xtc/XTC.json",title:"XTC"},{file:"./data/xtc/XTClight.json",title:"XTC just links"},{file:"./data/coffee/Coffee.json",title:"Coffee"},{file:"./data/108-21-4/CoupledDecoupled13C.json",title:"13C Coupled / Decoupled"},{file:"./data/cytisine/Dept.json",title:"DEPT"},{file:"./data/19f/19f.json",title:"19F with baseline problems"},{file:"./data/t1/t1.json",title:"T1 samples (1H + 13C)"},{file:"./data/t2/t2.json",title:"T2 samples (1H + 13C)"},{file:"",title:"Two instances",view:"TwoInstances"}]},{groupName:"Simulate",children:[{file:"./data/tests/simulated/d1-2-3-4-5-6-7-8.json",title:"\u03B4=1,2,3,4,5,6,7,8"},{file:"./data/tests/simulated/d1-2-3-4-5-6-7-8HR.json",title:"\u03B4=1,2,3,4,5,6,7,8 HR"},{file:"./data/tests/simulated/d1-1.2_j7.json",title:"\u03B4=1,1.2 J=7"},{file:"./data/tests/simulated/d1-2_j7.json",title:"\u03B4=1,2 J=7"},{file:"./data/tests/simulated/d1-2-3_j16-10-2.json",title:"\u03B4=1,2,3 J=2,10,16"},{file:"./data/tests/simulated/d1-7_j7.json",title:"\u03B4=1,7 J=7"},{file:"./data/tests/simulated/d1-2-3-4-5-6-7-8_baseline.json",title:"Tests with baseline"},{file:"./data/tests/triangle/low-res.json",title:"Test low resolution"},{file:"./data/tests/triangle/high-res.json",title:"Test high resolution"}]},{groupName:"Exercises",children:[{file:"./exercises/ethylvinylether/1h.json",title:"Exercise 1",view:"Exercise"},{file:"./exercises/ethylbenzene/1h.json",title:"Exercise 2",view:"Exercise"},{file:"./exercises/cytisine/hsqc_hmbc.json",title:"Exercise 3",view:"Exercise"}]},{groupName:"Exam",children:[{file:"./exercises/ethylvinylether/1h.json",title:"Exam 1",view:"Exam"}]}];function hC(e=[]){let t=[];for(const n of e)n.children&&Array.isArray(n.children)?t.push(Z0(n.groupName,[n],[])):t.push(d.exports.createElement(T0,S({key:n.title},n),n.title));return t}function Z0(e,t=[],n=[],r=0){let o=n,i=[];r!==-1&&o[r]&&(o[r]=d.exports.cloneElement(o[r],{},i));for(const a in t)if(t[a].children&&Array.isArray(t[a].children)){const s=d.exports.createElement(Aw,{key:a+e,title:t[a].groupName});return o.push(s),Z0(a+e,t[a].children,o,0)}else i.push(d.exports.createElement(T0,S({key:a+e},t[a]),t[a].title));return o}function gC(e=[]){let t=[];for(const n of e)n.children&&Array.isArray(n.children)?t=t.concat(K0([n],[])):t.push(n);return t}function K0(e=[],t=[]){let n=t;for(const r of e){if(r.children&&Array.isArray(r.children))return K0(r.children,n);t.push(r)}return n}function eo(e=""){const t=new RegExp(/^(?<path>.*)\/(?<file>[^/]*)$/g).exec(e);let n="";if(t){const r=t[1].split("/");n=r.length>2?r[r.length-2]+r[r.length-1]:r[r.length-1]}return n+e.replace(/\.|\s|\//g,"")}const mC=X`
  background: #2ca8ff;
  position: fixed;
  top: 0;
  height: 100%;
  bottom: 0;
  left: 0;
  z-index: 1031;
`,bC=X`
  width: 260px;
`,vC=X`
  width: 3%;
`,xC=X`
  margin-left: 4px;
  margin-top: 2px;
  margin-bottom: 2px;
  margin-right: 4px;
  z-index: 7;
  font-size: 18px;
  background-color: transparent;
  border: none !important;
  height: 30px;
  width: 30px;
  padding: 1px 6px;

  & svg {
    fill: white;
  }

  &:focus {
    outline: none;
  }

  &:active {
    background-color: rgba(0, 0, 0, 0.5);
    border-radius: 50%;
  }
  &:hover {
    background-color: rgba(0, 0, 0, 0.2);
    border-radius: 50%;
  }
`,yC=X`
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 4;
  border-bottom: 1px solid #eee;
`,wC=X`
  text-transform: uppercase;
  padding: 0.5rem 0;
  display: block;
  white-space: nowrap;
  font-size: 1em;
  color: #fff;
  text-decoration: none;
  font-weight: 400;
  line-height: 30px;
  overflow: hidden;
`,SC=X`
  display: block;
  opacity: 1;
  transform: translateZ(0);
`,CC=X`
  position: relative;
  height: calc(100vh - 75px);
  overflow-y: auto;
  overflow-x: hidden;
  width: 260px;
  z-index: 4;
  padding-bottom: 100px;
`;function kC(e){const t=d.exports.useMemo(()=>hC(e.routes),[e.routes]),n=e.menuIsClosed?"none":"block";return $("div",{css:X(mC,e.menuIsClosed?vC:bC),children:[$("div",{css:yC,children:[h("div",{style:{display:n,padding:"0.5rem 0.7rem"},children:h("a",{css:X(wC,SC),children:"NMRium"})}),h("button",{type:"button",css:xC,onClick:e.onMenuToggle,children:h(Mw,{})})]}),h("div",{css:CC,style:{display:n},children:h(Fw,{onClick:r=>{e.history.push(`/SamplesDashboard/${Math.random().toString(36).replace("0.","")}/${(r.item.props.view||"View")+eo(r.item.props.file)}`)},mode:"inline",children:t})})]})}var EC=Pw(d.exports.memo(kC));const _C="modulepreload",eh={},TC="./",gr=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${TC}${r}`,r in eh)return;eh[r]=!0;const o=r.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":_C,o||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),o)return new Promise((s,c)=>{a.addEventListener("load",s),a.addEventListener("error",c)})})).then(()=>t())},ld={Exam:d.exports.memo(d.exports.lazy(()=>gr(()=>import("./Exam.74bf5faf.js"),["assets/Exam.74bf5faf.js","assets/vendor.ce61fb30.js"]))),Exercise:d.exports.memo(d.exports.lazy(()=>gr(()=>import("./Exercise.8ea48d37.js"),["assets/Exercise.8ea48d37.js","assets/vendor.ce61fb30.js"]))),SingleView:d.exports.memo(d.exports.lazy(()=>gr(()=>import("./SingleView.f102ea6d.js"),["assets/SingleView.f102ea6d.js","assets/vendor.ce61fb30.js"]))),Test:d.exports.memo(d.exports.lazy(()=>gr(()=>Promise.resolve().then(function(){return fK}),void 0))),View:d.exports.memo(d.exports.lazy(()=>gr(()=>import("./View.2b6bf826.js"),["assets/View.2b6bf826.js","assets/vendor.ce61fb30.js"]))),TwoInstances:d.exports.memo(d.exports.lazy(()=>gr(()=>import("./TwoInstances.d7eeef52.js"),["assets/TwoInstances.d7eeef52.js","assets/vendor.ce61fb30.js"]))),Teaching:d.exports.memo(d.exports.lazy(()=>gr(()=>import("./Teaching.6164fcdf.js"),["assets/Teaching.6164fcdf.js","assets/vendor.ce61fb30.js"])))},RC=X`
  position: relative;
  float: right;
  height: 100%;
  background-color: #ebecf1;
`,AC=X`
  width: calc(100% - 260px);
`,PC=X`
  width: 98%;
  margin-left: 20px !important;
`;function MC(e){const{routes:t=[],baseURL:n}=e,r=d.exports.useMemo(()=>gC(t),[t]),[o,i]=d.exports.useState(!1),a=d.exports.useCallback(()=>i(!o),[o]);return $("div",{style:{position:"relative",top:0,height:"100vh"},children:[h(EC,P(S({},e),{routes:t,menuIsClosed:o,onMenuToggle:a})),h("div",{css:X(RC,o?PC:AC),children:h(d.exports.StrictMode,{children:h(d.exports.Suspense,{fallback:h("div",{children:"Loading..."}),children:$(_l,{children:[r.map(s=>h(yr,{path:`/SamplesDashboard/:id/${(s.view||"View")+eo(s.file)}`,render:c=>h(FC,P(S({},c),{prop:s,baseURL:n}))},eo(s.file))),r.length>0&&h(yr,{path:"/",render:()=>{const s=r[0],c=s.view?s.view:"View",l=ld[c];return h(l,S({},s[0]))}},eo(r[0].file))]})})})})]})}function FC(e){const{match:{params:{id:t}},prop:n,baseURL:r}=e,o=n.view?n.view:"View",i=ld[o];return h(i,P(S({},n),{id:eo(n.file),baseURL:r}),t)}function OC(e){return m("div",{style:{position:"relative",top:0,height:"100vh"},children:m("div",{style:{position:"absolute",display:"block",width:"99%",marginLeft:"auto",marginRight:"auto",height:"100%",backgroundColor:"ebecf1"},children:m(d.exports.Suspense,{fallback:m("div",{children:"Loading..."}),children:m(_l,{children:m(yr,{path:"/",render:t=>{const{match:{params:{id:n}}}=t,r=e.view?e.view:"SingleView",o=ld[r];return m(o,P(S({},e),{id:eo(e.patrh)}),n)}},eo(e.path))})})})})}const Nr={bodyContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",width:"100vw",backgroundColor:"#e3e3e3"},container:{width:"30%",height:"40%",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",fontSize:"20px",textAlign:"center"},normal:{backgroundColor:"white",color:"black"},error:{backgroundColor:"red",color:"white"},errorHeader:{fontSize:"100px"},normalHeader:{fontSize:"24px"},loadButton:{fontSize:"12px",padding:"12px 40px",borderRadius:"10px",border:"1px solid #c70000",fontWeight:"bold",cursor:"pointer"}};async function $C(e){const t=await fetch(e);try{return DC(t),await t.json()}catch(n){return console.error(n),null}}function DC(e){if(!e.ok)throw new Error(`HTTP ${e.status} - ${e.statusText}`);return e}const IC=e=>{const[t,n]=d.exports.useState({isLoaded:!1,status:200,routes:[]}),[r,o]=d.exports.useState(""),i=d.exports.useCallback(()=>{n({isLoaded:!0,status:200,routes:Qf})},[]),a=(c="")=>c.substring(c.lastIndexOf(".")+1),s=window.location.href;return d.exports.useEffect(()=>{const c=new URL(s).searchParams;if(c.has("sampleURL")){const l=c.get("sampleURL");if(!l)return;switch(a(l).toLowerCase()){case"json":{o("multi"),$C(l).then(p=>{if(p){const f=l.replace(/^(?<url>.*[\\/])?(?<filename>.*?\.[^.]*?|)$/g,"$1"),g=JSON.parse(JSON.stringify(p).replace(/\.\/+?/g,f));n({isLoaded:!0,status:200,routes:g,baseURL:f})}else n({isLoaded:!1,status:404,routes:[]})});break}case"dx":case"jdx":{o("single"),n({isLoaded:!0,status:200,path:l});break}}}else o("multi"),n({isLoaded:!0,status:200,routes:Qf,baseURL:"./"})},[s]),t.isLoaded?r&&r==="single"?m(OC,P(S({},e),{path:t.path})):m(MC,P(S({},e),{routes:t.routes,baseURL:t.baseURL})):m("div",{style:Nr.bodyContainer,children:m("div",{style:S(S({},Nr.container),t.status===200?Nr.normal:Nr.error),children:t.status===200?G("div",{children:[m("p",{style:Nr.normalHeader,children:"Please wait"}),m("p",{children:"We will redirect you in a minute"})]}):G("div",{children:[m("p",{style:Nr.errorHeader,children:"404"}),m("p",{children:"Resource not found."}),m("button",{style:Nr.loadButton,type:"button",onClick:i,children:"Load local samples"})]})})})};function co(e){const t=["Alt","AltGraph","CapsLock","Control","Meta","NumLocK","ScrollLock","Shift","OS"];for(const n of t)if(e.getModifierState(n))return!0;return!1}const Qs=2048;function NC(e,t,n,r,o){const{fromIndex:i,toIndex:a}=ua(e,{from:n,to:r});if(a-i<=Qs){const s={x:e.subarray(i,a),y:t.subarray(i,a)},c=R0(s,{frequency:o,takeBestPartMultiplet:!0,symmetrizeEachStep:!0});return c&&c.chemShift===void 0?void 0:{multiplicity:c.js.map(l=>l.multiplicity).join(""),kind:"signal",delta:c.chemShift,js:c.js}}else throw new Error(`length of signal should not exceed ${Qs} points`)}const q0={step:"initial",brush:{start:null,end:null},startX:0,endX:0,startY:0,endY:0},Ar=d.exports.createContext(q0);function J0({children:e,className:t,style:n,onBrush:r=()=>null,onZoom:o=()=>null,onDoubleClick:i=()=>null,onClick:a=()=>null,noPropagation:s}){const[c,l]=d.exports.useReducer(LC,q0),[u,p]=d.exports.useState(0),f=d.exports.useRef([]),g=d.exports.useCallback(k=>(k.button===0&&(s&&k.stopPropagation(),l({type:"DOWN",shiftKey:k.shiftKey,altKey:k.altKey,screenX:k.screenX,screenY:k.screenY,clientX:k.clientX,clientY:k.clientY,boundingRect:k.currentTarget.getBoundingClientRect()}),p(k.timeStamp)),!1),[s]),v=d.exports.useCallback(k=>{k.persist();const _=k.timeStamp,R=k.currentTarget.getBoundingClientRect(),M=k.clientX-R.x,N=k.clientY-R.y,H=si(()=>{_-u<=150&&f.current.length===1&&a(P(S({},k),{x:M,y:N})),f.current=[]},200);f.current.push(H),H(),f.current.length>1&&(Wn(f.current,A=>A.cancel()),f.current=[],i(P(S({},k),{x:M,y:N})))},[u,a,i]),x=d.exports.useCallback(k=>{const _=k.currentTarget.getBoundingClientRect(),R=k.clientX-_.x,M=k.clientY-_.y,{deltaY:N,deltaX:H,shiftKey:A,deltaMode:D}=k;o({deltaY:N||H,shiftKey:A,deltaMode:D,x:R,y:M})},[o]);d.exports.useEffect(()=>{const{step:k,startX:_,endX:R,startY:M,endY:N}=c;k==="end"&&Math.hypot(R-_,N-M)>5&&(r(c),l({type:"DONE"}))},[r,c]);const y=d.exports.useCallback(k=>{l({type:"MOVE",screenX:k.screenX,screenY:k.screenY,clientX:k.clientX,clientY:k.clientY})},[]),w=d.exports.useCallback(k=>(l({type:"UP",clientX:k.clientX,clientY:k.clientY}),!1),[]);return m(Ar.Provider,{value:c,children:m("div",{className:t,style:n,onMouseDown:g,onMouseUp:w,onMouseMove:y,onClick:v,onWheel:x,children:e})})}function LC(e,t){switch(t.type){case"UP":if(e.step==="brushing"||e.step==="start"){const{clientX:n,clientY:r}=t;return P(S({},e),{endX:n-e.boundingRect.x,endY:r-e.boundingRect.y,step:e.step==="start"?"initial":"end"})}return e;case"DOWN":if(e.step==="initial"||e.step==="end"){const{screenX:n,screenY:r,clientX:o,clientY:i,boundingRect:a,shiftKey:s,altKey:c}=t,l=o-a.x,u=i-a.y;return P(S({},e),{shiftKey:s,altKey:c,startX:l,startY:u,startScreenX:n,startScreenY:r,startClientX:o,startClientY:i,boundingRect:a,step:"start"})}return e;case"MOVE":if(e.step==="start"||e.step==="brushing"){const{clientX:n,clientY:r}=t;return P(S({},e),{step:"brushing",endX:n-e.boundingRect.x,endY:r-e.boundingRect.y})}return e;case"DONE":if(e.step==="end")return P(S({},e),{step:"initial"});break;default:return e}}const or=d.exports.createContext({}),HC=or.Provider;function zC(){return d.exports.useContext(or)}function Q0({children:e,className:t,style:n,noPropagation:r}){const[o,i]=d.exports.useState(null),a=d.exports.useCallback(c=>{const l=c.currentTarget.getBoundingClientRect(),u=c.clientX-l.x,p=c.clientY-l.y;i({x:u,y:p}),r&&c.stopPropagation()},[r]),s=d.exports.useCallback(c=>{i(null),r&&c.stopPropagation()},[r]);return m(HC,{value:o,children:m("div",{className:t,style:n,onMouseMove:a,onMouseLeave:s,children:e})})}const cd=[{key:"signal",label:"Signal",value:"signal"},{key:"reference",label:"Reference",value:"reference"},{key:"solvent",label:"Solvent",value:"solvent"},{key:"impurity",label:"Impurity",value:"impurity"},{key:"standard",label:"Standard",value:"standard"},{key:"p1",label:"P1",value:"p1"},{key:"p2",label:"P2",value:"p2"},{key:"p3",label:"P3",value:"p3"}],ha=["signal"],Dn={signal:"signal",mixed:"mixed"},em="absolute",BC="Absolute";function jC(e){if(!tm(e))throw new Error("absolute not applicable on this data");e.data.re=Ow(e.data),e.data.im=new Float64Array(0),e.info=P(S({},e.info),{isComplex:!1})}function tm(e){return!!(e.info.isComplex&&!e.info.isFid)}function VC(){return{once:!1,reduce:null}}var GC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:em,name:BC,apply:jC,isApplicable:tm,reduce:VC});const WC="autoPhaseCorrection",UC="Automatic phase correction",XC={minRegSize:5,maxDistanceToJoin:128,magnitudeMode:!0,factorNoise:5};function nm(e,t={}){if(!rm(e))throw new Error("phaseCorrection not applicable on this data");return $w(e.data,S(S({},XC),t))}function rm(e){return!!(e.info.isComplex&&!e.info.isFid)}function YC(e,t){let n=Object.assign({},e);for(const r in n)n[r]+=t[r];return{once:!0,reduce:n}}var ZC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:WC,name:UC,apply:nm,isApplicable:rm,reduce:YC});const om="baselineCorrection",KC="Baseline correction",cu={airpls:"airPLS",polynomial:"Polynomial"};function qC(e,t={}){if(!ud(e))throw new Error("baselineCorrection not applicable on this data");const{algorithm:n,zones:r=[]}=t;let{x:o,re:i}=e.data,a;switch(n){case"airpls":a=Iw(o,i,t).corrected;break;case"polynomial":{const s={regressionOptions:t.degree};let c=au({x:o,y:i},{numberOfPoints:4096,zones:r}),l=Dw(c.x,c.y,s),{regression:u}=l;a=new Float64Array(o.length);for(let p=0;p<i.length;p++)a[p]=i[p]-u.predict(o[p])}break;default:throw new Error(`baselineCorrection: algorithm unknown: ${n}`)}Object.assign(e.data,{re:a})}function ud(e){return!e.info.isFid}function JC(){return{once:!1,reduce:null}}var QC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:om,name:KC,baselineAlgorithms:cu,apply:qC,isApplicable:ud,reduce:JC});const uu="centerMean",im="Center Mean";function ek(e){var i;if(!am(e))throw new Error("Center Mean is not applicable on this data");const t=e.data.re.slice(0),n=(i=e.data.im)==null?void 0:i.slice(0),r=Ks.mean(t),o=Ks.mean(n||[]);for(let a=0;a<t.length;a++)t[a]-=r,n&&(n[a]-=o);e.data.re=t,n&&(e.data.im=n)}function am(e){return!!(e.info.isComplex&&!e.info.isFid)}function tk(){return{once:!1,reduce:null}}var nk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:uu,name:im,apply:ek,isApplicable:am,reduce:tk});const du="digitalFilter",rk="Digital Filter";function ok(e,t={}){if(!sm(e))throw new Error("Digital Filter is not applicable on this data");let{digitalFilterValue:n=0}=t,r=new Float64Array(e.data.re),o=new Float64Array(e.data.im),i=Math.floor(n);const a=0;i+=0;const s=new Float64Array(r.length),c=new Float64Array(o.length);s.set(r.slice(i)),s.set(r.slice(a,i),r.length-i),c.set(o.slice(i)),c.set(o.slice(a,i),o.length-i),e.data.re=s,e.data.im=c}function sm(e){return!!(e.info.isComplex&&e.info.isFid)}function ik(){return{once:!0,reduce:void 0}}var ak=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:du,name:rk,apply:ok,isApplicable:sm,reduce:ik});const ta="equallySpaced",lm="Equally Spaced";function sk(e,t={}){if(!cm(e))throw new Error("Equally Spaced is not applicable on this data");const{from:n,to:r,numberOfPoints:o,exclusions:i}=t,{x:a,re:s,im:c}=e.data,l=au({x:a,y:s},{from:n,to:r,numberOfPoints:o,exclusions:i});if(e.data.x=l.x,e.data.re=l.y,c){const u=au({x:a,y:s},{from:n,to:r,numberOfPoints:o,exclusions:i});e.data.im=u.y}}function cm(e){return!!(e.info.isComplex&&!e.info.isFid)}function lk(){return{once:!1,reduce:null}}var ck=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:ta,name:lm,apply:sk,isApplicable:cm,reduce:lk});const ga="exclusionZones",uk="Exclusion Zones";function dk(e,t=[]){if(!um(e))throw new Error("Exclusion Zones filter not applicable on this data");const{x:n,re:r,im:o}=e.data;e.data.re=Xf({x:n,y:r},{zones:t}).y,e.data.im=o&&Xf({x:n,y:r},{zones:t})}function um(e){return!!(e.info.isComplex&&e.info.isFt)}function pk(e,t){return{once:!0,reduce:Nw(e.concat(t))}}var fk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:ga,name:uk,apply:dk,isApplicable:um,reduce:pk});const dm="fft",hk="FFT";function gk(e){if(!dd(e))throw new Error("fft not applicable on this data");let t=e.filters.some(n=>n.name==="digitalFilter"&&n.flag);if(Object.assign(e.data,Lw(e.data,{applyZeroShift:!0})),t){let{digitalFilter:n}=e.info,r=(n-Math.floor(n))*Math.PI*2;Object.assign(e.data,A0(e.data,0,r))}e.data.x=bk(e),e.info=P(S({},e.info),{isFid:!1,isFt:!0})}function dd(e){return!!(e.info.isComplex&&e.info.isFid)}function mk(){return{once:!0,reduce:void 0}}function bk(e){const t=e.info,n=parseFloat(t.baseFrequency),r=parseFloat(t.frequencyOffset),o=parseFloat(t.spectralWidth),i=r/n;let a=.5*o,s=e.data.x.length,c=i-a,l=o/(s-1);const u=new Array(s);for(let p=0;p<s;p++)u[p]=c,c+=l;return u}var vk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:dm,name:hk,apply:gk,isApplicable:dd,reduce:mk});const el="fromTo",pm="From/To";function xk(e,t={}){if(!fm(e))throw new Error("From/To filter not applicable on this data");const{x:n,re:r,im:o}=e.data,{from:i,to:a}=t,{fromIndex:s,toIndex:c}=ua(n,{from:i,to:a});e.data.x=n.slice(s,c),e.data.re=r.slice(s,c),o&&(e.data.im=o.slice(s,c))}function fm(e){return!!(e.info.isComplex&&!e.info.isFid)}function yk(e,t){return{once:!0,reduce:t}}var wk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:el,name:pm,apply:xk,isApplicable:fm,reduce:yk});const hm="lineBroadening",Sk="Line broadening";function Ck(e,t){if(!gm(e))throw new Error("lineBroadening not applicable on this data");let n=e.info.digitalFilter,r;n>0?r=Math.floor(n):r=0;const o=e.data.re,i=e.data.im,a=e.data.x,s=o.length,c=new Float64Array(s),l=new Float64Array(s),u=(a[s-1]-a[0])/(s-1),p=-t*Math.exp(1),f=Math.exp(p*u);let g=Math.exp(p*a[0]);for(let v=0;v<s-r;v++)c[v]=o[v]*g,l[v]=i[v]*g,g=g*f;g=Math.exp(p*a[0]);for(let v=s;v>s-r;v--)c[v]=o[v]*g,l[v]=i[v]*g,g=g*f;e.data=P(S({},e.data),{re:c,im:l})}function gm(e){return!!(e.info.isComplex&&e.info.isFid)}function kk(e,t){return{once:!0,reduce:e+t}}var Ek=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:hm,name:Sk,apply:Ck,isApplicable:gm,reduce:kk});const pu="pareto",mm="Pareto";function _k(e){var r;if(!bm(e))throw new Error("Pareto is not applicable on this data");const t=e.data.re.slice(0),n=(r=e.data.im)==null?void 0:r.slice(0);e.data.re=Yf(t),n&&(e.data.im=Yf(n))}function bm(e){return!!(e.info.isComplex&&!e.info.isFid)}function Tk(){return{once:!1,reduce:null}}var Rk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:pu,name:mm,apply:_k,isApplicable:bm,reduce:Tk});const oo="phaseCorrection",vm="Phase correction";function xm(e,t={}){if(!pd(e))throw new Error("phaseCorrection not applicable on this data");let{ph0:n,ph1:r}=t;n*=Math.PI/180,r*=Math.PI/180,Object.assign(e.data,A0(e.data,n,r))}function pd(e){return!!(e.info.isComplex&&!e.info.isFid)}function Ak(e,t){return{once:!0,reduce:t}}var Pk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:oo,name:vm,apply:xm,isApplicable:pd,reduce:Ak});const ma="shiftX",Mk="Shift X";function Fk(e,t=0){e.data.x=e.data.x.map(n=>n+t)}function Ok(){return!0}function $k(e,t){return{once:!0,reduce:e+t}}var Dk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:ma,name:Mk,apply:Fk,isApplicable:Ok,reduce:$k});const fu="standardDeviation",ym="Standard Deviation";function Ik(e){var i;if(!wm(e))throw new Error("Standard Deviation is not applicable on this data");const t=e.data.re.slice(0),n=(i=e.data.im)==null?void 0:i.slice(0),r=Ks.standardDeviation(t),o=Ks.standardDeviation(n||[]);for(let a=0;a<t.length;a++)t[a]/=r,n&&(n[a]/=o);e.data.re=t,n&&(e.data.im=n)}function wm(e){return!!(e.info.isComplex&&!e.info.isFid)}function Nk(){return{once:!1,reduce:null}}var Lk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:fu,name:ym,apply:Ik,isApplicable:wm,reduce:Nk});const fd="zeroFilling",Sm="Zero Filling";function Hk(e,t){if(!hd(e))throw new Error("zeroFilling not applicable on this data");let n=e.filters.some(v=>v.name==="digitalFilter"&&v.flag),r=e.info.digitalFilter,o;r>0&&n?o=Math.floor(r):o=0;const{re:i,im:a,x:s}=e.data;let c=new Float64Array(t),l=new Float64Array(t),u=new Float64Array(t);const p=Math.min(t,i.length);c.set(i.slice(0,p-o)),l.set(a.slice(0,p-o)),u.set(s.slice(0,p-o));let f=s[1]-s[0],g=s[p-o-1];for(let v=p-o;v<t;v++)g+=f,u[v]=g;o>0&&o<t&&(c.set(i.slice(i.length-o),t-o),l.set(a.slice(i.length-o),t-o)),e.data=P(S({},e.data),{re:c,im:l,x:u})}function hd(e){return!!(e.info.isComplex&&e.info.isFid)}function zk(e,t){return{once:!0,reduce:t}}var Bk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:fd,name:Sm,apply:Hk,isApplicable:hd,reduce:zk});const gd="shift2DX",jk="Shift 2D X";function Vk(e,t=0){e.data.minX+=t,e.data.maxX+=t}function Gk(){return!0}function Wk(e,t){return{once:!0,reduce:e+t}}var Uk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:gd,name:jk,apply:Vk,isApplicable:Gk,reduce:Wk});const md="shift2DY",Xk="Shift 2D Y";function Yk(e,t=0){e.data.minY+=t,e.data.maxY+=t}function Zk(){return!0}function Kk(e,t){return{once:!0,reduce:e+t}}var qk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",id:md,name:Xk,apply:Yk,isApplicable:Zk,reduce:Kk}),jo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",absolute:GC,baselineCorrection:QC,lineBroadening:Ek,fft:vk,phaseCorrection:Pk,autoPhaseCorrection:ZC,shiftX:Dk,zeroFilling:Bk,digitalFilter:ak,fromTo:wk,equallySpaced:ck,standardDeviation:Lk,centerMean:nk,pareto:Rk,exclusionZones:fk,shift2DX:Uk,shift2DY:qk});const Jk="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",Qk=8;function Ge(){let e="";for(let t=0;t<Qk;t++)e+=Jk.charAt(Math.floor(Math.random()*62));return e}function sn(e,t=[]){let n=!1;for(let r of t){const o={name:r.name,label:jo[r.name].name,value:r.options},i=t5(e,r.name);if(i){const a=jo[r.name].reduce(i.value,o.value);a.once?(n||(n=!0),a.reduce!=null&&a.reduce!==void 0&&n5(e,i.id,a.reduce)):th(e,o,Object.prototype.hasOwnProperty.call(r,"isDeleteAllow")?r.isDeleteAllow:!0)}else th(e,o,Object.prototype.hasOwnProperty.call(r,"isDeleteAllow")?r.isDeleteAllow:!0)}if(n)t.length===1&&e5(e,t[0].name)?jo[t[0].name].apply(e,t[0].options):Jo(e);else for(let r of t)jo[r.name].apply(e,r.options)}function e5(e,t){const n=e.filters.findIndex(r=>r.name===t);return e.filters.length===n+1}function t5(e,t){return e.filters.find(n=>n.name===t)}function Jo(e,t=null){const n=t||e.filters;Cm(e,null,null,n)}function Cm(e,t,n,r=null){e.filters=e.filters.slice(0),t&&(e.filters=e.filters.map(i=>P(S({},i),{flag:i.id===t?n:i.flag}),[])),e.data=S(S({},e.data),e.originalData),e.info=S(S({},e.info),e.originalInfo);const o=r||e.filters;for(let i in o){const a=e.filters[i];if(e.filters[i]=P(S({},e.filters[i]),{error:null}),a.flag)try{jo[a.name].apply(e,a.value)}catch(s){e.filters[i]=P(S({},e.filters[i]),{error:s.message})}}}function bd(e,t){e.filters=e.filters.slice(0),e.filters=e.filters.filter(n=>n.id!==t),e.data=S(S({},e.data),e.originalData),e.info=S(S({},e.info),e.originalInfo);for(let n in e.filters){const r=e.filters[n];if(e.filters[n]=P(S({},e.filters[n]),{error:null}),r.flag)try{jo[r.name].apply(e,r.value)}catch(o){e.filters[n]=P(S({},e.filters[n]),{error:o.message})}}}function th(e,t,n=!0){const r=Ge();e.filters=e.filters.slice(0),delete t.isSnapshot,e.filters.push(P(S({},t),{id:r,flag:!0,isDeleteAllow:n}))}function n5(e,t,n){e.filters=e.filters.slice(0);const r=e.filters.findIndex(o=>o.id===t);delete e.filters[r].isSnapshot,e.filters[r]=P(S({},e.filters[r]),{value:n})}const km=["#C10020","#007D34","#803E75","#FF6800","#B32851","#7F180D","#232C16","#A6BDD7","#CEA262","#817066","#FF8E00","#F6768E","#00538A","#FF7A5C","#53377A","#FFB300","#F4C800","#93AA00","#593315","#F13A13"],nh={cosy:{positiveColor:"darkblue",negativeColor:"blue"},roesy:{positiveColor:"#e75480",negativeColor:"yellow"},noesy:{positiveColor:"#e75480",negativeColor:"yellow"},tocsy:{positiveColor:"green",negativeColor:"yellow"},hsqc:{positiveColor:"black",negativeColor:"yellow"},hmbc:{positiveColor:"darkviolet",negativeColor:"yellow"}};function r5(e,t=[]){if(!nh[e]){const n=Em(!1,t),r=o5(n,50);return{positiveColor:n,negativeColor:r}}return nh[e]}function hu(e){const t=Math.max(0,Math.min(100,e)),r=Math.round(t/100*255).toString(16);return t===100?"":r.padStart(2,"0")}function o5(e,t){return e+hu(t)}function Em(e=!1,t=[],n=100){const r=km.filter(o=>!t.includes(o));if(r.length>0&&!e)return r[0]+hu(n);{let i=String(`#${Math.random().toString(16).slice(2,8).toUpperCase()}`).replace(/[^0-9a-f]/gi,"");i.length<6&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]);let a="#",s;for(let c=0;c<3;c++)s=parseInt(i.substr(c*2,2),16),s=Math.round(Math.min(Math.max(0,s+s*-.25),255)).toString(16),a+=`00${s}`.substr(s.length);return a+hu(n)}}function i5(e){return _t({values:[],options:{sum:void 0,isSumConstant:!0,sumAuto:!0}},e.integrals)}function _m(e){const{x:t}=e.data;return(t[t.length-1]-t[0])/1e4}function uo(e){const t=(e==null?void 0:e.filters)&&(e==null?void 0:e.filters.find(n=>n.name===ma));return(t==null?void 0:t.flag)?t.value:0}function a5(e,t,n){var r;for(const{x:o}of((r=t.peaks)==null?void 0:r.values)||[])if(Math.abs(e.x-o)<n)return!0;return!1}function Tm(e,t){const n=uo(t),r=_m(t);return e.reduce((o,i)=>(a5(i,t,r)||o.push({id:(i==null?void 0:i.id)||Ge(),originalX:i.x-n,x:i.x,y:i.y,width:i.width}),o),[])}function s5(e,t){var n;return _t({values:[],options:{}},e.peaks,{values:Tm(((n=e==null?void 0:e.peaks)==null?void 0:n.values)||[],t)})}function l5(e,t,n){var r;for(const{from:o,to:i}of((r=t.ranges)==null?void 0:r.values)||[])if(Math.abs(e.from-o)<n&&Math.abs(e.to-i)<n)return!0}function ui(e,t){const{x:n,re:r}=t.data,o=uo(t),i=_m(t);return e.reduce((a,s)=>{if(l5(s,t,i))return a;const c=li({x:n,y:r},{from:s.from,to:s.to,reverse:!0}),l=s.signals.map(u=>{const v=u,{kind:p=null,id:f}=v,g=he(v,["kind","id"]);return S({kind:p||"signal",id:f||Ge(),originDelta:u.delta-o},g)});return a.push(P(S({},s),{kind:(l==null?void 0:l[0].kind)||Dn.signal,originFrom:s.from-o,originTo:s.to-o,id:s.id||Ge(),absolute:c,signals:l})),a},[])}function c5(e,t){var n;return _t({values:[],options:{sum:void 0,isSumConstant:!0,sumAuto:!0}},e.ranges,{values:ui(((n=e==null?void 0:e.ranges)==null?void 0:n.values)||[],t)})}function nr(e,t={}){var r;const n={};return n.id=e.id||Ge(),n.source=Object.assign({jcampURL:null,file:{binary:null,name:"",extension:""}},e.source),n.display=Object.assign(P(S({name:((r=e.display)==null?void 0:r.name)?e.display.name:Ge()},u5(e,t)),{isVisible:!0,isPeaksMarkersVisible:!0,isRealSpectrumVisible:!0}),e.display),n.info=Object.assign({nucleus:"1H",isFid:!1,isComplex:!1,dimension:1},e.info),n.originalInfo=n.info,n.meta=Object.assign({},e.meta),n.data=Object.assign({x:[],re:[],im:[]},e.data),n.originalData=n.data,n.filters=Object.assign([],e.filters),n.peaks=s5(e,n),n.integrals=i5(e),n.ranges=c5(e,n),Jo(n),d5(n),n}function u5(e,t){let n="black";return(e.display===void 0||e.display.color===void 0)&&(n=Em(!1,t["1d"]||[])),t["1d"]&&t["1d"].push(n),{color:n}}function d5(e){e.info.isFid&&e.filters.findIndex(t=>t.name===du)===-1&&e.info.digitalFilter&&sn(e,[{name:du,options:{digitalFilterValue:e.info.digitalFilter},isDeleteAllow:!1}])}function Rm(e,t,n){const{nucleus:r,solvent:o,name:i=null,frequency:a=400}=t,{x:s,y:c}=P0(e,{frequency:a,nbPoints:524288}),l=nr({data:{x:s,im:null,re:c},display:{name:i},info:{nucleus:r,originFrequency:a,baseFrequency:a,pulseSequence:"",solvent:o,isFt:!0}},n);return l.ranges.values=ui(e,l),l}function p5(e,t){const{ranges:n,experiment:{nucleus:r,solvent:o},parts:i}=Hw(e);return Rm(n,{nucleus:r,solvent:o,name:i[0]},t)}function di(e){const{display:{isRealSpectrumVisible:t},data:{x:n,re:r,im:o}}=e;return{x:n,y:t?r:o}}const to={"1H":{tms:{from:-.1,to:.1,nbPeaks:1,delta:0},tsp:{from:-.1,to:.1,nbPeaks:1,delta:0},glucose:{from:5.18,to:5.28,nbPeaks:2,delta:5.23}},"13C":{}};function f5(e={}){const{nucleus:t="1H",reference:n="tms"}=e;if(!to[t])throw new Error(`Nucleus not found: ${t}`);const r=to[t][n.toLowerCase()];if(!r)throw new Error(`Reference not found: ${n}`);return{from:r.delta-.05,to:r.delta+.05,delta:r.delta,nbPeaks:r.nbPeaks}}function h5(e,t){let{from:n,to:r,nbPeaks:o,targetX:i,reference:a}=t;if(a){let l=f5({reference:a,nucleus:e.nucleus});n=l.from,r=l.to,o=l.nbPeaks,i=l.delta}const{re:s,x:c}=e.data;return g5({x:c,y:s},{from:n,to:r},{nbPeaks:o,targetX:i})}function g5(e,t={},n={}){const{targetX:r=0,nbPeaks:o=1,gsd:i={minMaxRatio:.1,realTopDetection:!0,smoothY:!0,sgOptions:{windowSize:7,polynomial:3}}}=n;let{from:a,to:s}=t;if(a===void 0||s===void 0)return 0;const c=$n(e.x,a),l=$n(e.x,s),u={x:e.x.slice(c,l),y:e.y.slice(c,l)};let p=zw(u,i).sort((g,v)=>v.y-g.y).slice(0,o);if(p.length===0)return 0;const f=Bw(p.map(g=>g.x));return r-f}function m5(e,t){const n=e.integrals.values.findIndex(r=>r.id===t.id);if(n!==-1){const r=e.integrals.values[n].absolute/t.value,{values:o,sum:i}=e.integrals.values.reduce((a,s,c)=>{const l=s.absolute/r;return a.sum+=l,a.values[c]=P(S({},s),{integral:l}),a},{values:[],sum:0});e.integrals.values=o,e.integrals.options=P(S({},e.integrals.options),{mf:void 0,moleculeKey:void 0,sumAuto:!1,sum:i})}}function Am(e){return ha.includes(e.kind)}function rh(e,t,n=null){return e.reduce((r,o)=>n&&n(o)===!0?r+=Math.abs(o[t]):r,0)}function Pm(e,t,n,r=!1){var c;const{values:o,options:i}=e,a=rh(o,"absolute",n);let s=0;if(i.sum){if(e.options.isSumConstant||r)s=a>0?i.sum/a:0;else if((c=e.values)==null?void 0:c[0]){const l=e.values[0];s=(l[t]?l[t]:i.sum)/l.absolute}}e.values=e.values.map(l=>S(S({},l),n(l)&&{[t]:l.absolute*s})),!e.options.isSumConstant&&!r&&(e.options.sum=rh(e.values,t,n))}function pi(e,t=!1){Pm(e.integrals,"integral",Am,t)}function ba(e){return e.info.dimension===1}function b5(e,t){const{minMaxRatio:n,maxNumberOfPeaks:r,noiseFactor:o,lookNegative:i,windowFromIndex:a,windowToIndex:s}=t,c=jw(e.data.re.map(f=>Math.abs(f)));let{re:l,x:u}=e.data;a!==void 0&&s!==void 0&&(u=u.slice(a,s),l=l.slice(a,s));let p=Vw({x:u,y:l},{lookNegative:i,noiseLevel:c*o,minMaxRatio:n,realTopDetection:!0,smoothY:!1,sgOptions:{windowSize:15,polynomial:3}});return p.sort((f,g)=>g.y-f.y),r<p.length&&(p=p.slice(0,r)),Tm(p,e)}function Mm(e,t){const{from:n,to:r}=t;let o=e.x.findIndex(s=>s>=n),i=e.x.findIndex(s=>s>=r)-1;o>i&&(o=i,i=o);const a=e.re.slice(o,i);if(a&&a.length>0){const s=M0(a),c=a.findIndex(u=>u===s);return{x:e.x[o+c],y:s,xIndex:o+c}}return null}function Fm(e){return e.replace(/[0-9]/g,"")}function vd(e,t){let n=S({},e);const{molecules:r,nucleus:o}=t;if(e.sumAuto&&Array.isArray(r)&&r.length>0){const{mf:a,key:s}=r[0];n=P(S({},n),{sumAuto:!0,mf:a,moleculeKey:s})}else{const i=n,{mf:a,moleculeKey:s}=i,c=he(i,["mf","moleculeKey"]);n=P(S({},c),{sumAuto:!1})}return n.sum||(n.sum=Om(n.mf||null,o)),n}function Om(e,t){if(!e||!t)return 100;const r=Fm(t),o=v5(e);return o[r]?o[r]:100}function xd(e,t){const{nucleus:n,options:r}=t;if(r.sumAuto){const{mf:i,moleculeKey:a}=r,s=Om(i,n);e.options=P(S({},e.options),{sumAuto:!0,moleculeKey:a,mf:i,sum:s})}else{const o=e.options,{mf:i,moleculeKey:a}=o,s=he(o,["mf","moleculeKey"]);e.options=P(S({},s),{sumAuto:!1,sum:r.sum})}}function v5(e){const t={},n=e.split(/(\d+)/);for(let r=0;r<n.length-1;r=r+2)t[n[r]]=Number(n[r+1]);return t}function yd(e,t,n){const r=["ranges","integrals"];for(const o of e.data)if(ba(o))for(const i of r){const{moleculeKey:a,mf:s,sumAuto:c}=o[i].options;if((t===a||!a&&!s)&&c){const l=n?{mf:n.mf,moleculeKey:n.key}:{mf:void 0,moleculeKey:void 0};xd(o[i],{nucleus:o.info.nucleus,options:P(S({},l),{sumAuto:!0,sum:void 0})}),Pr(o,!0),pi(o,!0)}}}function x5(e,t){return t===void 0?e.signals?e.signals.reduce((n,r)=>r.nbAtoms?r.nbAtoms+n:n,0):0:e.signals[t].nbAtoms||0}function y5(e,t){e.nbAtoms=x5(e,t),e.nbAtoms===0&&delete e.nbAtoms}function w5(e){delete e.diaIDs,delete e.nbAtoms,e.signals.forEach(t=>{delete t.diaIDs,delete t.nbAtoms}),delete e.nbAtoms}function Yi(e,t="both",n={}){switch(t){case"both":w5(e);break;case"range":delete e.diaIDs,delete e.nbAtoms;break;case"signal":delete e.signals[n.signalIndex].diaIDs,delete e.signals[n.signalIndex].nbAtoms;break}return y5(e),e}function $m(e){return e.kind===Dn.signal}function S5(e,t){return!e.signals.some(n=>n.kind===void 0||!t.includes(n.kind))}function io(e,t){const n=t.reduce((r,o)=>(o.id&&r.push(o.id),o.signals&&(r=r.concat(o.signals.map(i=>i.id,[]))),r),[]);e.dispatch({type:"REMOVE_ALL",payload:{id:n,axis:"x"}})}function C5(e){return e.signals&&S5(e,ha)}function Pr(e,t=!1){Pm(e.ranges,"integration",C5,t)}function k5(e,t){const{from:n,to:r,molecules:o,nucleus:i}=t,{x:a,re:s}=e.data,c=li({x:a,y:s},{from:n,to:r,reverse:!0}),l=NC(a,s,n,r,e.info.originFrequency);if(!!l)try{const u={id:Ge(),from:n,to:r,absolute:c,signals:[S({id:Ge()},l)],kind:Dn.signal,integration:0};e.ranges.options=vd(e.ranges.options,{molecules:o,nucleus:i}),e.ranges.values=e.ranges.values.concat(ui([u],e)),Pr(e)}catch{throw new Error("Could not calculate the multiplicity")}}function E5(e,t){const{from:n,to:r}=t,{x:o,re:i}=e.data,a=e.ranges.values.findIndex(c=>c.id===t.id),s=li({x:o,y:i},{from:n,to:r,reverse:!0});a!==-1&&(e.ranges.values[a]=P(S(P(S({},e.ranges.values[a]),{originFrom:n,originTo:r}),t),{absolute:s}),Pr(e))}function _5(e,t){const n=e.ranges.values.findIndex(r=>r.id===t.id);if(n!==-1&&e.ranges.options.sum){const{absolute:r,integration:o}=e.ranges.values[n],i=r/t.value,a=t.value/o*e.ranges.options.sum;e.ranges.options=P(S({},e.ranges.options),{mf:void 0,moleculeKey:void 0,sumAuto:!1,sum:a}),e.ranges.values=e.ranges.values.map(s=>P(S({},s),{integration:s.absolute/i}))}}function T5(e,t){const{rangeID:n,signalID:r,newSignalValue:o}=t;let i=0;const a=e.ranges.values.findIndex(s=>s.id===n);if(a!==-1){const s=e.ranges.values[a].signals.findIndex(c=>c.id===r);i=o-e.ranges.values[a].signals[s].delta,e.ranges.values[a].signals[s].delta=o}return i}function R5(e,t){const{from:n,to:r}=t,{x:o,re:i}=e.data,a=li({x:o,y:i},{from:n,to:r,reverse:!0}),s=Gw({x:o,y:i},{from:n,to:r}).y,c=Ww({x:o,y:i},{from:n,to:r}).y,l=uo(e);return{id:Ge(),originFrom:n-l,originTo:r-l,from:n,to:r,absolute:a,min:s,max:c}}const A5={minMaxRatio:1,realTopDetection:!0,maxCriteria:!0,smoothY:!1,integrationSum:100,factorStd:5,clean:!0,sgOptions:{windowSize:7,polynomial:3}};function P5(e,t={}){let{re:n,x:r}=e.data;const{originFrequency:o,nucleus:i}=e.info,{windowFromIndex:a,windowToIndex:s,peakPicking:c}=t,l=S(S({},A5),c),u={frequency:o,nucleus:i,compile:!0,frequencyCluster:13,keepPeaks:!0};if(a!==void 0&&s!==void 0&&(r=r.slice(a,s),n=n.slice(a,s)),o){let f=1/o/(r[1]-r[0]),g=Math.max(Math.round(f/2),5);l.sgOptions={windowSize:g-g%2+1,polynomial:3}}return l.smoothY=void 0,l.sgOptions=void 0,Uw({x:r,y:n},{peakPicking:l,ranges:u})}function Dm(e,t){const a=t,{molecules:n,nucleus:r}=a,o=he(a,["molecules","nucleus"]);o.impurities={solvent:e.info.solvent||""};const i=P5(e,o);e.ranges.options=vd(e.ranges.options,{molecules:n,nucleus:r}),e.ranges.values=e.ranges.values.concat(ui(i,e)),Pr(e)}function M5(e,t){e.integrals.values=e.integrals.values.map(n=>P(S({},n),{from:n.originFrom+t,to:n.originTo+t}))}function F5(e,t){e.peaks.values=e.peaks.values.map(n=>{const r=n.originalX+t,o=$n(e.data.x,r);return P(S({},n),{y:e.data.re[o],x:n.originalX+t})})}function O5(e,t){e.ranges.values=e.ranges.values.map(n=>P(S({},n),{from:(n.originFrom||0)+t,to:(n.originTo||0)+t,signals:(n==null?void 0:n.signals)&&n.signals.map(r=>P(S({},r),{delta:(r.originDelta||0)+t}))}))}function fi(e){const t=uo(e);F5(e,t),O5(e,t),M5(e,t)}const Im=20;var we=(e=>(e.DM_1D="1D",e.DM_2D="2D",e))(we||{});const Lr={"2D":{top:100,right:50,bottom:70,left:100},"1D":{top:10,right:10,bottom:70,left:10}};function $5(e,t={},n={}){const{dependentVariables:r,info:o,meta:i,source:a}=e;let s=Nm(r[0].components);return s.im&&(o.isComplex=!0),Array.isArray(o.nucleus)&&(o.nucleus=o.nucleus[0]),nr(P(S({},t),{source:a,info:o,meta:i,data:s}),n)}function D5(e,t={},n={}){let r=e.dimensions[0],o=e.dependentVariables,i=r.quantityName,a=r.count,s=r.increment.magnitude,c=r.originOffset.magnitude,l=r.coordinatesOffset.magnitude,u=o[0].components[0],p=[],f=[];for(let k=u.length-1;k>0;k-=2)p.push(u[k-1]),f.push(u[k]);let g={},v,x;switch(i){case"frequency":x=0+l/c*1e6,v=s/c*1e6,g.re=p,g.im=f;break;case"time":x=c,v=s,g.re=p.reverse(),g.im=f.reverse().map(k=>-k);break}let y=[];for(let k=0;k<a;k++)y.push(x+k*v);return g.x=y,nr(P(S({},t),{data:g}),n)}function I5(e,t,n){const{dependentVariables:r,info:o,meta:i}=e;let a=Nm(r[0].components);return Array.isArray(o.nucleus)&&(o.nucleus=o.nucleus[0]),nr(P(S({},t),{info:o,meta:i,data:a}),n)}function Nm(e){var o,i,a,s,c,l;let t=((i=(o=e[0])==null?void 0:o.data)==null?void 0:i.x)?e[0].data.x:[],n=((s=(a=e[0])==null?void 0:a.data)==null?void 0:s.y)?e[0].data.y:[],r=((l=(c=e[1])==null?void 0:c.data)==null?void 0:l.y)?e[1].data.y:null;return t[0]>t[1]&&(t.reverse(),n.reverse(),r&&r.reverse()),{x:t,re:n,im:r}}function N5(e,t,n){let r=e.info.nucleus.indexOf(t);r===-1&&(r=0);let o={nucleus:e.info.nucleus[r],isFid:!1,isComplex:!1,dimension:1},i=r===0?e.data.minX:e.data.minY,a=r===0?e.data.maxX:e.data.maxY,s=r===0?e.data.z[0].length:e.data.z.length,c=new Float64Array(s);if(r===1)for(let u=0;u<e.data.z.length;u++)for(let p=0;p<e.data.z[0].length;p++)c[u]+=e.data.z[u][p];else for(let u=0;u<e.data.z[0].length;u++)for(const p of e.data.z)c[u]+=p[u];let l={x:su({from:i,to:a},s),re:c};return nr({info:o,data:l},n)}function L5(e,t){const n=e.data,r=(n.maxX-n.minX)/(n.z[0].length-1),o=(n.maxY-n.minY)/(n.z.length-1),i=Math.floor((t.x-n.minX)/r),a=Math.floor((t.y-n.minY)/o);if(i<0||i>=n.z[0].length||a<0||a>=n.z.length)return;let s={nucleus:e.info.nucleus[0],isFid:!1,isComplex:!1,dimension:1},c={x:su({from:e.data.minX,to:e.data.maxX},e.data.z[0].length),re:new Float64Array(e.data.z[0].length)};for(let v=0;v<e.data.z[0].length;v++)c.re[v]+=e.data.z[a][v];let l={nucleus:e.info.nucleus[1],isFid:!1,isComplex:!1,dimension:1},u={x:su({from:e.data.minY,to:e.data.maxY},e.data.z.length),re:new Float64Array(e.data.z.length)},p=e.data.z.length-1;for(let v=0;v<e.data.z.length;v++)u.re[v]+=e.data.z[p--][i];const f=nr({info:s,data:c},{}),g=nr({info:l,data:u},{});return{horizontal:f,vertical:g}}const Lm={positive:{contourLevels:[0,21],numberOfLayers:10},negative:{contourLevels:[0,21],numberOfLayers:10}};class H5{constructor(t,n=Lm,r={positive:10,negative:10}){this.options=n;const{positive:o,negative:i}=r;this.currentLevelPositive=o,this.currentLevelNegative=i;const a=Rc(t.minX,t.maxX,t.z[0].length),s=Rc(t.minY,t.maxY,t.z.length);this.conrec=new Xw(t.z,{xs:a,ys:s,swapAxes:!1}),this.median=t.noise,this.minMax=t}getLevel(){return{levelPositive:this.currentLevelPositive,levelNegative:this.currentLevelNegative}}setLevel(t,n){this.currentLevelPositive=t,this.currentLevelNegative=n}setOptions(t){const n=t.positive.contourLevels,r=t.negative.contourLevels;this.currentLevelPositive>=n[1]?this.currentLevelPositive=n[1]:this.currentLevelPositive<=n[0]&&(this.currentLevelPositive=n[0]),this.currentLevelNegative>=r[1]?this.currentLevelNegative=r[1]:this.currentLevelNegative<=r[0]&&(this.currentLevelNegative=r[0]),this.options=t}wheel(t){const n=Math.sign(t),r=this.options.positive.contourLevels,o=this.options.negative.contourLevels;(this.currentLevelPositive>r[0]&&n===-1||this.currentLevelPositive<r[1]&&n===1)&&(this.currentLevelPositive+=n),(this.currentLevelNegative>o[0]&&n===-1||this.currentLevelNegative<o[1]&&n===1)&&(this.currentLevelNegative+=n)}shiftWheel(t){const n=Math.sign(t),[r,o]=this.options.positive.contourLevels;if(!(this.currentLevelPositive===r&&n===-1||this.currentLevelPositive>=o&&n===1))return this.currentLevelPositive+=n,[]}drawContours(){const t=this.currentLevelPositive/2+1,n=this.currentLevelNegative/2+1,{positive:{numberOfLayers:r},negative:{numberOfLayers:o}}=this.options;return{positive:this.getContours(t,{nbLevels:r}),negative:this.getContours(n,{negative:!0,nbLevels:o})}}getContours(t,n={}){const{negative:r=!1,timeout:o=2e3,nbLevels:i=10}=n,a=Math.max(Math.abs(this.minMax.maxZ),Math.abs(this.minMax.minZ));let s=Rc(this.median*1*Math.pow(2,t),a,i,2);r&&(s=s.map(l=>-l));let c=[];try{c=this.conrec.drawContour({contourDrawer:"basic",levels:s,timeout:o})}catch(l){throw console.log(l),l}return c}}function Rc(e,t,n,r){if(r!==void 0){const o=[];o[0]=0;for(let s=1;s<=n;s++)o[s]=o[s-1]+(r-1)/Math.pow(r,s);const i=o[n],a=new Array(n);for(let s=0;s<n;s++)a[s]=(t-e)*(1-o[s+1]/i)+e;return a}else{const o=(t-e)/(n-1);return z5(e,t+o/2,o)}}function z5(e,t,n){const r=[];for(let o=e;o<t;o+=n)r.push(o);return r}function va(e,t={}){var r;const n={};return n.id=e.id||Ge(),n.source=Object.assign({jcampURL:null},e.source),n.display=Object.assign(P(S({name:((r=e.display)==null?void 0:r.name)?e.display.name:Ge()},B5(e,t)),{isPositiveVisible:!0,isNegativeVisible:!0,isVisible:!0,contourOptions:Lm,dimension:2}),e.display),n.info=Object.assign({nucleus:["1H","1H"],isFt:!0,isFid:!1,isComplex:!1,dimension:2},e.info),n.originalInfo=n.info,n.meta=Object.assign({},e.meta),n.data=Object.assign({z:[],minX:0,minY:0,maxX:0,maxY:0},e.data),n.originalData=n.data,n.filters=Object.assign([],e.filters),n.zones=Object.assign({values:[],options:{}},e.zones),n.processingController=new H5(n.data,n.display.contourOptions),Jo(n),n}function B5(e,t){let n={positiveColor:"red",negativeColor:"blue"};return(e.display===void 0||e.display.negativeColor===void 0||e.display.positiveColor===void 0)&&(n=r5(e.info.experiment,t["2d"]||[])),t["2d"]&&t["2d"].push(n.positiveColor),n}function gu(e){return e.info.dimension===2}function xa(e){let t={xShift:0,yShift:0};return(e==null?void 0:e.filters)&&(t=e.filters.reduce((n,r)=>(r.name===gd&&(n.xShift=(r==null?void 0:r.flag)?r.value:0),r.name===md&&(n.yShift=(r==null?void 0:r.flag)?r.value:0),n),{xShift:0,yShift:0})),t}function ya(e){const{xShift:t,yShift:n}=xa(e);j5(e,{xShift:t,yShift:n})}function j5(e,{xShift:t,yShift:n}){e.zones.values=e.zones.values.map(r=>{var o;return P(S({},r),{signals:(o=r.signals)==null?void 0:o.map(i=>P(S({},i),{x:P(S({},i.x),{delta:i.x.originDelta+t}),y:P(S({},i.y),{delta:i.y.originDelta+n})}))})})}function V5(e,t){return P(S({id:e.id},t===Cr.ROW_DATA||t===Cr.DATA_SOURCE&&!e.source.jcampURL?{data:e.originalData,info:e.originalInfo,meta:e.meta,source:{jcampURL:null}}:{source:{jcampURL:e.source.jcampURL}}),{zones:e.zones,filters:e.filters,display:e.display})}function G5(e,t,n){var o;const r=e.zones.values.findIndex(i=>i.id===t);if(r!==-1){const i=e.zones.values[r].signals.findIndex(s=>s.id===n.id),a=e.zones.values[r];if(i!==-1){const s=a.signals[i],c=(n==null?void 0:n.x)||(n==null?void 0:n.x)===0?n.x-s.x.delta:0,l=(n==null?void 0:n.y)||(n==null?void 0:n.y)===0?n.y-((o=s.y)==null?void 0:o.delta):0;return{xShift:c,yShift:l}}}return{xShift:0,yShift:0}}function Hm(e,t){let n={};return t.selectedZone?(t.enhanceSymmetry=!1,n=U5(e,t.selectedZone)):n=e.data,W5(n,P(S({},t),{info:e.info}))}function W5(e,t){const{thresholdFactor:n,clean:r,maxPercentCutOff:o,convolutionByFFT:i}=t,{nucleus:a,originFrequency:s}=t.info,{enhanceSymmetry:c=a[0]===a[1]}=t;return Yw(e,{nuclei:a,observedFrequencies:s,thresholdFactor:n,clean:r,maxPercentCutOff:o,enhanceSymmetry:c,convolutionByFFT:i})}function U5(e,t){const{fromX:n,toX:r,fromY:o,toY:i}=t,a=e.data,s=(a.maxX-a.minX)/(a.z[0].length-1),c=(a.maxY-a.minY)/(a.z.length-1);let l=Math.max(Math.floor((n-a.minX)/s),0),u=Math.max(Math.floor((o-a.minY)/c),0),p=Math.min(Math.floor((r-a.minX)/s),a.z[0].length-1),f=Math.min(Math.floor((i-a.minY)/c),a.z.length-1);l>p&&([l,p]=[p,l]),u>f&&([u,f]=[f,u]);let g={z:[],maxX:a.minX+p*s,minX:a.minX+l*s,maxY:a.minY+f*c,minY:a.minY+u*c},v=Number.MIN_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,y=p-l+1;for(let w=u;w<f;w++){let k=new Float32Array(y),_=l;for(let R=0;R<y;R++)k[R]=a.z[w][_++];for(let R of k)v<R&&(v=R),x>R&&(x=R);g.z.push(Array.from(k))}return g.minZ=x,g.maxZ=v,g}function zm(e,t){const n=Hm(e,t),{xShift:r,yShift:o}=xa(e),{minX:i,maxX:a,minY:s,maxY:c}=e.data,l=Math.abs(a-i)/1e4,u=Math.abs(c-s)/1e4;return n.reduce((f,g)=>{const v=g.x||{from:0,to:0},x=g.y||{from:0,to:0};for(const{x:w,y:k}of e.zones.values)if(Math.abs(v.from-w.from)<l&&Math.abs(v.to-w.to)<l&&Math.abs(x.from-k.from)<u&&Math.abs(x.to-k.to)<u)return f;const y=g.signals.map(w=>({id:Ge(),peaks:w.peaks,x:S({originDelta:w.x.delta-r},w.x),y:S({originDelta:w.y.delta-o},w.y),kind:"signal"}));return f.push({id:Ge(),x:{from:v.from,to:v.to},y:{from:x.from,to:x.to},signals:y,kind:Dn.signal}),f},[])}function X5(e,t){const n=Hm(e,t),{xShift:r,yShift:o}=xa(e);return n.map(a=>{const s=a.signals.map(c=>({id:Ge(),peaks:c.peaks,x:S({originDelta:c.x.delta-r},c.x),y:S({originDelta:c.y.delta-o},c.y),kind:c.kind||"signal"}));return{id:Ge(),x:a.x,y:a.y,signals:s,kind:Dn.signal}},[])}function Y5(e,t,n){const{dependentVariables:r,info:o,meta:i}=e;let a=r[0].components;return va(P(S({},t),{info:o,meta:i,data:a}),n)}function Z5(e,t={},n={}){const{dependentVariables:r,meta:o,source:i}=e;let a=r[0].components;return va(P(S({},t),{source:i,meta:o,data:a}),n)}function K5(e,t={},n={}){return va({},n)}function tl(e,t){return JSON.parse(JSON.stringify(e),function(r,o){if(r in t){this[t[r]]=o;return}return o})}function q5(e){if((e==null?void 0:e.version)===1)return e;const t=P(S({},e),{version:1}),n={j:"js",signal:"signals",integral:"integration",peak:"peaks",diaID:"diaIDs"};for(const r of t.spectra)r.ranges?r.ranges=tl(r.ranges,n):r.zones&&(r.zones=tl(r.zones,n));return t}function J5(e){if((e==null?void 0:e.version)===2)return e;const t=P(S({},e),{version:2}),n={peaks:{delta:"x",originDelta:"originalX",intensity:"y"},ranges:{atomIDs:"atoms",intensity:"y"}};for(const r of t.spectra)r.peaks?r.peaks=tl(r.peaks,n.peaks):r.ranges?r.ranges=tl(r.ranges,n.ranges):r.zones&&(r.zones.values=Q5(r.zones.values));return t}function Q5(e){return e.map(t=>(t.signals&&(t.signals=t.signals.map(n=>{if(n.x&&n.y){const r=n,{x:o}=r,i=o,{fromTo:l}=i,u=he(i,["fromTo"]),{y:a}=r,s=a,{fromTo:p}=s,f=he(s,["fromTo"]);n=P(S({},n),{x:S(S({},u),l),y:S(S({},f),p)})}else{const c=n,{fromTo:l,deltaX:u,resolutionX:p,nucleusX:f,deltaY:g,resolutionY:v,nucleusY:x,shiftX:y,shiftY:w}=c,k=he(c,["fromTo","deltaX","resolutionX","nucleusX","deltaY","resolutionY","nucleusY","shiftX","shiftY"]);n=P(S({},k),{x:{from:l[0].from,to:l[0].to,delta:u,resolution:p,nucleus:f},y:{from:l[1].from,to:l[1].to,delta:g,resolution:v,nucleus:x}})}return n},[])),t),[])}const Bm=2;function e3(e){return t=>e.reduce((n,r)=>r(n),t)}function oh(e){let t=[q5,J5],n=(e==null?void 0:e.version)||0;if(n>Bm)throw new Error("This file can not be imported using the current NMRium version, Please move to the new one !!! ");return e3(t.slice(n))(e)}const t3=/^(?:[A-Z][a-z]?\d* *)+$/;function jm(e){if(!t3.test(e))throw Error(`MF can not be parsed: ${e}`);const t={},n=e.matchAll(/(?<atom>[A-Z][a-z]?)(?<number>[0-9]*)/g);for(const r of n){const{atom:o,number:i}=r.groups;t[o]||(t[o]=0),t[o]+=i===""?1:Number(i)}return t}function nl(e={}){const t=e.key||Ge(),n=e.molfile||"",r=Un.Molecule.fromMolfile(n),o=r.getMolecularFormula();return{key:t,molfile:n,mf:o.formula,em:o.absoluteWeight,mw:o.relativeWeight,svg:r.toSVG(50,50),atoms:jm(o.formula)}}function n3(e){return{molfile:e.molfile}}var Cr=(e=>(e.ROW_DATA="ROW_DATA",e.DATA_SOURCE="DATA_SOURCE",e))(Cr||{});function r3(e,t,n,r){return fetch(t).then(o=>o.arrayBuffer()).then(o=>{Vm(e,o,n,r)})}function Vm(e,t,n,r){n=n||{};const o=Kw(t,{noContour:!0,xy:!0,keepRecordsRegExp:/.*/,profiling:!0});if(o.length!==0)for(let i of o){let{dependentVariables:a}=i;a[0].components&&(a[0].components.length>0||a[0].components.z.length)&&o3(e,i,n,r)}}function o3(e,t,n,r){const o=t.info.dimension;o===1&&e.push(I5(t,n,r)),o===2&&e.push(Y5(t,n,r))}function i3(e,t,n){const r=t.info.dimension;r===1&&e.push(nr(t,n)),r===2&&e.push(va(t,n))}function a3(e,t,n={},r={}){let o=qw(t);o=o[0];let i=o.description,a=i.metadata;delete i.metadata,i.acquisitionMode=0,i.experiment=i.dimension===1?"1d":"2d",i.type="NMR SPECTRUM",i.nucleus=i.nucleus[0],i.numberOfPoints=i.numberOfPoints[0],i.acquisitionTime=i.acquisitionTime[0],i.baseFrequency=i.baseFrequency[0],i.frequencyOffset=i.frequencyOffset[0],i.spectralWidthClipped=o.application.spectralWidthClipped,i.dimension===1&&o.dependentVariables&&e.push(D5(o,P(S({},n),{display:S({},n.display),info:i,meta:a}),r)),i.dimension===2&&i.isFt&&e.push(K5(o,P(S({},n),{display:S({},n.display),info:i}),r))}async function ih(e=[],t={}){var o;const n=[];let r=[];for(let i of e)((o=i==null?void 0:i.source)==null?void 0:o.jcampURL)!=null?r.push(r3(n,i.source.jcampURL,i,t)):i3(n,i,t);return await Promise.all(r),n}async function Gm(e,t,n){const r=[];let i=await Zw(t,{xy:!0,noContours:!0,keepOriginal:!0});for(let a of i){let{info:s,dependentVariables:c}=a;s.dimension===1?c[0].components&&r.push($5(a,P(S({},e),{display:S({},e.display)}),n)):s.dimension===2&&s.isFt&&r.push(Z5(a,P(S({},e),{info:s,display:S({},e.display)}),n))}return r}function s3(e,t){const n=[];for(const r of e)a3(n,r.binary,{display:{name:r.name},source:{jcampURL:r.jcampURL?r.jcampURL:null,file:r}},t);return n}function Wm(e,t){const n=[];for(const r of e)Vm(n,r.binary,{display:{name:r.name},source:{jcampURL:r.jcampURL?r.jcampURL:null,file:r}},t);return n}function l3(e){const{activeTab:t,verticalAlign:{align:n}}=e;return S({activeTab:t},e.displayerMode===we.DM_1D?{verticalAlign:n}:{})}function ah(e,t="DATA_SOURCE"){const{data:n,molecules:r,correlations:o,multipleAnalysis:i,toolOptions:{data:{exclusionZones:a}}}=e||{data:[],molecules:[],correlations:{},multipleAnalysis:{},exclusionZones:{}},s=n.map(u=>u.info.dimension===1?c3(u,t):V5(u,t)),c=l3(e),l=r.map(u=>n3(u));return{spectra:s,molecules:l,correlations:o,multipleAnalysis:i,exclusionZones:a,version:Bm,preferences:c}}function c3(e,t){return P(S({id:e.id,display:e.display},t===Cr.ROW_DATA||t===Cr.DATA_SOURCE&&!e.source.jcampURL?{data:e.originalData,info:e.originalInfo,meta:e.meta,source:{jcampURL:null}}:{source:{jcampURL:e.source.jcampURL}}),{peaks:e.peaks,integrals:e.integrals,ranges:e.ranges,filters:e.filters})}const Um={frequency:400,"1d":{"1H":{from:-1,to:12},"13C":{from:-5,to:220},nbPoints:2**17,lineWidth:1},"2d":{nbPoints:{x:1024,y:1024}},spectra:{proton:!0,carbon:!0,cosy:!0,hsqc:!0,hmbc:!0}},Xm=[{key:1,value:60,label:"60 MHz"},{key:2,value:100,label:"100 MHz"},{key:3,value:200,label:"200 MHz"},{key:4,value:300,label:"300 MHz"},{key:5,value:400,label:"400 MHz"},{key:6,value:500,label:"500 MHz"},{key:7,value:600,label:"600 MHz"},{key:8,value:800,label:"800 MHz"},{key:9,value:1e3,label:"1000 MHz"},{key:10,value:1200,label:"1200 MHz"}],u3="https://nmr-prediction.service.zakodium.com";async function d3(e){const t=Un.Molecule.fromMolfile(e);return Jw(t,{predictOptions:{C:{webserviceURL:`${u3}/v1/predict/carbon`}}})}function p3(e,t){const n=[],r="#593315";for(const o in e)if(t.spectra[o]){const i=e[o];switch(o){case"proton":case"carbon":{const a=f3({spectrum:i,inputOptions:t,experiment:o,color:r});n.push(a);break}case"cosy":case"hsqc":case"hmbc":{const a=g3({spectrum:i,inputOptions:t,experiment:o,color:r});n.push(a);break}}}return n}function f3(e){const{spectrum:t,inputOptions:n,experiment:r,color:o}=e,{signals:i,ranges:a,nucleus:s}=t,{"1d":{nbPoints:c},frequency:l}=n,u=Ym(s,l),{x:p,y:f}=Qw(i,P(S({},n["1d"][s]),{frequency:u,nbPoints:c})),g=nr({data:{x:p,im:null,re:f},display:{color:o},info:{nucleus:s,originFrequency:u,baseFrequency:u,pulseSequence:"prediction",solvent:"",experiment:r,isFt:!0}},[]);return g.ranges.values=ui(a,g),pi(g),g}function h3(e){return e.reduce((t,n)=>{const a=n,{signals:r}=a,o=he(a,["signals"]),i=r.reduce((s,c)=>{const g=c,{x:l,y:u,id:p}=g,f=he(g,["x","y","id"]);return s.push(S({id:p||Ge(),kind:"signal",x:P(S({},l),{originDelta:l.delta||0}),y:P(S({},u),{originDelta:u.delta||0})},f)),s},[]);return t.push(P(S({id:Ge()},o),{signals:i,kind:Dn.signal})),t},[])}function g3(e){const{spectrum:t,inputOptions:n,experiment:r,color:o}=e,{signals:i,zones:a,nuclei:s}=t,c=n["1d"][s[0]],l=n["1d"][s[1]],u=m3(s),p=Ym(s,n.frequency),f=eS(i,{from:{x:c.from,y:l.from},to:{x:c.to,y:l.to},nbPoints:{x:n["2d"].nbPoints.x,y:n["2d"].nbPoints.y},width:u}),g=va({data:P(S({},f),{noise:.01}),display:{positiveColor:r==="hmbc"?"#e68337":o},info:{nucleus:s,originFrequency:p,baseFrequency:p,pulseSequence:r,experiment:"2d"}},[]);return g.zones.values=h3(a),g}function m3(e){return e[0]===e[1]?.03:{x:.03,y:.32}}function Ym(e,t){return typeof e=="string"?e==="13C"?t*.25:t:e[0]===e[1]?`${t},${t}`:`${t},${t*.25}`}const wd=[{key:"outOfLimit",color:"red"},{key:"ambiguousAttachment",color:"orange"},{key:"notAttached",color:"blue"},{key:"incomplete",color:"red"}],b3=wd.map(e=>e.key),Zm={C:.25,H:.02,N:.25,F:.25,Si:.25,P:.25},K={zoom:{id:"zoom",label:"Zoom",hasOptionPanel:!1,isFilter:!1},peakPicking:{id:"peakPicking",label:"Peaks Picking",hasOptionPanel:!0,isFilter:!1},integral:{id:"integral",label:"integral Tool",hasOptionPanel:!1,isFilter:!1},zone2D:{id:"zone2D",label:"Zone Tool",hasOptionPanel:!0,isFilter:!1},slicingTool:{id:"slicingTool",label:"Slicing Tool",hasOptionPanel:!1,isFilter:!1},HMove:{id:"HMove",label:"Move spectrum horizontally",hasOptionPanel:!1,isFilter:!1},equalizerTool:{id:"equalizerTool",label:"Equalizer Tool",hasOptionPanel:!1,isFilter:!1},rangesPicking:{id:"rangesPicking",label:"Ranges Picking",hasOptionPanel:!0,isFilter:!1},zeroFilling:{id:fd,label:Sm,hasOptionPanel:!0,isFilter:!0},phaseCorrection:{id:oo,label:vm,hasOptionPanel:!0,isFilter:!0},baseLineCorrection:{id:"baseLineCorrection",label:"baseline correction",hasOptionPanel:!0,isFilter:!0},generalSelector:{id:"generalSelector",label:"range general selector",hasOptionPanel:!1,isFilter:!1},editRange:{id:"editRange",label:"edit range",hasOptionPanel:!1,isFilter:!1},multipleSpectraAnalysis:{id:"multipleSpectraAnalysis",label:"Multiple Spectra Analysis",hasOptionPanel:!1,isFilter:!1},exclusionZones:{id:"exclusionZones",label:"Exclusion Zones",hasOptionPanel:!1,isFilter:!1},databaseRangesSelection:{id:"databaseRangesSelection",label:"Filter Database",hasOptionPanel:!1,isFilter:!1}};function v3(e,t){let n=[];const{baseFrequency:r=500}=t;for(const o of e){const{jCoupling:i,delta:a,diaIDs:s=[],multiplicity:c,integration:l}=o,u=x3({delta:a,js:i,frequency:r});if(i&&c&&i.length===c.length){i.sort((p,f)=>f-p);for(let p=0;p<i.length;p++)i[p].multiplicity=c[p]}n.push(P(S({},u),{integration:l,signals:[{js:i,delta:a,diaIDs:s,multiplicity:c}]}))}t.ranges.values=ui(y3(n),t)}function x3(e={}){const{delta:t,js:n=[],frequency:r}=e;let o=.5;for(let i of n)o+=i.coupling;return o/=r,{from:t-o,to:t+o}}function y3(e){e.sort((t,n)=>t.from-n.from);for(let t=0;t<e.length-1;t++)e[t].to>e[t+1].from&&(e[t].to=Math.max(e[t+1].to,e[t].to),e[t].signals=e[t].signals.concat(e[t+1].signals),e[t].integration+=e[t+1].integration,e.splice(t+1,1),t--);return e}const w3=["y","x"];function S3(e,t){let n=[];const r=xa(t),{baseFrequency:o}=t.info,i={x:o[0],y:o[1]};for(const a of e){let s={x:{},y:{},id:Ge(),kind:"signal"},c={id:Ge(),kind:"signal",peaks:[]},l={x:10,y:10};for(let u of w3){let{coupling:p=[],delta:f,diaIDs:g=[]}=a[u];for(let v of p)l[u]+=v.coupling;if(a.activeCoupling){const{activeCoupling:v=[]}=a;for(let x of v)l[u]+=x.coupling}l[u]/=i[u],s[u]={from:f-l[u],to:f+l[u]},c[u]={delta:f,diaIDs:g,originDelta:f-r[`${u}Shift`]}}n.push(P(S({},s),{signals:[c]}))}t.zones.values=n}async function C3(e,t){const r=await new Ko().loadAsync(e.binary),o=await E3(r.files),i=await tS.toJSON({sdf:o[0],zipFiles:r.files});let{spectra:a,molecules:s=[]}=i,c={spectra:[],molecules:s};for(const l of a){const{file:u,jcampURL:p}=l.source;let f=await k3(u,{jcampURL:p},t)||[];for(const g of f){const{info:v}=g;v.isFid||(v.dimension>1?S3(l.signals,g):v3(l.signals,g))}c.spectra.push(...f)}return c}async function k3(e,t={},n={}){const{xy:r=!0,noContours:o=!0,keepOriginal:i=!0,jcampURL:a}=t;switch(e.extension){case"jdx":case"dx":return Wm([e],n);case"zip":return Gm({xy:r,noContours:o,keepOriginal:i},e.binary,n);default:if(!a)return}}async function E3(e){let t=[];for(const n in e){const r=n.split("/");if(/^[^.].+sdf$/.exec(r[r.length-1])){const o=r[r.length-1].replace(/\.sdf/,""),i=r.slice(0,r.length-1).join("/"),a=await e[n].async("string");let s=nS(`${a}`,{mixedEOL:!0});s.filename=o,s.root=i!==""?`${i}/`:"",t.push(s)}}return t}function dn(e,t,n){const r=e.find(o=>o.id===t);if(!(r&&n===!0&&r.display.isVisible===!1))return r}function Km(e,t){for(let n of e.ranges.values){const r=n.signals.findIndex(o=>o.id===t);if(r>=0)return n.signals[r]}}function na(e,t){for(let n of e.zones.values){const r=n.signals.findIndex(o=>o.id===t);if(r>=0)return n.signals[r]}}function Sd(e,t){for(let n of e.ranges.values)if(n.signals.findIndex(o=>o.id===t)>=0)return n}function rl(e,t){for(let n of e.zones.values)if(n.signals.findIndex(o=>o.id===t)>=0)return n}function Cd(e,t,n,r){const o=dn(e,t,r);if(o){if(o.info.dimension===1){const i=Sd(o,n);if(i)return i.id}else if(o.info.dimension===2){const i=rl(o,n);if(i)return i.id}}}function ao(e,t=null){const{width:n,margin:r,xDomains:o,xDomain:i,mode:a}=e,s=a==="RTL"?[n-r.right,r.left]:[r.left,n-r.right];return Vn(t?o[t]:i,s)}function ol(e,t=null){const{height:n,margin:r,verticalAlign:o,yDomain:i,yDomains:a}=e,s=o.align==="center"?(n-30)/2:n-r.bottom-30;let c=[];return t===null||a[t]===void 0?c=[0,i[1]]:c=[0,a[t][1]],Vn(c,[s,r.top])}function _3(e){const{height:t,margin:n,verticalAlign:r,integralsYDomains:o,activeSpectrum:i}=e,a=r.align==="center"?t/2:t;return Vn((i==null?void 0:i.id)&&o&&o[i==null?void 0:i.id]?o[i==null?void 0:i.id]:[0,0],[a*.3,n.top+a*.1])}function po(e,t){const{startX:n,endX:r}=t,o=ao(e),i=o.invert(n),a=o.invert(r),s=[0,0];return i>a?(s[0]=a,s[1]=i):(s[0]=i,s[1]=a),s}function Mr(e){return typeof e=="string"?e:e.join(",")}function T3(e){let t=e.data.filter(n=>Mr(n.info.nucleus)===e.activeTab&&n.info.dimension===1);if(e.activeSpectrum){const n=t.findIndex(r=>{var o;return r.id===((o=e.activeSpectrum)==null?void 0:o.id)});if(n!==-1){const r=t[n].info.isFid||!1;t=t.filter(o=>o.info.isFid===r)}}else t=t.filter(n=>n.info.isFid===!1);return t}function qm(e){let t=[],n=[],r={},o={};const i=T3(e);try{t=i.reduce((a,s)=>{const{display:c,data:l}=s,u=[l.x[0],l.x[l.x.length-1]];return o[s.id]=u,c.isVisible&&(a=a.concat(u)),a},[]),n=i.reduce((a,s)=>{const{display:c}=s,l=di(s),u=wr(l.y);return r[s.id]=u,c.isVisible&&(a=a.concat(u)),a},[])}catch(a){console.log(a)}return{xDomain:wr(t),yDomain:wr(n),yDomains:r,xDomains:o}}function R3(e){let t=[],n=[],r={},o={};const{activeTab:i,tabActiveSpectrum:a,data:s}=e,c=i.split(",");try{t=s.reduce((p,f)=>{var g;return gu(f)&&((g=f.info.nucleus)==null?void 0:g.join(","))===i&&f.info.isFt&&(p=p.concat([f.data.minX,f.data.maxX])),p},[]),n=s.reduce((p,f)=>{var g;return gu(f)&&((g=f.info.nucleus)==null?void 0:g.join(","))===i&&f.info.isFt&&(p=p.concat([f.data.minY,f.data.maxY])),p},[])}catch(p){console.log(p)}const l=c.map(p=>{var f;return(f=a[p])==null?void 0:f.id}),u=s.reduce((p,f)=>l.includes(f.id)&&f.info.dimension===1?p.concat(f):p.concat([]),[]);try{o=u.reduce((p,f)=>{const{x:g}=f.data,v=[g[0],g[g.length-1]];return p[f.id]=v,p},{}),r=u.reduce((p,f)=>{const g=wr(f.data.re);return p[f.id]=g,p},{})}catch(p){console.log(p)}return{xDomain:wr(t),yDomain:wr(n),yDomains:r,xDomains:o}}function ut(e,t){const{yDomain:n={isChanged:!0,isShared:!0}}=t||{};let r;e.activeTab&&(e.displayerMode===we.DM_1D?r=qm(e):r=R3(e),e.xDomain=r.xDomain,e.xDomains=r.xDomains,e.originDomain=r,n.isChanged?(e.yDomain=r.yDomain,e.displayerMode===we.DM_1D&&n.isShared?e.yDomains=Object.keys(r.yDomains).reduce((o,i)=>(o[i]=r.yDomain,o),{}):e.yDomains=r.yDomains):e.originDomain=P(S({},e.originDomain),{xDomain:r.xDomain,xDomains:r.xDomains}))}function A3(e){const{integrals:t,ranges:n}=e;let r=Number.NEGATIVE_INFINITY;for(const o of t.values)r=Math.max(r,o.absolute);for(const o of n.values)r=Math.max(r,o.absolute);return[0,r]}function Fl(e,t){var n;for(const r of Array.isArray(t)?t:[t])((n=r==null?void 0:r.info)==null?void 0:n.dimension)===1&&(e.integralsYDomains[r.id]=A3(r))}function P3(e,t){e.originDomain=t}function M3(e,t){e.xDomain=t}function F3(e,t){e.yDomain=t}function O3(e){const{xDomain:t,yDomain:n,xDomains:r,yDomains:o}=e.originDomain;e.xDomain=t,e.yDomain=n,e.xDomains=r,e.yDomains=o}function Yn(e){var n;const t=e.data.filter(r=>e.xDomains[r.id]&&Mr(r.info.nucleus)===e.activeTab);e.mode=((n=t[0])==null?void 0:n.info.isFid)?"LTR":"RTL"}function $3(e,t){const{activeSpectrum:n,data:r,xDomain:o,molecules:i,activeTab:a}=e;if(n==null?void 0:n.id){const{index:s}=n,c=r[s],[l,u]=o,p=$n(c.data.x,l),f=$n(c.data.x,u),g=S({factorStd:8,integrationSum:100,compile:!0,frequencyCluster:16,clean:!0,keepPeaks:!0},t);Dm(c,P(S({},g),{windowFromIndex:p,windowToIndex:f,molecules:i,nucleus:a})),Fr(e),Fl(e,c)}}function D3(e){const t={factorStd:8,minMaxRatio:.05,integrationSum:100,compile:!0,frequencyCluster:16,clean:!0,keepPeaks:!0},{data:n,activeTab:r,molecules:o}=e;for(const i of n)i.info.dimension===1&&(Dm(i,{peakPicking:t,molecules:o,nucleus:r}),Fr(e))}function wa(e,t,n){return e.data[t].ranges.values.findIndex(r=>r.id===n)}function I3(e,t){var n;if((n=e.activeSpectrum)==null?void 0:n.id){const{index:r}=e.activeSpectrum,{id:o=null,assignmentData:i}=t.payload.data,a=e.data[r];if(o){const s=wa(e,r,o);io(i,[a.ranges.values[s]]),a.ranges.values.splice(s,1)}else io(i,a.ranges.values),a.ranges.values=[];Pr(a),Fr(e)}}function N3(e,t){var r;const n=ct(e);if((r=n.activeSpectrum)==null?void 0:r.id){const{index:o}=n.activeSpectrum,{rowData:i,value:a}=t.payload.data,s=wa(n,o,i.id),c=e.data[o].ranges.values[s];(c==null?void 0:c.signals)&&(c.signals[i.tableMetaInfo.signalIndex].kind=a,c.kind=ha.includes(a)?Dn.signal:Dn.mixed,Pr(e.data[o]),Fr(e))}}function L3(e,t){var r;const n=ct(e);if((r=n.activeSpectrum)==null?void 0:r.id){const{index:o}=n.activeSpectrum,{editedRowData:i,assignmentData:a}=t.payload;e.toolOptions.data.tempRange=null;const s=Yi(i);delete s.tableMetaInfo,delete s.rowKey,io(a,[s]);const c=wa(n,o,s.id);e.data[o].ranges.values[c]=s,Pr(e.data[o]),Fr(e)}}function Jm(e,t){const{spectrum:n,range:r,signal:o,assignmentData:i,unlinkSignalInAssignmentData:a=!0}=t.payload;if(n&&r){const s=e.data.find(p=>p.id===n.id),c=s.ranges.values.findIndex(p=>p.id===r.id),l=r.signals.findIndex(p=>p.id===o.id),u=Yi(gn(r),"signal",{signalIndex:l});a===!0&&io(i,[{signals:[o]}]),u.signals.splice(l,1),s.ranges.values[c]=u,u.signals.length===0&&(io(i,[u]),s.ranges.values.splice(c,1)),Fr(e)}}function Qm(e,t){var n;if((n=e.activeSpectrum)==null?void 0:n.id){const{index:r}=e.activeSpectrum,{assignmentData:o,rangeData:i=null,signalIndex:a=-1}=t.payload;if(i){const s=wa(e,r,i.id),c=gn(e.data[r].ranges.values[s]);let l={},u=i.id;i&&a===-1?l=Yi(c,"range"):(l=Yi(c,"signal",{signalIndex:a}),u=i.signals[a].id),io(o,[{id:u}]),e.data[r].ranges.values[s]=l}else{const s=e.data[r].ranges.values.map(c=>Yi(c));e.data[r].ranges.values=s,io(o,s)}}}function H3(e,t){var n;if((n=e.activeSpectrum)==null?void 0:n.id){const{index:r}=e.activeSpectrum,{rangeData:o,diaIDs:i,signalIndex:a,nbAtoms:s}=t.payload,c=(p,f=0)=>p+f,l=wa(e,r,o.id),u=e.data[r].ranges.values[l];a===void 0?(u.diaIDs=i,u.nbAtoms=c(s,u.nbAtoms)):(u.signals[a].diaIDs=i,u.signals[a].nbAtoms=c(s,u.signals[a].nbAtoms))}}function z3(e,t){var n;if((n=e.activeSpectrum)==null?void 0:n.id){const{index:r}=e.activeSpectrum;E5(e.data[r],t.data)}}function B3(e,t){const{data:n,activeSpectrum:r,activeTab:o}=e;if(r==null?void 0:r.id){const{index:i}=r,a=n[i];xd(a.ranges,{options:t,nucleus:o}),Pr(a,!0)}}function j3(e,t){const{startX:n,endX:r}=t.payload,{activeSpectrum:o,activeTab:i,molecules:a}=e,s=po(e,{startX:n,endX:r});if(o==null?void 0:o.id){const{index:c}=o,[l,u]=s;k5(e.data[c],{from:l,to:u,nucleus:i,molecules:a}),Fr(e),Fl(e,e.data[c])}}function V3(e,t){var r;const n=t.payload.data;if((r=e.activeSpectrum)==null?void 0:r.id){const{index:o}=e.activeSpectrum;_5(e.data[o],n)}}function G3(e,t){var i;const{rangeID:n,signalID:r,value:o}=t.payload;if((i=e.activeSpectrum)==null?void 0:i.id){const{index:a}=e.activeSpectrum,s=T5(e.data[a],{rangeID:n,signalID:r,newSignalValue:o});sn(e.data[a],[{name:ma,options:s}]),fi(e.data[a]),Fr(e),ut(e)}}function Fr(e){Ol(e)}function W3(e,t){var r;const n=t.payload;if((r=e.activeSpectrum)==null?void 0:r.id){const{index:o}=e.activeSpectrum;e.data[o].ranges.options.isSumConstant=!n}}function U3(e,t){e.toolOptions.data.tempRange=t.payload.tempRange}function X3(e){e.toolOptions.data.showMultiplicityTrees=!e.toolOptions.data.showMultiplicityTrees}function Y3(e){e.toolOptions.data.showRangesIntegrals=!e.toolOptions.data.showRangesIntegrals}function Z3(e){e.toolOptions.data.showJGraph=!e.toolOptions.data.showJGraph}function K3(e,t){return e.signals?e.signals.reduce((n,r)=>r[t].nbAtoms?n+r[t].nbAtoms:n,0):0}function Ac(e,t){e[t].nbAtoms=K3(e,t),e[t].nbAtoms===0&&delete e[t].nbAtoms}function sh(e,t){return delete e[t].diaIDs,delete e[t].nbAtoms,e.signals.forEach(n=>{delete n[t].diaIDs,delete n[t].nbAtoms}),e}function q3(e){return e.kind===Dn.signal}function il(e,t,n,r){return t!==void 0&&r!==void 0?(t===!0?(delete e[r].diaIDs,delete e[r].nbAtoms):typeof n=="number"&&n!==-1&&e.signals[n]&&(delete e.signals[n][r].diaIDs,delete e.signals[n][r].nbAtoms),Ac(e,r)):r!==void 0?(sh(e,r),Ac(e,r)):["x","y"].forEach(o=>{sh(e,o),Ac(e,o)}),e}function Qo(e,t,n){const r=t.reduce((o,i)=>(i.id&&o.push(i.id),i.signals&&(o=o.concat(i.signals.map(a=>a.id,[]))),o),[]);n?e.dispatch({type:"REMOVE_ALL",payload:{id:r,axis:n}}):(e.dispatch({type:"REMOVE_ALL",payload:{id:r,axis:"x"}}),e.dispatch({type:"REMOVE_ALL",payload:{id:r,axis:"y"}}))}const Ne={TOP_1D:"TOP_1D",LEFT_1D:"LEFT_1D",CENTER_2D:"CENTER_2D"};function J3({width:e,height:t,margin:n}){return{CENTER_2D:{startX:n.left,startY:n.top,endX:e-n.right,endY:t-n.bottom},TOP_1D:{startX:n.left,startY:0,endX:e-n.right,endY:n.top},LEFT_1D:{startX:0,startY:n.top,endX:n.left,endY:t-n.bottom}}}function Vo(e,t){for(const n of Object.keys(e))if(t.startX>=e[n].startX&&t.startX<=e[n].endX&&t.startY>=e[n].startY&&t.startY<=e[n].endY)return n;return null}function on(e){const{width:t,margin:n,xDomain:r}=e;return Vn(r,[t-n.right,n.left])}function Nt(e,t=!1){const{height:n,margin:r,yDomain:o}=e;return Vn(o,t?[n-r.bottom,r.top]:[r.top,n-r.bottom])}function ei(e,t,n=10){return Vn(e,[t-n,n])}function Q3(e,t){const{startX:n,startY:r,endX:o,endY:i}=t,a=on(e),s=Nt(e),c=n*1e6>o*1e6?o:n,l=n*1e6>o*1e6?n:o,u=r*1e6>i*1e6?i:r,p=r*1e6>i*1e6?r:i,f=s.invert(u),g=a.invert(c),v=s.invert(p),x=a.invert(l);return{fromX:g,fromY:f,toX:x,toY:v}}function eE(e,t){e.toolOptions.data.zonesNoiseFactor=t.payload}function tE(e,t){var n;if((n=e.activeSpectrum)==null?void 0:n.id){const{index:r}=e.activeSpectrum,o=Q3(e,t),i=e.data[r],a=X5(ct(i),{selectedZone:o,thresholdFactor:e.toolOptions.data.zonesNoiseFactor,convolutionByFFT:!1});i.zones.values=i.zones.values.concat(a),ir(e)}}function nE(e,t){var n;if((n=e.activeSpectrum)==null?void 0:n.id){const{index:r}=e.activeSpectrum,[o,i]=e.xDomain,[a,s]=e.yDomain;t.selectedZone={fromX:o,toX:i,fromY:a,toY:s};const c=e.data[r],l=zm(ct(c),t);c.zones.values=c.zones.values.concat(l),ir(e)}}function rE(e){for(const t of e.data)if(t.info.dimension===2){const{minX:n,maxX:r,minY:o,maxY:i}=t.data,a={selectedZone:{fromX:n,toX:r,fromY:o,toY:i},thresholdFactor:1},s=zm(ct(t),a);t.zones.values=t.zones.values.concat(s),ir(e)}}function oE(e,t){var o;const{zoneID:n,signal:r}=t.payload;if((o=e.activeSpectrum)==null?void 0:o.id){const{index:i}=e.activeSpectrum,{xShift:a,yShift:s}=G5(e.data[i],n,r);let c=[];a!==0&&c.push({name:gd,options:a}),s!==0&&c.push({name:md,options:s}),sn(e.data[i],c),ya(e.data[i]),ut(e),ir(e)}}function Sa(e,t,n){return e.data[t].zones.values.findIndex(r=>r.id===n)}function iE(e,t){var r;const n=ct(e);if((r=n.activeSpectrum)==null?void 0:r.id){const{index:o}=n.activeSpectrum,{rowData:i,value:a}=t.payload,s=Sa(n,o,i.id),c=e.data[o].zones.values[s];c.signals[i.tableMetaInfo.signalIndex].kind=a,c.kind=ha.includes(a)?Dn.signal:Dn.mixed,ir(e)}}function aE(e,t){var r;const n=ct(e);if((r=n.activeSpectrum)==null?void 0:r.id){const{index:o}=n.activeSpectrum,{id:i,assignmentData:a}=t.payload;if(i){const s=e.data[o].zones.values.find(l=>l.id===i);Qo(a,[s||{}]);const c=Sa(n,o,i);e.data[o].zones.values.splice(c,1)}else Qo(a,e.data[o].zones.values),e.data[o].zones.values=[];ir(e)}}function eb(e,t){const{spectrum:n,zone:r,signal:o,assignmentData:i,unlinkSignalInAssignmentData:a=!0}=t.payload;if(n&&r){const s=e.data.find(p=>p.id===n.id),c=s.zones.values.findIndex(p=>p.id===r.id),l=r.signals.findIndex(p=>p.id===o.id),u=il(gn(r),!1,l,void 0);a===!0&&Qo(i,[{signals:[o]}],void 0),u.signals.splice(l,1),s.zones.values[c]=u,u.signals.length===0&&(Qo(i,[u]),s.zones.values.splice(c,1)),ir(e)}}function sE(e,t){const{spectrum:n,zone:r,signal:o,pathLength:i}=t.payload;if(n&&r){const a=e.data.find(u=>u.id===n.id),s=a.zones.values.findIndex(u=>u.id===r.id),c=r.signals.findIndex(u=>u.id===o.id),l=il(gn(r),!1,c,void 0);l.signals[c].j=P(S({},l.signals[c].j),{pathLength:i}),a.zones.values[s]=l,ir(e)}}function tb(e,t){var r;const n=ct(e);if((r=n.activeSpectrum)==null?void 0:r.id){const{index:o}=n.activeSpectrum,{zoneData:i=null,assignmentData:a,isOnZoneLevel:s=void 0,signalIndex:c=-1,axis:l=void 0}=t.payload;if(i){const u=Sa(n,o,i.id),p=gn(e.data[o].zones.values[u]),f=il(p,s,c,l);Qo(a,[{id:i.signals[c].id}],l),e.data[o].zones.values[u]=f}else{const u=e.data[o].zones.values.map(p=>il(p));e.data[o].zones.values=u,Qo(a,u)}}}function lE(e,t){var r;const n=ct(e);if((r=n.activeSpectrum)==null?void 0:r.id){const{index:o}=n.activeSpectrum,{zoneData:i,diaIDs:a,axis:s,signalIndex:c,nbAtoms:l}=t.payload,u=(g,v=0)=>g+v,p=Sa(n,o,i.id),f=e.data[o].zones.values[p];c===void 0?(f[s].diaIDs=a,f[s].nbAtoms=u(l,f[s].nbAtoms)):(f.signals[c][s].diaIDs=a,f.signals[c][s].nbAtoms=u(l,f.signals[c][s].nbAtoms))}}function cE(e,t){var r;const n=ct(e);if((r=n.activeSpectrum)==null?void 0:r.id){const{index:o}=n.activeSpectrum,{editedRowData:i}=t.payload;delete i.tableMetaInfo;const a=Sa(n,o,i.id);e.data[o].zones.values[a]=i,i.signals&&i.signals.forEach(s=>{var c;rS(e.correlations.values,s.id,(c=s.j)==null?void 0:c.pathLength)}),ir(e)}}function ir(e){Ol(e)}function Ol(e){const{data:t,correlations:n}=e;e.correlations=da(t,P(S({},n.options),{values:gn(n.values)}))}function uE(e,t){const n=ct(e),{data:r,correlations:o}=n,{mf:i}=t;(o.options.mf===""||o.options.mf!==i)&&(e.correlations=da(r,P(S({},o.options),{mf:i,values:gn(o.values)})))}function dE(e,t){const n=ct(e),{data:r,correlations:o}=n,{tolerance:i}=t;e.correlations=da(r,P(S({},o.options),{tolerance:i,values:gn(o.values)}))}function pE(e,t){const n=ct(e),{correlations:r}=n,{id:o,correlation:i,options:a}=t;e.correlations=F0(r,o,i),a&&(e.correlations=P(S({},e.correlations),{options:S(S({},e.correlations.options),a)})),Ol(e)}function fE(e,t){const{correlations:n,options:r}=t,o=ct(e);let i=gn(o.correlations);n.forEach(a=>{i=F0(i,a.id,a)}),e.correlations=i,r&&(e.correlations=P(S({},e.correlations),{options:S(S({},e.correlations.options),r)})),Ol(e)}function hE(e,t){const{correlation:n,assignmentData:r}=t;n.link.forEach(o=>{const i=dn(e.data,o.experimentID,!1);if(i){if(i.info.dimension===1){const a=Sd(i,o.signal.id),s=Km(i,o.signal.id);Jm(e,{payload:{spectrum:i,range:a,signal:s,assignmentData:r}})}else if(i.info.dimension===2){const a=rl(i,o.signal.id),s=na(i,o.signal.id);eb(e,{payload:{spectrum:i,zone:a,signal:s,assignmentData:r}})}}})}const Zi={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL",STEP_HORIZONTAL:"STEP_HORIZONTAL",FULL:"FULL"};function Rs(e,t,n={}){const{factor:r=1,invert:o=!1}=n,a=(Math.abs(e.deltaY)<100?e.deltaY*100:e.deltaY)*(o?-.001:.001)*r,s=a<0?-1/(a-1):1+a,[c,l]=t;return[c*s,l*s]}function no(e,t={}){const{height:n,margin:r,activeSpectrum:o}=e,{scale:i=1,spectrumID:a=null}=t;if(o===null&&a===null){const{shareYDomain:s,yDomain:c,yDomains:l}=e.originDomain;e.yDomains=Object.keys(e.yDomains).reduce((u,p)=>{const f=Vn(s?c:l[p],[n-r.bottom,r.top]),[g,v]=s?c:l[p],y=Math.max(Math.abs(v),Math.abs(g))===v?0:g,k=Zf.translate(0,(Math.sign(y)>=0,f(y))).scale(i).translate(0,-f(0)).rescaleY(f).domain();return u[p]=k,u},{})}else{const s=a||(o==null?void 0:o.id);if(s){const c=Vn(e.originDomain.yDomains[s],[n-r.bottom,r.top]),u=Zf.translate(0,c(0)).scale(i).translate(0,-c(0)).rescaleY(c).domain();e.yDomains=P(S({},e.yDomains),{[s]:u})}}}function gE(e,t){const{ranges:n,info:r}=t.payload,o=Rm(n,r,e.usedColors);e.data.push(o),ut(e,{yDomain:{isShared:!1}}),no(e,{scale:.8,spectrumID:o.id})}function mE(e,t){e.width=t}function bE(e,t,n){e.width=t,e.height=n}function kd(e,t){return t.filter(n=>Mr(n.info.nucleus)===e)}function $l(e,t){!e[t]&&!Array.isArray(e[t])&&(e[t]=[]);const n=vE(e[t]),r=xE(e[t]),o=yE(e[t]),i=()=>e[t]=[];return{historyStack:e[t],push:n,pop:r,getLast:o,clear:i}}function vE(e){return t=>{e.push(t)}}function xE(e){return()=>e.pop()?e[e.length-1]:null}function yE(e){return()=>e.length===0?null:e[e.length-1]}function lh(e){const t=e.split(",");return t.reduce((n,r)=>{const o=t.length===2?100:0;return n+=Number(r.replace(/\D/g,""))+o,n},0)}function Dl(e){return(t,n=!1)=>{const r=t.reduce((o,i)=>{const a=i.info[e];return o[a]=(o[a]||[]).concat(i),o},{});return n?Object.keys(r).sort((o,i)=>lh(o)-lh(i)).reduce((o,i)=>(o[i]=r[i],o),{}):r}}function kr(e,t){var n;if(e.data&&e.data.length>0){let r=[];switch(["auto-check","stack"].includes(t.align||"")&&(r=e.data.filter(o=>o.info.nucleus===(t==null?void 0:t.activeTab)?t.activeTab:e.activeTab&&o.info.dimension===1)),t.align){case"auto-check":case"bottom":case"center":{if(t.align==="center"||t.align==="auto-check"&&((n=r[0])==null?void 0:n.info.isFid)&&!r.some(o=>o.info.isFid===!1)){const o=e.height/2;e.verticalAlign.align="center",e.verticalAlign.verticalShift=o}else e.verticalAlign.align="bottom",e.verticalAlign.verticalShift=Im;break}case"stack":{e.verticalAlign.align="stack";const o=r.filter(i=>i.display.isVisible===!0);e.verticalAlign.verticalShift=Math.floor((e.height-e.margin.bottom)/(o.length+2));break}default:return}}}function wE(e,t){const{activeTab:n,data:r,activeSpectrum:o,zoom:i,xDomain:a,xDomains:s,yDomain:c,yDomains:l,originDomain:u,margin:p,displayerMode:f,tabActiveSpectrum:g}=e;if(n){const x=Dl("nucleus")(r),y=f===we.DM_2D?x[n].reduce((w,k)=>(w[k.id]=k.processingController.getLevel(),w),{}):null;e.keysPreferences[t]={activeTab:n,activeSpectrum:o,displayerMode:f,tabActiveSpectrum:g,zoom:i,xDomain:a,xDomains:s,yDomain:c,yDomains:l,originDomain:u,level:y,margin:p,data:x[n].reduce((w,k)=>(w[k.id]={display:{color:k.display.color,isVisible:k.display.isVisible,isPeaksMarkersVisible:k.display.isPeaksMarkersVisible}},w),{})}}}function SE(e,t){const n=e.keysPreferences[t];if(n)if(e.activeTab=n.activeTab,e.data.forEach((r,o)=>{Mr(r.info.nucleus)===n.activeTab&&(e.data[o].display=Object.assign(gn(r.display),n.data[r.id].display))}),e.displayerMode=n.displayerMode,e.tabActiveSpectrum=n.tabActiveSpectrum,e.activeSpectrum=n.activeSpectrum,e.margin=n.margin,ut(e),e.xDomain=n.xDomain,e.xDomains=n.xDomains,e.yDomain=n.yDomain,e.originDomain=n.originDomain,e.yDomains=n.yDomains,e.displayerMode===we.DM_2D)for(const r of Object.keys(n.level)){const{levelPositive:o,levelNegative:i}=n.level[r],a=e.data.findIndex(c=>c.id===r),s=e.data[a].processingController;s.setLevel(o,i),e.contours[r]=s.drawContours()}else e.zoom=n.zoom}function CE(e){const{activeSpectrum:t,data:n}=e;if(t){const r=n[t==null?void 0:t.index].data,o=oS(r.re),i=r.re.findIndex(a=>a===o);return{xValue:r.x[i],yValue:o,index:i}}}function kE(e,t){var r;const n=(r=e.activeSpectrum)==null?void 0:r.id;if(t===oo){const o=Il(e,oo,{rollback:!0,searchBy:"name",returnCurrentDatum:!0});e.tempData=O0(e).data,o&&(e.tempData[o==null?void 0:o.index]=o==null?void 0:o.datum);const{xValue:i,index:a}=CE(e)||{xValue:0,index:0};e.toolOptions.data.pivot={value:i,index:a}}else if(e.toolOptions.selectedTool===K.phaseCorrection.id){e.toolOptions.data.activeFilterID=null;const o=e.data.findIndex(i=>i.id===n);e.data[o].data=e.tempData[o].data}}function al(e,t=!0){e.toolOptions.data.tempRange=null,Ed(e,null),t&&(e.toolOptions.selectedTool=K.zoom.id),e.toolOptions.data.baseLineZones=[],e.toolOptions.data.activeFilterID&&Il(e),e.tempData&&(e.tempData=null,ut(e))}function Nn(e,t=!1){(e.toolOptions.selectedTool&&K[e.toolOptions.selectedTool].isFilter||!t)&&al(e)}function EE(e,t){const{selectedTool:n}=t.payload;(e==null?void 0:e.data.length)>0&&(n?(n===K.editRange.id?e.toolOptions.data.tempRange=t.payload.tempRange:e.toolOptions.data.tempRange=null,n!==e.toolOptions.selectedTool&&al(e,!1),e.toolOptions.selectedTool=n,K[n].hasOptionPanel&&Ed(e,n),K[n].isFilter&&kE(e,n)):al(e,!1),nb(e))}function Ed(e,t){e.toolOptions.selectedOptionPanel=t}function _E(e){const t=["stack","center"].includes(e.verticalAlign.align)?"bottom":"center";kr(e,{align:t})}function TE(e){const t=e.verticalAlign.align==="stack"?"bottom":"stack";kr(e,{align:t})}function RE(e,{from:t,to:n}){const r=ao(e);let o=r.invert(t);const i=r.invert(n);let a=[];o>i?a=[i,o]:a=[o,i];const s=e.toolOptions.data.baseLineZones.slice();s.push({id:Ge(),from:a[0],to:a[1]}),e.toolOptions.data.baseLineZones=s}function AE(e,t){const n=ct(e);e.toolOptions.data.baseLineZones=n.toolOptions.data.baseLineZones.baseLineZones.filter(r=>r.id!==t)}function PE(e){if(e.activeSpectrum!=null){const{index:t}=e.activeSpectrum;e.data[t].display.isRealSpectrumVisible=!e.data[t].display.isRealSpectrumVisible,ut(e)}}function ME(e,t){const n=e.displayerMode===we.DM_2D,r=ao(e),o=n?Nt(e):ol(e),i=r.invert(t.startX),a=r.invert(t.endX),s=o.invert(t.startY),c=o.invert(t.endY),l=i>a?[a,i]:[i,a],u=s>c?[c,s]:[s,c],p=$l(e.zoom.history,e.activeTab);if(e.displayerMode===we.DM_2D){switch(t.trackID){case Ne.CENTER_2D:e.xDomain=l,e.yDomain=u;break;case Ne.TOP_1D:e.xDomain=l;break;case Ne.LEFT_1D:e.yDomain=u;break}p&&p.push({xDomain:e.xDomain,yDomain:e.yDomain})}else e.xDomain=l,p&&p.push({xDomain:l,yDomain:u})}function FE(e,t){var n;if((n=e.activeSpectrum)==null?void 0:n.id){const o=ao(e).invert(t),i=e.data[e.activeSpectrum.index],a=$n(i.data.x,o);e.toolOptions.data.pivot={value:o,index:a}}}function OE(e,t){const n=e.tabActiveSpectrum[e.activeTab.split(",")[t]];return(n==null?void 0:n.id)?n.id:null}function $E(e,t){const{event:n,trackID:r,selectedTool:o}=t,{activeSpectrum:i,toolOptions:{data:{showRangesIntegrals:a}},displayerMode:s}=e;if(s===we.DM_2D){const c=r===Ne.TOP_1D?0:r===Ne.LEFT_1D?1:null;if(c!==null){const l=OE(e,c);if(l){const u=e.yDomains[l];e.yDomains[l]=Rs(n,u)}}}else if(i==null?void 0:i.id)if((a||o===K.integral.id)&&n.shiftKey){const c=e.integralsYDomains[i==null?void 0:i.id];e.integralsYDomains[i==null?void 0:i.id]=Rs(n,c)}else{const c=e.yDomains[i==null?void 0:i.id];e.yDomains[i==null?void 0:i.id]=Rs(n,c)}else{const c=kd(e.activeTab,e.data);for(const l of c){const u=e.yDomains[l.id];e.yDomains[l.id]=Rs(n,u)}}}function DE(e,t){if((e==null?void 0:e.data.length)>0){const{zoomType:n,trackID:r}=t,o=$l(e.zoom.history,e.activeTab);if(e.displayerMode===we.DM_1D)switch(n){case Zi.HORIZONTAL:{e.xDomain=e.originDomain.xDomain,o.clear();break}case Zi.VERTICAL:no(e,{scale:.8});break;case Zi.STEP_HORIZONTAL:{const i=o.pop();e.xDomain=i?i.xDomain:e.originDomain.xDomain,no(e,{scale:.8});break}default:{e.xDomain=e.originDomain.xDomain,no(e,{scale:.8});break}}else{const{xDomain:i,yDomain:a,yDomains:s}=e.originDomain;if([Ne.TOP_1D,Ne.LEFT_1D,Ne.CENTER_2D].includes(r)){const c=o.pop();e.xDomain=c?c.xDomain:i,e.yDomain=c?c.yDomain:a}else o.clear(),e.xDomain=i,e.yDomain=a,e.yDomains=s}}}function ch(e,t){const n=e.activeTab.split(","),r=e.tabActiveSpectrum[n[t]];return(r==null?void 0:r.id)&&!e.data[r.index].info.isFid}function nb(e){if(e.displayerMode===we.DM_2D&&e.toolOptions.selectedTool!==K.slicingTool.id){const t=ch(e,0)?Lr["2D"].top:Lr["1D"].top,n=ch(e,1)?Lr["2D"].left:Lr["1D"].left;e.margin=P(S({},Lr["2D"]),{top:t,left:n})}else e.toolOptions.selectedTool===K.slicingTool.id?e.margin=Lr["2D"]:e.displayerMode===we.DM_1D&&(e.margin=Lr["1D"])}function IE(e,t){if(e.displayerMode===we.DM_2D){let n={};for(const r of t[e.activeTab])n[r.id]=r.processingController.drawContours();e.contours=n}}function NE(e,t){e.displayerMode=t&&t.some(n=>n.info.dimension===2)?we.DM_2D:we.DM_1D}function LE(e,t){let n=[];const r={},o=Object.keys(t).sort((i,a)=>i.split(",").length>a.split(",").length?-1:1);for(let i of o){const a=t[i],s=i.split(",").length;if(s===2&&n.push(i),a.length===1){const c=e.data.findIndex(l=>l.id===a[0].id);r[i]={id:a[0].id,index:c}}else{const c=t[i],l=c.length;if(l>=2){const u=c.filter(p=>!p.info.isFid);if(u.length>0&&(s===2||s===1&&l!==u.length)){const p=e.data.findIndex(f=>f.id===u[0].id);r[i]={id:u[0].id,index:p}}else r[i]=null}else r[i]=null}}return e.tabActiveSpectrum=r,n}function rb(e,t,n,r=!1){const o=Object.keys(t).sort((i,a)=>i.split(",").length>a.split(",").length?-1:1);if(JSON.stringify(o)!==JSON.stringify(Object.keys(e.tabActiveSpectrum))||r){const i=LE(e,t);i.length>0&&n==null?(e.activeSpectrum=e.tabActiveSpectrum[i[0]],e.activeTab=i[0]):(e.activeSpectrum=n&&e.tabActiveSpectrum[n],e.activeTab=n)}else e.activeTab=n,e.activeSpectrum=e.tabActiveSpectrum[n];NE(e,t[e.activeTab]),nb(e)}function Zn(e,t){const{tab:n=null,refreshActiveTab:r=!1,domainOptions:o={}}=t||{},a=Dl("nucleus")(e.data),s=Object.keys(a),c=!n||!s.includes(n||"")?s[0]:n;rb(e,a,c,r),al(e),IE(e,a),ut(e,o),Fl(e,a[c]);const u=$l(e.zoom.history,e.activeTab).getLast();u&&(e.xDomain=u.xDomain,e.yDomain=u.yDomain),Yn(e)}function HE(e,t){t&&Zn(e,{tab:t})}function zE(e,{deltaY:t,shiftKey:n}){var r;try{if((r=e.activeSpectrum)==null?void 0:r.id){const{index:o,id:i}=e.activeSpectrum,a=e.data[o].processingController;n?a.shiftWheel(t):a.wheel(t);const s=Object.freeze(a.drawContours());e.contours[i]=s}}catch(o){console.log(o)}}function BE(e){e.displayerMode===we.DM_1D&&(e.originDomain.shareYDomain=!1,no(e,{scale:.8}))}function jE(e){e.originDomain.shareYDomain=!0,e.yDomains=e.originDomain.yDomains,e.yDomain=e.originDomain.yDomain,no(e,{scale:.8})}function VE(e,t){var n,r;if((n=e.activeSpectrum)==null?void 0:n.id){const o=(r=e.activeSpectrum)==null?void 0:r.index;sn(e.data[o],[{name:ma,options:t}]),fi(e.data[o]),Nn(e),ut(e)}}function GE(e,t){var n;if((n=e.activeSpectrum)==null?void 0:n.id){const r=e.activeSpectrum.index,o=[{name:fd,options:t.zeroFillingSize},{name:hm,options:t.lineBroadeningValue}];sn(e.data[r],o),Nn(e),ut(e),Yn(e)}}function WE(e){var t;if((t=e.activeSpectrum)==null?void 0:t.id){const{index:n}=e.activeSpectrum;sn(e.data[n],[{name:dm,options:{}}]),Nn(e),kr(e,{align:"bottom"}),ut(e),Yn(e)}}function UE(e,t){var n;if((n=e.activeSpectrum)==null?void 0:n.id){const{index:r}=e.activeSpectrum,{ph0:o,ph1:i}=t;sn(e.data[r],[{name:oo,options:{ph0:o,ph1:i}}]),Nn(e),e.tempData=null,ut(e)}}function XE(e){var t;if((t=e.activeSpectrum)==null?void 0:t.id){const{index:n}=e.activeSpectrum;sn(e.data[n],[{name:em,options:{}}]),Nn(e),e.tempData=null,ut(e)}}function YE(e){var t;if((t=e.activeSpectrum)==null?void 0:t.id){const{index:n}=e.activeSpectrum,{ph0:r,ph1:o}=nm(e.data[n]);sn(e.data[n],[{name:oo,options:{ph0:r,ph1:o}}]),Nn(e),e.tempData=null,ut(e)}}function ZE(e,t){if(e.activeSpectrum){const{index:n}=e.activeSpectrum,{data:{x:r,re:o,im:i},info:a}=e.data[n],{ph0:s,ph1:c}=t;let l={data:{x:r,re:o,im:i},info:a};xm(l,{ph0:s,ph1:c});const{im:u,re:p}=l.data;e.tempData[n].data.im=u,e.tempData[n].data.re=p}}function KE(e,t,n){var r,o,i;if((r=e.activeSpectrum)==null?void 0:r.id){const{index:a}=e.activeSpectrum;Cm(e.data[a],t,n),((o=e.data[a].info)==null?void 0:o.dimension)===1?fi(e.data[a]):((i=e.data[a].info)==null?void 0:i.dimension)===2&&ya(e.data[a]),Nn(e),ut(e),Yn(e);const c=$l(e.zoom.history,e.activeTab).getLast();c&&(e.xDomain=c.xDomain,e.yDomain=c.yDomain)}}function qE(e,t){var r,o,i;const n=t.payload.id;if((r=e.activeSpectrum)==null?void 0:r.id){const{index:a}=e.activeSpectrum;bd(e.data[a],n),((o=e.data[a].info)==null?void 0:o.dimension)===1?fi(e.data[a]):((i=e.data[a].info)==null?void 0:i.dimension)===2&&ya(e.data[a]),Nn(e),ut(e),Yn(e)}}function JE(e,t){var r,o;const n=t.payload.filterType;if(e.activeTab){for(const i of e.data)Mr((r=i==null?void 0:i.info)==null?void 0:r.nucleus)===e.activeTab&&(((o=i.filters)==null?void 0:o.filter(s=>s.name===n))||[]).forEach(s=>{var c,l;bd(i,s.id),((c=i.info)==null?void 0:c.dimension)===1?fi(i):((l=i.info)==null?void 0:l.dimension)===2&&ya(i)});Nn(e),ut(e),Yn(e)}}function QE(e,t){var n;if((n=e.activeSpectrum)==null?void 0:n.id){const{index:r}=e.activeSpectrum;sn(e.data[r],[{name:om,options:S({zones:e.toolOptions.data.baseLineZones},t.options)}]),e.toolOptions.data.baseLineZones=[];const o=e.xDomain.slice();Nn(e),ut(e),e.xDomain=o}}function Il(e,t=null,n={},r=null){var u,p,f,g;const{updateDomain:o=!0,rollback:i=!1,searchBy:a="id",returnCurrentDatum:s=!1}=n;let c=null;const l=r||e.activeSpectrum;if(l==null?void 0:l.id){const v=l.index,x=e.data[v];if(t&&e.toolOptions.data.activeFilterID!==t){const y=x.filters.findIndex(k=>k[a]===t);let w=[];if(y!==-1&&(w=x.filters.slice(0,i?y:y+1),w.length>1?e.toolOptions.data.activeFilterID=(u=x.filters[i?y-1:y])==null?void 0:u.id:e.toolOptions.data.activeFilterID=null,Jo(x,w),s)){const{name:k,value:_}=x.filters[y],R=O0(e).data[v];((p=R.info)==null?void 0:p.dimension)===1&&sn(R,[{name:k,options:_}]),c={datum:R,index:v}}}else e.toolOptions.data.activeFilterID=null,Jo(x);((f=x.info)==null?void 0:f.dimension)===1?fi(x):((g=x.info)==null?void 0:g.dimension)===2&&ya(x),o&&(ut(e),Yn(e))}if(s)return c}function e_(e,t){Il(e,t.id)}function t_(e,t){var r;const n=kd(e.activeTab,e.data);if(n&&n.length>0&&Array.isArray(t.payload)){const o=((r=n[0].filters.find(i=>i.name===ga))==null?void 0:r.value)||[];for(const i of n){const a=t.payload.map(s=>s.name===ta?P(S({},s),{options:P(S({},s.options),{exclusions:o})}):s);sn(i,a)}}ut(e)}function n_(e,t){var a,s;const{from:n,to:r}=t.payload,o=po(e,{startX:n,endX:r});let i;if((a=e.activeSpectrum)==null?void 0:a.id){const c=(s=e.activeSpectrum)==null?void 0:s.index;i=[e.data[c]]}else i=kd(e.activeTab,e.data);for(const c of i)sn(c,[{name:ga,options:[{id:Ge(),from:o[0],to:o[1]}]}]);ut(e)}function r_(e,t){const{id:n,spectrumID:r}=t.payload,o=e.data.findIndex(a=>a.id===r),i=e.data[o].filters.find(a=>a.name===ga);i&&(i.value.length===1?bd(e.data[o],i.id):(i.value=i.value.filter(a=>a.id!==n),Jo(e.data[o])))}function o_(e,t){e.overDisplayer=t.payload}function i_(e){const{past:t,present:n,future:r}=e.history,o=t[t.length-1],i=t.slice(0,t.length-1),a=[n,...r],s=a.length!==0,c=t.length!==0,l=qm(e.data),u={past:i,present:o,future:a,hasRedo:s,hasUndo:c};e.xDomain=l.xDomain,e.yDomain=l.yDomain,e.originDomain=l,e.history=u}function a_(e){const{history:t}=e,n=t.future.shift();t.past.push(t.present),t.present=n,t.hasUndo=!0,t.hasRedo=t.future.length>0,ut(e.data)}function s_(e,t){e.history={past:[],present:t,future:[],hasRedo:!1,hasUndo:!1}}function l_(e,t){const{data:n,activeSpectrum:r,activeTab:o}=e;if(r==null?void 0:r.id){const{index:i}=r,a=n[i];xd(a.integrals,{options:t,nucleus:o}),pi(a,!0)}}function c_(e,t){const{startX:n,endX:r}=t,{data:o,molecules:i,activeTab:a,activeSpectrum:s}=e,[c,l]=po(e,{startX:n,endX:r});if(s==null?void 0:s.id){const u=o[s.index],{x:p,re:f}=u.data,g=uo(u),v={id:Ge(),originFrom:c-g,originTo:l-g,from:c,to:l,absolute:li({x:p,y:f},{from:c,to:l,reverse:!0}),kind:"signal"};u.integrals.values.push(v),u.integrals.options=vd(u.integrals.options,{molecules:i,nucleus:a}),pi(u),Fl(e,u)}}function u_(e,t){if(e.activeSpectrum){const n=ct(e),{index:r}=e.activeSpectrum,{integralID:o}=t,i=e.data[r];if(o==null)i.integrals.values=[];else{const a=n.data[r].integrals.values.findIndex(s=>s.id===o);i.integrals.values.splice(a,1),pi(i)}}}function uh(e,t){var o;const n=ct(e),r=t.payload.data;if((o=e.activeSpectrum)==null?void 0:o.id){const{index:i}=e.activeSpectrum,a=n.data[i],s=e.data[i],{x:c,re:l}=a.data,u=a.integrals.values.findIndex(p=>p.id===r.id);u!==-1&&(s.integrals.values[u]=P(S({originFrom:r.from,originTo:r.to},r),{absolute:li({x:c,y:l},{from:r.from,to:r.to,reverse:!0})}),pi(s))}}function d_(e,t){var r;const n=t.payload.data;if((r=e.activeSpectrum)==null?void 0:r.id){const{index:o}=e.activeSpectrum;m5(e.data[o],n)}}function p_(e,t){var r;const n=t.payload;if((r=e.activeSpectrum)==null?void 0:r.id){const{index:o}=e.activeSpectrum;e.data[o].integrals.options.isSumConstant=!n}}function f_(e=[]){const t=[];for(const n of e){const o=Un.Molecule.fromMolfile(n.molfile).getFragments();for(let i of o)t.push(nl({molfile:i.toMolfileV3()}))}return t}function ob(e,t){let r=Un.Molecule.fromMolfile(t).getFragments();for(let o of r)e.push(nl({molfile:o.toMolfileV3()}))}function h_(e,t,n){let o=Un.Molecule.fromMolfile(t).getFragments();if(o.length>1){e=e.filter(i=>i.key!==n);for(let i of o)e.push(nl({molfile:i.toMolfileV3()}))}else if(o.length===1){const i=o[0],a=nl({molfile:i.toMolfileV3(),key:n});let s=e.findIndex(c=>c.key===n);e.splice(s,1,a)}}function ib(e){e.activeSpectrum=null,e.activeTab="",e.tabActiveSpectrum={}}function g_(e,t){e.isLoading=t}function ab(e,t){e.usedColors["1d"]=e.usedColors["1d"].concat(t["1d"]),e.usedColors["2d"]=e.usedColors["2d"].concat(t["2d"])}function _d(e,t){const{spectra:n,molecules:r,correlations:o,usedColors:i}=t||{spectra:[],molecules:[],correlations:{},multipleAnalysis:{},exclusionZones:[]};ab(e,i),e.data=n,e.molecules=f_(r),!o||Object.keys(o).length===0?e.correlations=da([],{tolerance:Zm}):e.correlations=m_(o)}function m_(e){return P(S({},e),{values:e.values.map(t=>{if(typeof t.hybridization=="string"){let n=[];if(t.hybridization.length>0){const r=t.hybridization.replaceAll("SP",""),o=Number(r);n.push(o)}t.hybridization=n}return t})})}function sb(e,t){const n={verticalAlign:null},{verticalAlign:r=null}=t||n;r?kr(e,{align:r}):kr(e,{align:"auto-check"})}function b_(e,t){var r;_d(e,t.payload);const n=((r=t.payload)==null?void 0:r.preferences)||{};Zn(e,{tab:(n==null?void 0:n.activeTab)||""}),sb(e,t.payload),e.isLoading=!1}function v_(e,t){const{files:n}=t,r=s3(n,e.usedColors);for(const o of r)e.data.push(o);Zn(e),e.isLoading=!1}function x_(e,t){const{files:n}=t,r=Wm(n,e.usedColors);for(const o of r)e.data.push(o);Zn(e),kr(e,{align:"auto-check"}),e.isLoading=!1}function y_(e,t){var r;ib(e),_d(e,t.payload);const n=((r=t.payload)==null?void 0:r.preferences)||{};Zn(e,{tab:(n==null?void 0:n.activeTab)||""}),sb(e,n),e.isLoading=!1}function w_(e,t){const{files:n}=t;for(let r of n)ob(e.molecules,r.binary.toString());e.isLoading=!1}function S_(e,t){const{data:n,usedColors:r}=t.payload;e.data=e.data.concat(n),ab(e,r),Zn(e),kr(e,{align:"auto-check"}),e.isLoading=!1}function C_(e,t){ib(e),_d(e,t.payload),Zn(e),kr(e,{align:"auto-check"}),e.isLoading=!1}function k_(e,t){const n=e.molecules.length===0;ob(e.molecules,t);const r=e.molecules[0]||null;n&&r&&yd(e,r.key,r)}function E_(e,t,n){h_(e.molecules,t,n);const r=e.molecules.findIndex(o=>o.key===n);yd(e,n,r!==-1?e.molecules[r]:e.molecules[0]||null)}function __(e,t){e.displayerMode===we.DM_1D&&Qm(e,{payload:{assignmentData:t,rangeData:null}}),e.displayerMode===we.DM_2D&&tb(e,{payload:{assignmentData:t,zoneData:null}})}function T_(e,t){const{key:n,assignmentData:r}=t.payload;__(e,r);const o=e.molecules.findIndex(i=>i.key===n);e.molecules.splice(o,1),yd(e,n,e.molecules[0]||null)}function R_(e,t){const{data:n,options:r}=t.payload;if(!n)e.isLoading=!1;else for(const o of p3(n,r))e.data.push(o),e.tabActiveSpectrum[Mr(o.info.nucleus)]={id:o.id,index:e.data.length-1};Zn(e),e.isLoading=!1}function A_(e,t){var r;const n=ct(e);if(((r=e.activeSpectrum)==null?void 0:r.id)&&n){const{index:o}=e.activeSpectrum,i=10,a=t.x-i,s=t.x+i,[c,l]=po(e,{startX:a,endX:s}),u=Mm(n.data[o].data,{from:c,to:l}),p=uo(e.data[o]);if(u){const f={id:Ge(),originalX:u.x-p,x:u.x,y:u.y,width:0};e.data[o].peaks.values.push(f)}}}function P_(e,t){const n=ct(e);if(e.activeSpectrum){const{index:r}=e.activeSpectrum,o=n.data[r],{startX:i,endX:a}=t,[s,c]=po(e,{startX:i,endX:a});if(s!==c){const l=Mm(o.data,{from:s,to:c}),u=uo(e.data[r]);if(l&&!o.peaks.values.some(p=>p.x===l.x)){const p={id:Ge(),originalX:l.x-u,x:l.x,y:l.y,width:0};e.data[r].peaks.values.push(p)}}}}function M_(e,t){if(e.activeSpectrum){const{index:n}=e.activeSpectrum,r=ct(e);if(t==null)e.data[n].peaks.values=[];else{const o=r.data[n].peaks.values.findIndex(i=>i.id===t.id);e.data[n].peaks.values.splice(o,1)}}}function F_(e,t){var n;if((n=e.activeSpectrum)==null?void 0:n.id){e.toolOptions.selectedTool=K.zoom.id,e.toolOptions.selectedOptionPanel=null;const{index:r}=e.activeSpectrum,o=e.data[r],[i,a]=e.xDomain,s=$n(o.data.x,i),c=$n(o.data.x,a),l=b5(e.data[r],P(S({},t),{windowFromIndex:s,windowToIndex:c}));o.peaks.values=o.peaks.values.concat(l)}}function O_(e){const t="a".charCodeAt(0),r="z".charCodeAt(0)-t+1;let o="";for(;e>=0;)o=String.fromCharCode(e%r+t)+o,e=Math.floor(e/r)-1;return o}var sl=(e=>(e.NORMAL="NORMAL",e.FORMULA="FORMULA",e))(sl||{}),Gi=(e=>(e.RELATIVE="relative",e.ABSOLUTE="absolute",e.MIN="min",e.MAX="max",e))(Gi||{});function $_(e,t,n,r){const o=r||O_(e[t].options.columnIndex).toUpperCase();return e[t].options.columns[o]=n,e[t].options.columnIndex++,o}function D_(e,t){const{from:n,to:r,nucleus:o}=t;return e.reduce((i,a)=>{if(ba(a)&&a.info.nucleus===o&&!a.info.isFid){const s=R5(a,{from:n,to:r});i.sum+=s.absolute,i.values.push(S({SID:a.id},s))}return i},{values:[],sum:0})}function lb(e,t){e[t]===void 0&&(e[t]={options:{sum:100,code:null,columns:{},columnIndex:0},values:{}})}function I_(e,t,n,r){e[t].options.columns[n].valueKey=r,e[t].values=Td(e,t)}function N_(e,t,{columns:n,code:r}){lb(e,t),e[t].options.code=r,e[t].options.columns=Object.values(n).reduce((a,s)=>{const c=S({},s);return delete c.tempKey,a[s.tempKey]=c,a},{});const{columns:o}=e[t].options;let i=Object.entries(e[t].values).reduce((a,[s,c])=>(a[s]=Object.keys(n).reduce((l,u)=>{const p=n[u].tempKey;return c[u]&&(l[p]=c[u]),l},{}),a),{});i=Object.entries(i).reduce((a,s)=>(a[s[0]]=Object.keys(o).reduce((c,l)=>{const u=o[l].type==="FORMULA";return c[l]=u?{colKey:l,value:ub(o,i[s[0]],o[l].formula)}:P(S({},s[1][l]),{colKey:l}),c},{}),a),{}),e[t].values=i}function L_(e,t){return Object.keys(t).reduce((n,r)=>(t[r].type==="FORMULA"&&(n[r]=P(S({colKey:r},e),{value:ub(t,e,t[r].formula)})),n),{})}function Td(e,t){const{columns:n}=e[t].options;return Object.entries(e[t].values).reduce((o,i)=>{const[a,s]=i;return o[a]=S(S({},s),L_(s,n)),o},{})}function cb(e,t,n){const{from:r,to:o,nucleus:i,columnKey:a=null}=n;lb(t,i);const s=$_(t,i,{type:"NORMAL",valueKey:"relative",from:r,to:o,index:1},a),{sum:c}=t[i].options,{values:l,sum:u}=D_(e,{from:r,to:o,nucleus:i}),p=ve(t,`${i}.values`,{});let f=l.reduce((g,v)=>{const x=u>0?c/u:0;return g[v.SID]=P(S({},p[v.SID]),{[s]:P(S({colKey:s},v),{relative:Math.abs(v.absolute)*x})}),g},{});t[i].values=f,t[i].values=Td(t,i)}function H_(e,t,n){const r=Object.entries(e[n].values).reduce((c,l)=>(delete l[1][t],l[1]&&Object.keys(l[1]).length>0&&(c[l[0]]=l[1]),c),{}),s=e[n].options.columns,{[t]:o}=s,i=he(s,[Uf(t)]);Object.keys(e[n].options.columns).length===1&&(e[n].options.columnIndex=0),e[n].options.columns=i,e[n].values=r,e[n].values=Td(e,n)}function ub(e,t,n=""){const r=n.split(/\+|-|\*|\/|%|\(|\)/),o=[];for(const s of r){const c=s.trim();e[c]&&o.push(c)}const i=o.map(s=>t[s]?t[s][e[s].valueKey]:null);let a;try{a=new Function(...o,`return ${n}`)(...i)}catch(s){console.error(s),a=new Error(`Invalid Formula ( ${n} ) `)}return a}function z_(e,t){if(e==null?void 0:e[t]){const{values:n,options:{columns:r}}=e[t];let o="";for(const i in r)o+=`${i}	`;o+=`
`;for(const i of Object.values(n)){for(const a in r)o+=`${i[a][r[a].valueKey]}	`;o+=`
`}return o}return null}function B_(e,t){const[n,r]=po(e,t);cb(e.data,e.spectraAnalysis,{from:n,to:r,nucleus:e.activeTab})}function j_(e,t){const{colKey:n}=t;H_(e.spectraAnalysis,n,e.activeTab)}function V_(e,t){const{columnKey:n,from:r,to:o}=t.payload;cb(e.data,e.spectraAnalysis,{from:r,to:o,nucleus:e.activeTab,columnKey:n})}function G_(e,t){const n=t.payload;N_(e.spectraAnalysis,e.activeTab,n)}function W_(e,t){const{columnKey:n,valueKey:r}=t.payload;I_(e.spectraAnalysis,e.activeTab,n,r)}function db(e){return!(e.display.isPositiveVisible===!1&&e.display.isNegativeVisible===!1)}function Pc(e,t){e.info.dimension===2?(e.display.isPositiveVisible=t,e.display.isNegativeVisible=t,e.display.isVisible=db(e)):e.display.isVisible=t}function U_(e,t){if(Array.isArray(t.id)){const n=t.id;if(n.length===0)for(const r of e.data)Pc(r,!1);else for(const r of e.data)n.includes(r.id)?Pc(r,!0):Pc(r,!1)}else{const n=e.data.findIndex(r=>r.id===t.id);e.data[n].display[t.key]=t.value,e.data[n].info.dimension===2&&(e.data[n].display.isVisible=db(e.data[n]))}}function X_(e,t){var n;for(let r of e.data)((n=r.info)==null?void 0:n.dimension)===1&&t.some(o=>o.id===r.id)?r.display.isPeaksMarkersVisible=!0:r.display.isPeaksMarkersVisible=!1}function Y_(e,t){let n=!1;const r=e.activeSpectrum;if(t){const o=e.data.findIndex(a=>a.id===t.id),i=e.data.findIndex(a=>{var s;return a.id===((s=e.activeSpectrum)==null?void 0:s.id)});if(o!==-1){const a=e.data[o];a.display.isVisible=!0,i!==-1?n=e.data[i].info.isFid!==a.info.isFid:n=a.info.isFid||!1}t=P(S({},t),{index:o}),e.activeSpectrum=t,e.tabActiveSpectrum[e.activeTab]=t}else{if(r){const o=e.data.findIndex(i=>i.id===r.id);n=e.data[o].info.isFid}else n=!1;e.activeSpectrum=null,e.tabActiveSpectrum[e.activeTab]=null}K[e.toolOptions.selectedTool].isFilter&&(e.toolOptions.selectedTool=K.zoom.id,e.toolOptions.data.baseLineZones=[],e.toolOptions.selectedOptionPanel=null,e.tempData=null),e.toolOptions.data.activeFilterID?Il(e,null,{},r):n&&(ut(e),Yn(e))}function Z_(e,{id:t,display:n}){const o=ct(e).data.findIndex(i=>i.id===t);o!==-1&&(e.data[o].display=n)}function K_(e,{id:t,color:n,key:r}){const i=ct(e).data.findIndex(a=>a.id===t);i!==-1&&(e.data[i].display[r]=n)}function q_(e,t){const n=ct(e);if(t.id){const r=n.data.findIndex(o=>o.id===t.id);e.data.splice(r,1)}else e.data=[];Zn(e,{tab:e.activeTab,refreshActiveTab:!0})}function J_(e,t){var o;const n=ct(e),{nucleus:r}=t;if((o=e.activeSpectrum)==null?void 0:o.id){const{index:i}=e.activeSpectrum;for(let c of r){const l=N5(n.data[i],c,e.usedColors);e.data.push(l)}const s=Dl("nucleus")(e.data);rb(e,s,e.activeTab,!0),ut(e),Yn(e)}}function Q_(e,t){var n,r;if(e.data&&e.data.length>0){for(let o of e.data)if(((n=o.info)==null?void 0:n.dimension)===1&&o.info.nucleus===e.activeTab&&!((r=o.info)==null?void 0:r.isFid)){const i=h5(o,S({},t.payload));sn(o,[{name:ma,options:i}])}}ut(e),Yn(e)}function e4(e,t){const n=t.payload.publicationText,r=p5(n,e.usedColors);e.data.push(r),Zn(e),no(e,{scale:.8,spectrumID:r.id})}const t4="undo",n4="redo",r4="reset",Rd="INITIATE",o4="SAVE_DATA_AS_JSON",ll="LOAD_JSON_FILE",cl="LOAD_JCAMP_FILE",Ad="LOAD_NMREDATA_FILE",mu="LOAD_MOL_FILE",ul="LOAD_ZIP_FILE",bu="LOAD_JDF_FILE",pb="ADD_PEAK",fb="ADD_PEAKS",Nl="DELETE_PEAK_NOTATION",Pd="SHIFT_SPECTRUM",Ll="SET_X_DOMAIN",Md="SET_Y_DOMAIN",hb="SET_ORIGINAL_DOMAIN",gb="SET_WIDTH",Fd="SET_DIMENSIONS",Ca="SET_SELECTED_TOOL",mb="SET_SELECTED_FILTER",bb="CHANGE_SPECTRUM_SETTING",ti="FULL_ZOOM_OUT",ra="CHANGE_VISIBILITY",Od="CHANGE_PEAKS_MARKERS_VISIBILITY",dl="CHANGE_ACTIVE_SPECTRUM",vb="CHANGE_SPECTRUM_COLOR",xb="ADD_INTEGRAL",Hl="DELETE_INTEGRAL",$d="TOGGLE_REAL_IMAGINARY_VISIBILITY",zl="SET_ZOOM",Dd="ADD_MOLECULE",Id="SET_MOLECULE",yb="DELETE_MOLECULE",vu="SET_CORRELATION",wb="SET_CORRELATIONS",Sb="DELETE_CORRELATION",Cb="SET_CORRELATIONS_MF",kb="SET_CORRELATIONS_TOLERANCE",Nd="DELETE_SPECTRA",Ld="CHANGE_SPECTRUM_DISPLAY_VIEW_MODE",Eb="RESIZE_INTEGRAL",Bl="BRUSH_END",_b="RESET_X_DOMAIN",Tb="ENABLE_FILTER",Rb="DELETE_FILTER",Ab="DELETE_SPECTRA_FILTER",Pb="APPLY_ZERO_FILLING_FILTER",Mb="APPLY_FFT_FILTER",Hd="CALCULATE_MANUAL_PHASE_CORRECTION_FILTER",Fb="APPLY_MANUAL_PHASE_CORRECTION_FILTER",Ob="APPLY_AUTO_PHASE_CORRECTION_FILTER",$b="APPLY_ABSOLUTE_FILTER",zd="SET_VERTICAL_INDICATOR_X_POSITION",Db="AUTO_PEAK_PICKING",Ib="AUTO_RANGES_DETECTION",Nb="AUTO_ZONES_DETECTION",jl="DELETE_RANGE",Lb="DELETE_1D_SIGNAL",Hb="SET_SELECTED_OPTIONS_PANEL",Er="SET_LOADING_FLAG",En="RESET_SELECTED_TOOL",Bd="SET_SPECTRUMS_VERTICAL_AlIGN",i4="SAVE_AS_SVG",zb="CHANGE_INTEGRAL_DATA",jd="SET_ACTIVE_TAB",Bb="CHANGE_INTEGRAL_SUM",jb="ADD_BASE_LINE_ZONE",Vb="DELETE_BASE_LINE_ZONE",Gb="APPLY_BASE_LINE_CORRECTION_FILTER",pl="SET_KEY_PREFERENCES",Vd="APPLY_KEY_PREFERENCES",Wb="RESIZE_RANGE",Ub="CHANGE_RANGE_SUM",Xb="ADD_RANGE",Yb="SET_2D_LEVEL",Zb="ADD_2D_ZONE",Vl="DELETE_2D_ZONE",Kb="DELETE_2D_SIGNAL",qb="SET_2D_SIGNAL_PATH_LENGTH",Jb="ADD_MISSING_PROJECTION",Qb="SET_FILTER_SNAPSHOT",ev="CHANGE_RANGE_RELATIVE",tv="CHANGE_RANGE_SIGNAL_VALUE",nv="CHANGE_RANGE_SIGNAL_KIND",rv="SAVE_EDITED_RANGE",ov="UNLINK_RANGE",iv="SET_DIAID_RANGE",av="CHANGE_INTEGRAL_RELATIVE",sv="ANALYZE_SPECTRA",Gd="DELETE_ANALYZE_SPECTRA_RANGE",lv="RESIZE_ANALYZE_SPECTRA_RANGE",cv="SET_ANALYZE_SPECTRA_COLUMNS",uv="FILTER_SPECTRA_COLUMN",dv="ALIGN_SPECTRA",xu="CHANGE_ZONE_SIGNAL_VALUE",pv="CHANGE_ZONE_SIGNAL_KIND",fv="SAVE_EDITED_ZONE",hv="UNLINK_ZONE",gv="SET_DIAID_ZONE",Gl="PREDICT_SPECTRA",mv="SET_SPECTRA_SAME_TOP",bv="RESET_SPECTRA_SCALE",fl="SET_MOUSE_OVER_DISPLAYER",vv="APPLY_MULTIPLE_SPECTRA_FILTER",xv="ADD_EXCLUSION_ZONE",yv="DELETE_EXCLUSION_ZONE",wv="CHANGE_RANGES_SUM_FLAG",Sv="CHANGE_INTEGRALS_SUM_FLAG",Cv="CHANGE_ZONES_NOISE_FACTOR",kv="CHANGE_TEMP_RANGE",Ev="SHOW_MULTIPLICTY_TREES",_v="SHOW_RANGES_INTEGRALS",Tv="AUTO_RANGES_SPECTRA_PICKING",Rv="AUTO_ZONES_SPECTRA_PICKING",Av="GENERATE_SPECTRUM_FROM_PUBLICATION_STRING",Pv="RESURRECTING_SPECTRUM_FROM_RANGES",Mv="SHOW_J_GRAPH",Fv={actionType:"",data:[],contours:{},tempData:null,xDomain:[],yDomain:[],yDomains:{},xDomains:{},originDomain:{xDomain:[],yDomain:[],xDomains:{},yDomains:{},shareYDomain:!1},integralsYDomains:{},activeTab:"",width:0,height:0,margin:{top:10,right:20,bottom:70,left:0},activeSpectrum:null,mode:"RTL",molecules:[],verticalAlign:{align:"bottom",verticalShift:Im},history:{past:[],present:null,future:[],hasUndo:!1,hasRedo:!1},isLoading:!1,keysPreferences:{},displayerMode:we.DM_1D,tabActiveSpectrum:{},spectraAnalysis:{},correlations:{},displayerKey:"",zoom:{history:{}},overDisplayer:!1,toolOptions:{selectedTool:K.zoom.id,selectedOptionPanel:null,data:{baseLineZones:[],pivot:{value:0,index:0},zonesNoiseFactor:1,activeFilterID:null,tempRange:null,showMultiplicityTrees:!1,showRangesIntegrals:!0,showJGraph:!1}},usedColors:{"1d":[],"2d":[]}};function a4(e){const t=Ge(),n=da([],{tolerance:Zm});return P(S({},e),{correlations:n,displayerKey:t,history:{}})}function s4(e){const t={"1d":[],"2d":[]};return n=>{switch(n.type){case Rd:{if(n.payload){const r=oh(n.payload),{spectra:o}=r,i=he(r,["spectra"]);ih(o,t).then(a=>{n.payload=P(S({spectra:a},i),{usedColors:t}),e(n)})}break}case ll:{const o=JSON.parse(n.files[0].binary.toString()),i=oh(o);ih(i.spectra,t).then(a=>{n.payload=Object.assign(i,{spectra:a,usedColors:t}),e(n)});break}case ul:{for(let o of n.files)Gm({display:{name:o.name}},o.binary,t).then(i=>{n.payload={data:i,usedColors:t},e(n)});break}case Ad:{C3(n.file,t).then(o=>{n.payload=Object.assign(o,{usedColors:t}),e(n)});break}case Gl:{const{mol:{molfile:o},options:i}=n.payload;d3(o).then(a=>{n.payload={data:a,options:i},e(n)},()=>{e(n)});break}default:n.usedColors=t,e(n);break}}}function l4(e,t){switch(e.actionType=t.type,t.type){case Rd:return b_(e,t);case Er:return g_(e,t.isLoading);case ll:return y_(e,t);case cl:return x_(e,t);case bu:return v_(e,t);case mu:return w_(e,t);case ul:return S_(e,t);case Ad:return C_(e,t);case pb:return A_(e,t.mouseCoordinates);case fb:return P_(e,t);case Nl:return M_(e,t.data);case xb:return c_(e,t);case Hl:return u_(e,t);case zb:return uh(e,t);case Eb:return uh(e,t);case Bb:return l_(e,t.value);case Sv:return p_(e,t);case av:return d_(e,t);case hb:return P3(e,t.domain);case Ll:return M3(e,t.xDomain);case Md:return F3(e,t.yDomain);case gb:return mE(e,t.width);case Fd:return bE(e,t.width,t.height);case Ca:return EE(e,t);case En:return Nn(e);case Hb:return Ed(e,t.selectedOptionPanel);case ti:return DE(e,t);case Pd:return VE(e,t.shiftValue);case Pb:return GE(e,t.value);case Mb:return WE(e);case Fb:return UE(e,t.value);case Ob:return YE(e);case $b:return XE(e);case Hd:return ZE(e,t.value);case Tb:return KE(e,t.id,t.checked);case Rb:return qE(e,t);case Ab:return JE(e,t);case Qb:return e_(e,t);case vv:return t_(e,t);case xv:return n_(e,t);case yv:return r_(e,t);case ra:return U_(e,t);case Od:return X_(e,t.data);case dl:return Y_(e,t.data);case vb:return K_(e,t.data);case bb:return Z_(e,t);case dv:return Q_(e,t);case Nd:return q_(e,t);case Jb:return J_(e,t);case Av:return e4(e,t);case $d:return PE(e);case zl:return $E(e,t);case mv:return BE(e);case bv:return jE(e);case Ld:return TE(e);case Dd:return k_(e,t.molfile);case Id:return E_(e,t.molfile,t.key);case yb:return T_(e,t);case Gl:return R_(e,t);case Cb:return uE(e,t.payload);case kb:return dE(e,t.payload);case vu:return pE(e,t.payload);case wb:return fE(e,t.payload);case Sb:return hE(e,t.payload);case Bl:return ME(e,t);case zd:return FE(e,t.position);case Bd:return _E(e);case Db:return F_(e,t.options);case Nb:return nE(e,t.options);case Cv:return eE(e,t);case Ib:return $3(e,t.options);case Xb:return j3(e,t);case jl:return I3(e,t);case Lb:return Jm(e,t);case Wb:return z3(e,t);case Ub:return B3(e,t.value);case wv:return W3(e,t);case ev:return V3(e,t);case tv:return G3(e,t);case nv:return N3(e,t);case rv:return L3(e,t);case ov:return Qm(e,t);case iv:return H3(e,t);case kv:return U3(e,t);case Ev:return X3(e);case _v:return Y3(e);case Tv:return D3(e);case Mv:return Z3(e);case jd:return HE(e,t.tab);case jb:return RE(e,t.zone);case Vb:return AE(e,t.id);case Gb:return QE(e,t);case pl:return wE(e,t.keyCode);case Vd:return SE(e,t.keyCode);case Yb:return zE(e,t);case Zb:return tE(e,t);case Vl:return aE(e,t);case Kb:return eb(e,t);case qb:return sE(e,t);case _b:return O3(e);case xu:return oE(e,t);case pv:return iE(e,t);case hv:return tb(e,t);case gv:return lE(e,t);case Rv:return rE(e);case fv:return cE(e,t);case sv:return B_(e,t);case Gd:return j_(e,t);case lv:return V_(e,t);case cv:return G_(e,t);case uv:return W_(e,t);case Pv:return gE(e,t);case t4:return i_(e);case n4:return a_(e);case r4:return s_(e,t);case fl:return o_(e,t);default:return}}const c4=td(l4),Ov=d.exports.createContext(Fv),u4=Ov.Provider;function ce(){return d.exports.useContext(Ov)}const $v=d.exports.createContext({}),d4=$v.Provider;function Re(){return d.exports.useContext($v)}function Vt(e){const{data:t,activeSpectrum:n}=ce();return d.exports.useMemo(()=>t&&n&&n.id&&t.find(o=>o.id===n.id)||e,[n,t,e])}function p4(){}const Dv=d.exports.createContext(p4),f4=Dv.Provider;function Wd(){return d.exports.useContext(Dv)}const h4=X`
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(255, 255, 255, 0.25);
  height: 100%;
  flex-direction: column;
  user-select: none;
  position: absolute;
  width: 100%;
  height: 100%;
  outline: 10px dashed rgba(0, 0, 0, 0.3);
  outline-offset: -10px;
  padding-left: 20px;
  padding-right: 20px;

  p {
    padding: 15px 30px;
    background-color:rgba(0, 0, 0, 0.5);
    border-radius: 39px;
    color: white;
    font-size: x-large;
    font-weight: bold;

  }
}
`;function Iv({isEmpty:e=!0,emptyText:t="Drag and drop here a JCAMP-DX, zipped Bruker folder, Jeol jdf or NMRium file",canOpenLoader:n=!0}){const r=Wd();return e?h("div",P(S({css:h4},n&&{onClick:r}),{children:h("p",{children:t})})):null}const g4=X`
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(255, 255, 255, 0.25);
  height: 100%;
  flex-direction: column;
  user-select: none;
  position: absolute;
  width: 100%;

  svg {
    animation-duration: 0.5s;
    animation-name: spinAnimation;
    animation-iteration-count: infinite;
    animation-fill-mode: forwards;
    animation-direction: inherit;
    animation-timing-function: linear;
    animation-duration: 1s;
    width: 100px;
    height: 100px;
  }

  @keyframes spinAnimation {
    from {
      transform: rotate(0deg);
    }

    to {
      transform: rotate(360deg);
    }
  }
`;function m4(){return $("div",{css:g4,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 841.9 595.3",children:$("g",{fill:"#61DAFB",children:[h("path",{d:"M666.3 296.5c0-32.5-40.7-63.3-103.1-82.4 14.4-63.6 8-114.2-20.2-130.4-6.5-3.8-14.1-5.6-22.4-5.6v22.3c4.6 0 8.3.9 11.4 2.6 13.6 7.8 19.5 37.5 14.9 75.7-1.1 9.4-2.9 19.3-5.1 29.4-19.6-4.8-41-8.5-63.5-10.9-13.5-18.5-27.5-35.3-41.6-50 32.6-30.3 63.2-46.9 84-46.9V78c-27.5 0-63.5 19.6-99.9 53.6-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7 0 51.4 16.5 84 46.6-14 14.7-28 31.4-41.3 49.9-22.6 2.4-44 6.1-63.6 11-2.3-10-4-19.7-5.2-29-4.7-38.2 1.1-67.9 14.6-75.8 3-1.8 6.9-2.6 11.5-2.6V78.5c-8.4 0-16 1.8-22.6 5.6-28.1 16.2-34.4 66.7-19.9 130.1-62.2 19.2-102.7 49.9-102.7 82.3 0 32.5 40.7 63.3 103.1 82.4-14.4 63.6-8 114.2 20.2 130.4 6.5 3.8 14.1 5.6 22.5 5.6 27.5 0 63.5-19.6 99.9-53.6 36.4 33.8 72.4 53.2 99.9 53.2 8.4 0 16-1.8 22.6-5.6 28.1-16.2 34.4-66.7 19.9-130.1 62-19.1 102.5-49.9 102.5-82.3zm-130.2-66.7c-3.7 12.9-8.3 26.2-13.5 39.5-4.1-8-8.4-16-13.1-24-4.6-8-9.5-15.8-14.4-23.4 14.2 2.1 27.9 4.7 41 7.9zm-45.8 106.5c-7.8 13.5-15.8 26.3-24.1 38.2-14.9 1.3-30 2-45.2 2-15.1 0-30.2-.7-45-1.9-8.3-11.9-16.4-24.6-24.2-38-7.6-13.1-14.5-26.4-20.8-39.8 6.2-13.4 13.2-26.8 20.7-39.9 7.8-13.5 15.8-26.3 24.1-38.2 14.9-1.3 30-2 45.2-2 15.1 0 30.2.7 45 1.9 8.3 11.9 16.4 24.6 24.2 38 7.6 13.1 14.5 26.4 20.8 39.8-6.3 13.4-13.2 26.8-20.7 39.9zm32.3-13c5.4 13.4 10 26.8 13.8 39.8-13.1 3.2-26.9 5.9-41.2 8 4.9-7.7 9.8-15.6 14.4-23.7 4.6-8 8.9-16.1 13-24.1zM421.2 430c-9.3-9.6-18.6-20.3-27.8-32 9 .4 18.2.7 27.5.7 9.4 0 18.7-.2 27.8-.7-9 11.7-18.3 22.4-27.5 32zm-74.4-58.9c-14.2-2.1-27.9-4.7-41-7.9 3.7-12.9 8.3-26.2 13.5-39.5 4.1 8 8.4 16 13.1 24 4.7 8 9.5 15.8 14.4 23.4zM420.7 163c9.3 9.6 18.6 20.3 27.8 32-9-.4-18.2-.7-27.5-.7-9.4 0-18.7.2-27.8.7 9-11.7 18.3-22.4 27.5-32zm-74 58.9c-4.9 7.7-9.8 15.6-14.4 23.7-4.6 8-8.9 16-13 24-5.4-13.4-10-26.8-13.8-39.8 13.1-3.1 26.9-5.8 41.2-7.9zm-90.5 125.2c-35.4-15.1-58.3-34.9-58.3-50.6 0-15.7 22.9-35.6 58.3-50.6 8.6-3.7 18-7 27.7-10.1 5.7 19.6 13.2 40 22.5 60.9-9.2 20.8-16.6 41.1-22.2 60.6-9.9-3.1-19.3-6.5-28-10.2zM310 490c-13.6-7.8-19.5-37.5-14.9-75.7 1.1-9.4 2.9-19.3 5.1-29.4 19.6 4.8 41 8.5 63.5 10.9 13.5 18.5 27.5 35.3 41.6 50-32.6 30.3-63.2 46.9-84 46.9-4.5-.1-8.3-1-11.3-2.7zm237.2-76.2c4.7 38.2-1.1 67.9-14.6 75.8-3 1.8-6.9 2.6-11.5 2.6-20.7 0-51.4-16.5-84-46.6 14-14.7 28-31.4 41.3-49.9 22.6-2.4 44-6.1 63.6-11 2.3 10.1 4.1 19.8 5.2 29.1zm38.5-66.7c-8.6 3.7-18 7-27.7 10.1-5.7-19.6-13.2-40-22.5-60.9 9.2-20.8 16.6-41.1 22.2-60.6 9.9 3.1 19.3 6.5 28.1 10.2 35.4 15.1 58.3 34.9 58.3 50.6-.1 15.7-23 35.6-58.4 50.6zM320.8 78.4z"}),h("path",{d:"M520.5 78.1z"})]})}),h("p",{children:"Loading ..."})]})}function Nv(){return m(m4,{})}const Lv=d.exports.createContext(Nv),b4=Lv.Provider;function Hv({isLoading:e=!0,emptyText:t=void 0}){const{data:n}=ce(),[r,o]=d.exports.useState(!1);d.exports.useEffect(()=>{let a=null;return e||(a=setTimeout(()=>{o(!0)},500)),()=>{clearTimeout(a)}},[e]);const i=d.exports.useContext(Lv);return G(d.exports.Fragment,{children:[e&&i(),r&&!e&&m(Iv,{isEmpty:n&&n.length===0,emptyText:t})]})}const v4={container:{transformOrigin:"top left",position:"absolute",top:"0px",left:"0px",zoom:"100%"}},x4=[K.zoom.id,K.zeroFilling.id,K.peakPicking.id,K.integral.id,K.phaseCorrection.id,K.baseLineCorrection.id,K.rangesPicking.id,K.zone2D.id,K.slicingTool.id,K.editRange.id,K.multipleSpectraAnalysis.id,K.exclusionZones.id,K.databaseRangesSelection.id],un={X:1,Y:2,XY:3},y4={startX:0,startY:0};function Us({brushType:e=un.XY,dimensionBorder:t=y4,width:n,height:r}){let{width:o,height:i,toolOptions:{selectedTool:a}}=ce(),{startX:s,endX:c,startY:l,endY:u,step:p}=d.exports.useContext(Ar);if(!x4.includes(a)||p!=="brushing"||!t||t.startX&&s<t.startX||t.startY&&l<t.startY||(t.endX&&Math.sign(c-s)===1?c>t.endX:c<t.startX)&&(t.endX&&t.endY&&Math.sign(u-l)===1?u>t.endY:u<t.startY))return null;o=n||o,i=r||i,c=t.endX&&c>t.endX?t.endX:t.startX&&c<t.startX?t.startX:c,u=t.endY&&u>t.endY?t.endY:t.startY&&u<t.startY?t.startY:u;const f=e===un.X||e===un.XY?(c-s)/o:1;s=e===un.X||e===un.XY?s:0;const g=e===un.Y||e===un.XY?(u-l)/i:1;return l=e===un.Y||e===un.XY?l:0,m("div",{style:P(S({},v4.container),{transform:`translate(${s}px, ${l}px) scale(${f},${g})`,willChange:"transform"}),children:m("svg",{width:o,height:i,children:m("rect",{x:"0",y:"0",width:o,height:i,fill:"gray",opacity:"0.2"})})})}const dh={line:{stroke:"black",strokeOpacity:1,shapeRendering:"crispEdges",strokeWidth:"1",willChange:"transform"}},w4=[K.zoom.id,K.equalizerTool.id,K.baseLineCorrection.id,K.zone2D.id,K.slicingTool.id,K.integral.id,K.rangesPicking.id,K.editRange.id,K.multipleSpectraAnalysis.id,K.exclusionZones.id,K.databaseRangesSelection.id];function zv(){const{height:e,width:t,margin:n,toolOptions:{selectedTool:r}}=ce();let o=d.exports.useContext(or);const i=d.exports.useContext(Ar);return!w4.includes(r)||i.step==="brushing"||!o||o.x>t-n.right||o.y>e-n.bottom||!t||!e?null:m("div",{style:{willChange:"transform",cursor:"crosshair",transform:`translate(${-t+o.x}px, ${-e+o.y}px)`,position:"absolute",top:0,left:0,pointerEvents:"none",overflow:"visible",width:2*t,height:2*e},children:G("svg",{width:2*t,height:2*e,children:[m("line",{style:dh.line,x1:t,y1:"0",x2:t,y2:e*2},"vertical_line"),m("line",{style:dh.line,x1:"0",y1:e,x2:t*2,y2:e},"horizontal_line")]})},"crossLine")}function S4(e,t){const[n,r]=d.exports.useState(localStorage.getItem(e)||"{}");d.exports.useEffect(()=>{localStorage.setItem(e,n)},[e,n]);const o=d.exports.useCallback((i,a=null)=>{let s=JSON.parse(n);a?iS(s,a,i):s=S(S({},s),i),r(JSON.stringify(s))},[n]);return d.exports.useMemo(()=>[t?ve(JSON.parse(n),t,{}):JSON.parse(n),o],[t,o,n])}function oa(e,t=!0){const n=localStorage.getItem(e);return n&&t?JSON.parse(n):n}function Wl(e,t){localStorage.setItem(e,t)}function ph(e){localStorage.removeItem(e)}function ar(e,t,n=null){return ve(e,t,n)}const C4={version:1,label:"Default Mode",display:{general:{disableMultipletAnalysis:!1,hideSetSumFromMolecule:!1,hideGeneralSettings:!1,hideExperimentalFeatures:!1},panels:{hideSpectraPanel:!1,hideInformationPanel:!1,hidePeaksPanel:!1,hideIntegralsPanel:!1,hideRangesPanel:!1,hideStructuresPanel:!1,hideFiltersPanel:!1,hideZonesPanel:!1,hideSummaryPanel:!1,hideMultipleSpectraAnalysisPanel:!1,hideDatabasePanel:!1,hidePredictionPanel:!1},toolBarButtons:{hideZoomTool:!1,hideZoomOutTool:!1,hideImport:!1,hideExportAs:!1,hideSpectraStackAlignments:!1,hideSpectraCenterAlignments:!1,hideRealImaginary:!1,hidePeakTool:!1,hideIntegralTool:!1,hideZonePickingTool:!1,hideSlicingTool:!1,hideAutoRangesTool:!1,hideZeroFillingTool:!1,hidePhaseCorrectionTool:!1,hideBaseLineCorrectionTool:!1,hideFFTTool:!1,hideMultipleSpectraAnalysisTool:!1,hideExclusionZonesTool:!1}}},k4={version:1,label:"Exercise 1D Mode",display:{general:{disableMultipletAnalysis:!0,hideSetSumFromMolecule:!0,hideGeneralSettings:!0,hideExperimentalFeatures:!0},panels:{hideSpectraPanel:!1,hideInformationPanel:!0,hidePeaksPanel:!0,hideIntegralsPanel:!1,hideRangesPanel:!0,hideStructuresPanel:!0,hideFiltersPanel:!0,hideZonesPanel:!0,hideSummaryPanel:!0,hideMultipleSpectraAnalysisPanel:!0,hideDatabasePanel:!0,hidePredictionPanel:!1},toolBarButtons:{hideZoomTool:!1,hideZoomOutTool:!1,hideImport:!0,hideExportAs:!0,hideSpectraStackAlignments:!1,hideSpectraCenterAlignments:!1,hideRealImaginary:!0,hidePeakTool:!1,hideIntegralTool:!1,hideZonePickingTool:!0,hideSlicingTool:!0,hideAutoRangesTool:!0,hideZeroFillingTool:!0,hidePhaseCorrectionTool:!0,hideBaseLineCorrectionTool:!0,hideFFTTool:!0,hideMultipleSpectraAnalysisTool:!0,hideExclusionZonesTool:!0}}},E4={version:1,label:"Process 1D Mode",display:{general:{disableMultipletAnalysis:!0,hideSetSumFromMolecule:!1,hideGeneralSettings:!1,hideExperimentalFeatures:!1},panels:{hideSpectraPanel:!1,hideInformationPanel:!1,hidePeaksPanel:!1,hideIntegralsPanel:!1,hideRangesPanel:!0,hideStructuresPanel:!1,hideFiltersPanel:!1,hideZonesPanel:!0,hideSummaryPanel:!0,hideMultipleSpectraAnalysisPanel:!0,hideDatabasePanel:!1,hidePredictionPanel:!1},toolBarButtons:{hideZoomTool:!1,hideZoomOutTool:!1,hideImport:!0,hideExportAs:!0,hideSpectraStackAlignments:!1,hideSpectraCenterAlignments:!1,hideRealImaginary:!1,hidePeakTool:!1,hideIntegralTool:!1,hideAutoRangesTool:!0,hideZeroFillingTool:!1,hidePhaseCorrectionTool:!1,hideBaseLineCorrectionTool:!1,hideFFTTool:!1,hideMultipleSpectraAnalysisTool:!0,hideExclusionZonesTool:!0}}};var Xs={exercise1D:k4,basic:C4,process1D:E4};const Bv="INIT_PREFERENCES",jv="SET_PREFERENCES",Vv="RESET_PREFERENCES",hi="SET_PANELS_PREFERENCES",fh=3;function yu(e){switch(e){case El.EXERCISE_1D:return Xs.exercise1D;case El.PROCESS_1D:return Xs.process1D;default:return Xs.basic}}const Gv={basePreferences:{},display:Xs.basic.display,controllers:{dimmedSpectraTransparency:.1},formatting:{nucleus:[{key:"1H",name:"1H",ppm:"0.00",hz:"0.00"},{key:"13C",name:"13C",ppm:"0.00",hz:"0.00"},{key:"15N",name:"15N",ppm:"0.00",hz:"0.00"},{key:"19F",name:"19F",ppm:"0.00",hz:"0.00"},{key:"29Si",name:"29Si",ppm:"0.00",hz:"0.00"},{key:"31P",name:"31P",ppm:"0.00",hz:"0.00"}],nucleusByKey:{},panels:{}},dispatch:null,workspace:"default"};function wu(e){return JSON.parse(JSON.stringify(e),(t,n)=>{if(n)return n})}function Wv(e){e.formatting.nucleus&&Array.isArray(e.formatting.nucleus)&&(e.formatting.nucleusByKey=e.formatting.nucleus.reduce((t,n)=>(t[n.name.toLowerCase()]=n,S({},t)),{}))}function _4(e,t){var i;const n=oa("nmr-local-storage-version",!1);let r=oa("nmr-general-settings");if(n&&(r==null?void 0:r.version)&&ph("nmr-local-storage-version"),(!(r==null?void 0:r.version)||(r==null?void 0:r.version)!==fh)&&ph("nmr-general-settings"),t.payload){const o=t.payload,{dispatch:a,workspace:s}=o,c=he(o,["dispatch","workspace"]);e.workspace=s;const l=yu(s);(!r||!(r==null?void 0:r.workspaces[s])||l.version!==((i=r==null?void 0:r.workspaces[s])==null?void 0:i.version))&&(r=r||{},r={version:fh,workspaces:P(S({},r.workspaces),{[s]:P(S({},l),{controllers:e.controllers,formatting:e.formatting})})},Wl("nmr-general-settings",JSON.stringify(r))),e.basePreferences=_t({},l,c);const u=wu(e.basePreferences.display);let p={};e.dispatch=a;const f=(r==null?void 0:r.workspaces[s])||null;f&&(Object.entries(f).forEach(([g,v])=>{g==="display"?p=wu(v):["dispatch","basePreferences"].includes(g)||(e[g]=_t({},c[g]?c[g]:{},v))}),Wv(e)),e.display=_t({},yu(El.DEFAULT).display,u,p)}}function T4(e,t){if(t.payload){const{controllers:n,formatting:r,display:o}=t.payload;let i=oa("nmr-general-settings");i.workspaces=P(S({},i.workspaces),{[e.workspace]:P(S({},i.workspaces[e.workspace]),{controllers:n,formatting:r,display:o})}),Wl("nmr-general-settings",JSON.stringify(i)),e.controllers=n,e.formatting=r,e.display.panels=o.panels,e.display.general.hideExperimentalFeatures=o.general.hideExperimentalFeatures,Wv(e)}}function R4(e,t){if(t.payload){const{key:n,value:r}=t.payload;let o=oa("nmr-general-settings");o.workspaces[e.workspace].formatting.panels[n]=r,Wl("nmr-general-settings",JSON.stringify(o)),e.formatting.panels[n]=r}}function A4(e){let t=oa("nmr-general-settings");const n=wu(e.basePreferences.display),r=_t({},yu(e.workspace).display,n);t.workspaces[e.workspace].display=r,e.display=r,Wl("nmr-general-settings",JSON.stringify(t))}function P4(e,t){switch(t.type){case Bv:return _4(e,t);case jv:return T4(e,t);case hi:return R4(e,t);case Vv:return A4(e);default:return e}}const M4=td(P4),Uv=d.exports.createContext(Gv),F4=Uv.Provider;function dt(){return d.exports.useContext(Uv)}class fo{constructor(){this.array=[]}moveTo(t,n){this.array.push(`M ${t} ${n}`)}lineTo(t,n){this.array.push(`L ${t} ${n}`)}closePath(){this.array.push("Z")}toString(){return this.array.join(" ")}}function hh({id:e,sign:t,color:n,datum:r}){const{margin:o,width:i,height:a,xDomain:s,yDomain:c,contours:l,activeSpectrum:u}=ce(),p=dt(),{xShift:f,yShift:g}=xa(r),v=d.exports.useMemo(()=>u===null?!0:e===u.id,[u,e]);function x(w){const k=on({margin:o,width:i,xDomain:s}),_=Nt({margin:o,height:a,yDomain:c}),R=new fo;for(const M of w)if(M.lines){const N=M.lines;if(N.length<1e6)for(let H=0;H<N.length;H+=4)R.moveTo(k(N[H]+f),_(N[H+1]+g)),R.lineTo(k(N[H+2]+f),_(N[H+3]+g))}else{R.moveTo(k(M[0].x+f),_(M[0].y+g));for(let N=1;N<M.length;N++)R.lineTo(k(M[N].x+f),_(M[N].y+g))}return R.closePath(),R.toString()}const y=d.exports.useMemo(()=>ve(l,`${e}.${t}`,[]),[l,t,e]);return m("path",{fill:"none",stroke:n,strokeWidth:"1",style:{opacity:v?1:ve(p,"controllers.dimmedSpectraTransparency",.1)},d:x(y)})}function O4({data:e,displayerKey:t}){return m("g",{clipPath:`url(#${t}clip-chart-2d)`,className:"contours",children:e==null?void 0:e.map((n,r)=>G("g",{children:[n.display.isPositiveVisible&&m(hh,{id:n.id,sign:"positive",datum:n,color:n.display.positiveColor}),n.display.isNegativeVisible&&m(hh,{id:n.id,sign:"negative",datum:n,color:n.display.negativeColor})]},`${n.id+r}`))})}const $4=d.exports.memo(O4);function D4(){const{data:e,displayerKey:t}=ce(),n=d.exports.useMemo(()=>e.filter(r=>r.info.dimension===2),[e]);return m($4,{data:n,displayerKey:t})}var gi=(e=>(e.XAxis="XAxis",e.YAxis="YAxis",e))(gi||{});function ka(e){const{width:t,xDomain:n,yDomain:r}=ce();return d.exports.useCallback(o=>{const{x:i,y:a}=o,[s,c]=e==="XAxis"?n:r;return $0({x:i,y:a},{from:s,to:c,nbPoints:t*4,optimize:!0})},[e,t,n,r])}function I4({margin:e=10,data:t}){const{height:n,margin:r,yDomain:o,yDomains:i,displayerKey:a}=ce(),s=ka(gi.YAxis),c=r.left,l=d.exports.useMemo(()=>{if(t){const p=Nt({height:n,yDomain:[o[0],o[1]],margin:r}),f=ei(i[t.id],c,e),{x:g,re:v}=t.data,x=s({x:g,y:v}),y=new fo;y.moveTo(f(x.y[x.y.length-1]),p(x.x.length-1));for(let w=x.x.length-2;w>=0;w--)y.lineTo(f(x.y[w]),p(x.x[w]));return y.toString()}else return},[c,r,e,n,t,s,o,i]),u=n-r.bottom-r.top;return!u||!c?null:G("svg",{viewBox:`0 0 ${c} ${u+r.top}`,width:c,height:u+r.top,children:[m("defs",{children:m("clipPath",{id:`${a}clip-left`,children:m("rect",{width:c,height:u,x:"0",y:r.top})})}),m("g",{clipPath:`url(#${a}clip-left)`,children:m("path",{className:"line",stroke:"black",fill:"none",d:l})})]})}var N4=d.exports.memo(I4);function L4({margin:e=10,data:t}){const{width:n,margin:r,xDomain:o,yDomains:i,displayerKey:a}=ce(),s=ka(gi.XAxis),c=r.top,l=d.exports.useMemo(()=>{if(t){const u=on({width:n,xDomain:o,margin:r}),p=ei(i[t.id],c,e),{x:f,re:g}=t.data,v=s({x:f,y:g}),x=new fo;x.moveTo(u(v.x[0]),p(v.y[0]));for(let y=1;y<v.x.length;y++)x.lineTo(u(v.x[y]),p(v.y[y]));return x.toString()}else return},[c,e,r,t,n,o,s,i]);return!n||!c?null:G("svg",{viewBox:`0 0 ${n} ${c}`,width:n,height:c,children:[m("defs",{children:m("clipPath",{id:`${a}clip-top`,children:m("rect",{width:n-r.left-r.right,height:c,x:r.left,y:`${0}`})})}),m("g",{clipPath:`url(#${a}clip-top)`,children:m("path",{className:"line",stroke:"red",fill:"none",strokeWidth:"1px",d:l})})]})}var H4=d.exports.memo(L4);const z4=X`
  user-select: none;

  path,
  line {
    fill: none;
    stroke: black;
    stroke-width: 1;
    shape-rendering: crispEdges;
    user-select: none;
  }
`,B4={right:100,top:0,left:0,bottom:0};function j4(e){const{show:t=!0,label:n="\u03B4 [ppm]",margin:r=B4}=e,o=ce(),{xDomain:i,height:a,width:s,margin:c,tabActiveSpectrum:l,activeTab:u}=o,p=d.exports.useRef(null);return d.exports.useEffect(()=>{if(!t)return;const f=on({width:s,margin:c,xDomain:i}),g=lu(f).ticks(8).tickFormat(nd("0"));qs(p.current).call(g)},[u,a,c,c.bottom,c.left,c.right,c.top,t,l,s,i]),!s||!a?null:h(Xn,{children:t&&h("g",{className:"x",css:z4,transform:`translate(0,${a-(c.bottom+r.bottom)})`,ref:p,children:h("text",{fill:"#000",x:s-60,y:"20",dy:"0.71em",textAnchor:"end",children:n})})})}var V4=d.exports.memo(j4);const G4=X`
  user-select: 'none';
  -webkit-user-select: none; /* Chrome all / Safari all */
  -moz-user-select: none; /* Firefox all */

  path,
  line {
    fill: none;
    stroke: black;
    stroke-width: 1;
    shape-rendering: crispEdges;
    user-select: 'none';
    -webkit-user-select: none; /* Chrome all / Safari all */
    -moz-user-select: none; /* Firefox all */
  }
`,W4={right:50,top:0,bottom:0,left:0};function U4(e){const{show:t=!0,label:n="",margin:r=W4}=e,o=d.exports.useRef(null),i=ce(),{yDomain:a,width:s,height:c,activeTab:l,tabActiveSpectrum:u,margin:p}=i;return d.exports.useEffect(()=>{if(!t||!a)return;const f=Nt({height:c,yDomain:a,margin:p}),g=aS(f).ticks(8).tickFormat(nd("0"));qs(o.current).call(g)},[t,a,l,u,c,p]),!s||!c?null:h(Xn,{children:h("g",{className:"y",css:G4,transform:`translate(${s-r.right})`,ref:o,children:h("text",{fill:"#000",x:-r.top,y:-(r.right-5),dy:"0.71em",transform:"rotate(-90)",textAnchor:"end",children:n})})})}var X4=d.exports.memo(U4);const gh=X`
  stroke: lightgrey;
  opacity: 0.7;
`;function mh({axis:e,show:t}){const{data:n,activeTab:r,margin:o,width:i,height:a,xDomain:s,yDomain:c,displayerMode:l}=ce(),[u,p]=d.exports.useState([]),f=on({margin:o,width:i,xDomain:s}),g=Nt({margin:o,height:a,yDomain:c});d.exports.useEffect(()=>{const x=r.split(","),y=e==="X"?x[0]:e==="Y"?x[1]:null;if(y!==null){const k=n.filter(_=>_.display.isVisible===!0&&_.info.nucleus===y).filter(ba).map(_=>_.ranges.values).flat().map(_=>_.signals.filter(R=>ha.some(M=>R.kind===M)).map(R=>R.delta)).flat();p(k)}else p([])},[r,e,n,l]);const v=d.exports.useMemo(()=>{if(t===!0&&u.length>0)return u.map((y,w)=>e==="X"?h("line",{css:gh,x1:f(y),x2:f(y),y1:g(c[0]),y2:g(c[1])},`indicationLine${e}${w}`):e==="Y"?h("line",{css:gh,x1:f(s[0]),x2:f(s[1]),y1:g(y),y2:g(y)},`indicationLine${e}${w}`):null)},[e,u,f,g,t,s,c]);return h("g",{children:v})}const As=new sS,Et={on:(e,t)=>As.on(e,t),once:(e,t)=>As.once(e,t),off:(e,t)=>As.off(e,t),emit:(e,t)=>As.emit(e,t)};Object.freeze(Et);const Xv=d.exports.createContext({});function Y4(e,t){var n;switch(t.type){case"ADD":{const r=P(S({},e),{assignment:S({},e.assignment)});return r.assignment[t.payload.id[0]]===void 0&&(r.assignment[t.payload.id[0]]={}),r.assignment[t.payload.id[0]][t.payload.axis]===void 0&&(r.assignment[t.payload.id[0]][t.payload.axis]=[]),r.assignment[t.payload.id[0]][t.payload.axis].includes(t.payload.id[1])||r.assignment[t.payload.id[0]][t.payload.axis].push(t.payload.id[1]),r}case"REMOVE":{const r=P(S({},e),{assignment:S({},e.assignment)});return((n=r.assignment[t.payload.id[0]])==null?void 0:n[t.payload.axis])!==void 0&&(r.assignment[t.payload.id[0]][t.payload.axis]=r.assignment[t.payload.id[0]][t.payload.axis].filter(o=>o!==t.payload.id[1]),r.assignment[t.payload.id[0]][t.payload.axis].length===0&&delete r.assignment[t.payload.id[0]][t.payload.axis],Object.keys(r.assignment[t.payload.id[0]]).length===0&&delete r.assignment[t.payload.id[0]]),r}case"REMOVE_ALL":{const r=P(S({},e),{assignment:S({},e.assignment)});return t.payload.id.forEach(o=>{var i;((i=r.assignment[o])==null?void 0:i[t.payload.axis])!==void 0&&(delete r.assignment[o][t.payload.axis],Object.keys(r.assignment[o]).length===0&&delete r.assignment[o])}),r}case"SET_IS_ACTIVE":return P(S({},e),{isActive:t.payload.id!==void 0&&t.payload.axis!==void 0,activeID:t.payload.id,activeAxis:t.payload.axis});case"SET_IS_ON_HOVER":return P(S({},e),{isOnHover:t.payload.id!==void 0,onHoverID:t.payload.id,onHoverAxis:t.payload.axis});case"DELETE_RECORD":{const r=P(S({},e),{assignment:S({},e.assignment)});return delete r.assignment[t.payload.id],r.isActive&&r.activeID===t.payload.id&&(r.isActive=!1,r.activeID=void 0,r.activeAxis=void 0),r.isOnHover&&r.onHoverID===t.payload.id&&(r.isOnHover=!1,r.onHoverID=void 0,r.onHoverAxis=void 0),r}default:throw new Error(`unknown action type: ${t.type}`)}}const Z4={assignment:{},isActive:!1,activeID:void 0,activeAxis:void 0,isOnHover:!1,onHoverID:void 0,onHoverAxis:void 0};function K4(e){const{spectraData:t}=e,[n,r]=d.exports.useReducer(Y4,Z4),o=d.exports.useMemo(()=>({assignment:n,dispatch:r}),[n]);function i(s,c){c.dispatch({type:"DELETE_RECORD",payload:{id:s.id}}),(s.diaIDs||[]).forEach(l=>c.dispatch({type:"ADD",payload:{id:[s.id,l],axis:"x"}})),s.signals.forEach(l=>(l.diaIDs||[]).forEach(u=>c.dispatch({type:"ADD",payload:{id:[l.id,u],axis:"x"}})))}function a(s,c){c.dispatch({type:"DELETE_RECORD",payload:{id:s.id}}),(s.y.diaIDs||[]).forEach(l=>c.dispatch({type:"ADD",payload:{id:[s.id,l],axis:"y"}})),(s.x.diaIDs||[]).forEach(l=>c.dispatch({type:"ADD",payload:{id:[s.id,l],axis:"x"}})),s.signals.forEach(l=>{(l.x.diaIDs||[]).forEach(u=>c.dispatch({type:"ADD",payload:{id:[l.id,u],axis:"x"}})),(l.y.diaIDs||[]).forEach(u=>c.dispatch({type:"ADD",payload:{id:[l.id,u],axis:"y"}}))})}return d.exports.useEffect(()=>{t&&t.forEach(s=>{s.info.dimension===1?s.ranges.values.forEach(c=>i(c,o)):s.info.dimension===2&&s.zones.values.forEach(c=>a(c,o))})},[t]),m(Xv.Provider,{value:o,children:e.children})}function _n(){return d.exports.useContext(Xv)}function rr(e){const t=_n();if(typeof e!="string"&&typeof e!="number"||e==="")throw new Error("assignment key must be a non-empty string or number");const n=String(e),r=d.exports.useMemo(()=>t.assignment.isActive&&t.assignment.activeID===n,[t.assignment.activeID,t.assignment.isActive,n]),o=d.exports.useMemo(()=>r?t.assignment.activeAxis:void 0,[t.assignment.activeAxis,r]),i=d.exports.useMemo(()=>t.assignment.assignment[n]?t.assignment.assignment[n]:[],[t.assignment.assignment,n]),a=d.exports.useMemo(()=>t.assignment.isOnHover&&t.assignment.onHoverID===n,[t.assignment.isOnHover,t.assignment.onHoverID,n]),s=d.exports.useMemo(()=>a?t.assignment.onHoverAxis:void 0,[t.assignment.onHoverAxis,a]),c=d.exports.useCallback(w=>{t.dispatch({type:"ADD",payload:{id:[n,w],axis:o}})},[o,t,n]),l=d.exports.useCallback(w=>{t.dispatch({type:"REMOVE",payload:{id:[n,w],axis:o}})},[o,t,n]),u=d.exports.useCallback(w=>{t.dispatch({type:"REMOVE_ALL",payload:{id:[n],axis:w}})},[t,n]),p=d.exports.useCallback(w=>{i[o]===void 0||!i[o].includes(w)?c(w):l(w)},[o,c,i,l]),f=d.exports.useCallback(()=>{t.dispatch({type:"DELETE_RECORD",payload:{id:n}})},[t,n]),g=d.exports.useCallback(w=>{t.dispatch({type:"SET_IS_ACTIVE",payload:{id:r?void 0:n,axis:!r&&n!==void 0?w:void 0}})},[t,n,r]),v=d.exports.useCallback((w,k)=>{w==="enter"?t.dispatch({type:"SET_IS_ON_HOVER",payload:{id:n,axis:n!==void 0?k:void 0}}):w==="leave"&&t.dispatch({type:"SET_IS_ON_HOVER",payload:{}})},[t,n]),x=d.exports.useCallback(w=>v("enter",w),[v]),y=d.exports.useCallback(w=>v("leave",w),[v]);return{id:n,isActive:r,activeAxis:o,assigned:i,add:c,remove:l,removeAll:u,toggle:p,deleteRecord:f,onClick:g,isOnHover:a,onHoverAxis:s,onMouseEnter:x,onMouseLeave:y}}function Ud(e,t){return t.filter(n=>Object.keys(e.assignment).filter(r=>r===n))}var wt=(e=>(e.PEAK="PEAK",e.INTEGRAL="INTEGRAL",e.SIGNAL="SIGNAL",e.RANGE="RANGE",e.ZONE="ZONE",e.EXCLUSION_ZONE="EXCLUSION_ZONE",e.DATABASE="DATABASE",e.UNKNOWN="UNKNOWN",e))(wt||{});const Yv={highlight:{highlights:{},highlighted:[],highlightedPermanently:[],sourceData:null},dispatch:()=>null,remove:()=>null},Zv=d.exports.createContext(Yv);function q4(e,t){switch(t.type){case"SHOW":{const{convertedHighlights:n,sourceData:r}=t.payload,{type:o="UNKNOWN",extra:i=null}=r||{},a=P(S({},e),{highlights:S({},e.highlights),sourceData:{type:o,extra:i}});for(const s of n)s in a.highlights||(a.highlights[s]=1);return a.highlighted=Object.keys(a.highlights),a}case"HIDE":{const{convertedHighlights:n}=t.payload,r=P(S({},e),{highlights:S({},e.highlights),sourceData:null});for(const o of n)o in r.highlights&&delete r.highlights[o];return r.highlighted=Object.keys(r.highlights),r}case"SET_PERMANENT":return P(S({},e),{highlightedPermanently:t.payload});case"UNSET_PERMANENT":return P(S({},e),{highlightedPermanently:[]});default:throw new Error(`unknown action type: ${t.type}`)}}function J4(e){const[t,n]=d.exports.useReducer(q4,Yv.highlight),r=d.exports.useMemo(()=>{function o(){n({type:"HIDE",payload:{convertedHighlights:t.highlighted}})}return{highlight:t,dispatch:n,remove:o}},[t]);return m(Zv.Provider,{value:r,children:e.children})}function mi(){return d.exports.useContext(Zv)}function gt(e,t=null){if(!Array.isArray(e))throw new Error("highlights must be an array");const{dispatch:n,highlight:r}=mi(),o=d.exports.useMemo(()=>{const f=[];for(const g of e){if(typeof g!="string"&&typeof g!="number")throw new Error("highlight key must be a string or number");g!==""&&f.push(String(g))}return f},[e]);d.exports.useEffect(()=>()=>{n({type:"HIDE",payload:{convertedHighlights:[]}}),n({type:"UNSET_PERMANENT"})},[n]);const i=d.exports.useMemo(()=>r.highlighted.some(f=>o.includes(f)),[o,r.highlighted]),a=d.exports.useMemo(()=>r.highlightedPermanently.some(f=>o.includes(f)),[o,r.highlightedPermanently]),s=d.exports.useCallback(()=>{n({type:"SHOW",payload:{convertedHighlights:o,sourceData:t}})},[n,o,t]),c=d.exports.useCallback(()=>{n({type:"HIDE",payload:{convertedHighlights:o}})},[o,n]),l=d.exports.useCallback(f=>{n({type:"SHOW",payload:{convertedHighlights:[],id:f}})},[n]),u=d.exports.useCallback(f=>{n({type:"HIDE",payload:{convertedHighlights:[],id:f}})},[n]),p=d.exports.useCallback(f=>{f&&(f.preventDefault(),f.stopPropagation()),n(a?{type:"UNSET_PERMANENT"}:{type:"SET_PERMANENT",payload:o})},[o,n,a]);return d.exports.useMemo(()=>({isActive:i,onHover:{onMouseEnter:s,onMouseLeave:c},onClick:p,show:s,hide:c,isActivePermanently:a,click:p,add:l,remove:u}),[l,p,c,i,a,u,s])}const Kv="___";function Xt(e,t){return`${e}${Kv}${t}`}const bh=X`
  stroke: green;
  stroke-width: 2;
  opacity: 0.5;
`;function vh({delta:e,axis:t,show:n}){const{margin:r,width:o,height:i,xDomain:a,yDomain:s}=ce(),c=on({margin:r,width:o,xDomain:a}),l=Nt({margin:r,height:i,yDomain:s}),u=d.exports.useMemo(()=>n===!0?t==="X"?h("line",{css:bh,x1:c(e),x2:c(e),y1:l(s[0]),y2:l(s[1])},`signalLine_${e}_X`):t==="Y"?h("line",{css:bh,x1:c(a[0]),x2:c(a[1]),y1:l(e),y2:l(e)},`signalLine_${e}_Y`):null:null,[t,e,c,l,n,a,s]);return h("g",{children:u})}function Q4({signal:e}){var a,s;const t=d.exports.useMemo(()=>[Xt(e.id,"Crosshair"),Xt(e.id,"Crosshair_X")],[e.id]),n=d.exports.useMemo(()=>[Xt(e.id,"Crosshair"),Xt(e.id,"Crosshair_Y")],[e.id]),r=gt(t),o=gt(n),i=gt([e.id]);return!((a=e==null?void 0:e.x)==null?void 0:a.delta)||!((s=e==null?void 0:e.y)==null?void 0:s.delta)?null:$("g",{children:[h(vh,{delta:e.x.delta,axis:"X",show:r.isActive||i.isActive}),h(vh,{delta:e.y.delta,axis:"Y",show:o.isActive||i.isActive})]})}const e6=d.exports.memo(({signal:e,isVisible:t})=>{const{margin:n,width:r,height:o,xDomain:i,yDomain:a}=ce(),s=on({margin:n,width:r,xDomain:i}),c=Nt({margin:n,height:o,yDomain:a}),l=d.exports.useCallback(x=>[x].concat(Xt(x,"X"),Xt(x,"Y")),[]),u=rr(e.id),p=gt(l(u.id)),f=mi(),[g,v]=d.exports.useState(!1);return d.exports.useEffect(()=>{f.highlight.highlighted.some(x=>l(e.id).includes(x))||u.isActive?v(!0):v(!1)},[u.isActive,l,f.highlight.highlighted,e.id]),e?$("g",{className:"zone-signal",onMouseEnter:()=>{u.onMouseEnter(void 0),p.show()},onMouseLeave:()=>{u.onMouseLeave(void 0),p.hide()},children:[t.signals&&$("g",{children:[h("circle",{cx:s(e.x.delta||0),cy:c(e.y.delta||0),r:g?6:4,fill:g?"green":"darkgreen"},e.id),h(Q4,{signal:e})]}),h("g",{className:"zone-signal-peak",children:t.peaks&&e.peaks&&e.peaks.map((x,y)=>h("circle",{cx:s(x.x),cy:c(x.y),r:2,fill:"black"},`${e.id+y}`))})]}):null}),t6=X`
  pointer-events: bounding-box;
  @-moz-document url-prefix() {
    pointer-events: fill;
  }
  user-select: 'none';
  -webkit-user-select: none; /* Chrome all / Safari all */
  -moz-user-select: none; /* Firefox all */

  .delete-button {
    visibility: hidden;
  }
`,n6=X`
  pointer-events: bounding-box;

  @-moz-document url-prefix() {
    pointer-events: fill;
  }
  .Integral-area {
    fill: #ff6f0057;
  }
  .delete-button {
    visibility: visible;
    cursor: pointer;
  }
`,r6=({zoneData:e,isVisible:t})=>{const{x:n,y:r,id:o,signals:i}=e,a=rr(o),s=gt([a.id],{type:wt.ZONE,extra:{id:a.id}}),{margin:c,width:l,height:u,xDomain:p,yDomain:f}=ce(),g=on({margin:c,width:l,xDomain:p}),v=Nt({margin:c,height:u,yDomain:f}),{from:x=0,to:y=0}=n,{from:w=0,to:k=0}=r,[_,R]=d.exports.useState(!1);return d.exports.useEffect(()=>{R(!q3(e))},[e]),$("g",{css:s.isActive||a.isActive?n6:t6,onMouseEnter:()=>{a.onMouseEnter(void 0),s.show()},onMouseLeave:()=>{a.onMouseLeave(void 0),s.hide()},children:[t.zones&&h("g",{transform:`translate(${g(y)},${v(w)})`,children:h("rect",{x:"0",width:g(x)-g(y),height:v(k)-v(w),className:"Integral-area",fill:"#0000000f",stroke:_?"#343a40":"darkgreen",strokeWidth:_?"0":"1"})}),i.map((M,N)=>h(e6,{signal:M,isVisible:t},`${o+N}`))]},o)};function o6({zones:e,display:t,displayerKey:n}){const[r,o]=d.exports.useState({zones:!0,signals:!0,peaks:!0});return d.exports.useEffect(()=>{Et.on("onZonesVisibilityChange",({key:i})=>{o(a=>P(S({},a),{[i]:!a[i]}))})},[]),m("g",{clipPath:`url(#${n}clip-chart-2d)`,className:"2D-Zones",children:t.isVisible&&e.values.map(i=>m("g",{className:"zone",children:m(r6,{zoneData:i,isVisible:r})},i.id))})}const i6=d.exports.memo(o6),a6={zones:{},display:{}};function s6(){const{displayerKey:e}=ce(),{zones:t,display:n}=Vt(a6);return m(i6,{zones:t,display:n,displayerKey:e})}function l6({spectra:e,width:t,height:n,margin:r,displayerKey:o}){return G("svg",{viewBox:`0 0 ${t} ${n}`,width:t,height:n,id:"nmrSVG",children:[m("defs",{children:m("clipPath",{id:`${o}clip-chart-2d`,children:m("rect",{width:t-r.left-r.right,height:n-r.top-r.bottom,x:r.left,y:r.top})})}),m("rect",{width:t-r.left-r.right,height:n-r.top-r.bottom,x:r.left,y:r.top,stroke:"black",strokeWidth:"1",fill:"transparent"}),(e==null?void 0:e[0])&&m(H4,{data:e[0]}),(e==null?void 0:e[1])&&m(N4,{data:e[1]}),m(D4,{}),m(s6,{}),m(mh,{axis:"X",show:!0}),m(mh,{axis:"Y",show:!0}),G("g",{className:"container",style:{pointerEvents:"none"},children:[m(V4,{}),m(X4,{})]})]})}const c6=d.exports.memo(l6);function u6({spectra:e}){const{width:t,height:n,margin:r,displayerKey:o}=ce();return m(c6,{spectra:e,width:t,height:n,margin:r,displayerKey:o})}var Ki={SUBSCRIPT:"subscript",SUPERSCRIPT:"superscript",SUPERIMPOSE:"superimpose",TEXT:"text"},qv={BEGIN:"begin",ATOM:"atom",MULTIPLIER_RANGE:"multiplierRange",ISOTOPE:"isotope",ISOTOPE_RATIO:"isotopeRatio",CHARGE:"charge",SALT:"salt",OPENING_PARENTHESIS:"openingParenthesis",CLOSING_PARENTHESIS:"closingParenthesis",PRE_MULTIPLIER:"preMultiplier",MULTIPLIER:"multiplier",TEXT:"text",ANCHOR:"anchor",COMMENT:"comment"},d6=function(t){t=t.replace(/[()]/g,"");let n=0;if(t.match(/^[+-]+$/))for(let r=0;r<t.length;r++)t.charAt(r)==="+"?n++:n--;else t.match(/^[0-9]+[+-]$/)?n=Number(t.charAt(t.length-1)+t.substring(0,t.length-1)):n=Number(t);return n};const lt=qv,xh=d6;var Jv=function(t){return new p6().parse(t)};class p6{parse(t=""){this.mf=t,this.i=0,this.result=[];let n=lt.BEGIN;for(;this.i<t.length;){this.result.length>0&&this.result[this.result.length-1].kind!==lt.TEXT&&(n=this.result[this.result.length-1].kind);let r=t.charAt(this.i),o=t.charCodeAt(this.i),i=0;if(this.i+1<t.length&&(i=t.charCodeAt(this.i+1)),o>47&&o<58||r==="-"&&i>47&&i<58){let a=this.getNumber(o);if(n===lt.SALT||n===lt.BEGIN||n===lt.OPENING_PARENTHESIS){if(a.to)throw new dr(this.mf,this.i,"Premultiplier may not contain a -");this.result.push({kind:lt.PRE_MULTIPLIER,value:a.from})}else if(n===lt.ANCHOR){if(a.to)throw new dr(this.mf,this.i,"Anchor ID may not contain -");this.result[this.result.length-1].value=a.from}else a.to?this.result.push({kind:lt.MULTIPLIER_RANGE,value:{from:Math.min(a.from,a.to),to:Math.max(a.from,a.to)}}):this.result.push({kind:lt.MULTIPLIER,value:a.from});continue}else if(r===".")this.result.push({kind:lt.SALT,value:r});else if(r==="#")this.result.push({kind:lt.ANCHOR,value:0});else if(o>64&&o<91){let a=this.getAtom(o);this.result.push({kind:lt.ATOM,value:a});continue}else{if(o>96&&o<123)throw new dr(this.mf,this.i,"found a lowercase not following an uppercase");if(r==="("){let a=this.getParenthesisCharge(o);a?this.result.push({kind:lt.CHARGE,value:a}):this.result.push({kind:lt.OPENING_PARENTHESIS,value:"("})}else if(r===")")this.result.push({kind:lt.CLOSING_PARENTHESIS,value:")"});else if(r==="["){let a=this.getIsotope(o);this.result.push({kind:lt.ISOTOPE,value:a})}else{if(r==="]")throw new dr(this.mf,this.i,"should never meet an closing bracket not in isotopes");if(r==="{"){let a=this.getCurlyBracketIsotopeRatio(o);if(n===lt.ATOM){let s=this.result[this.result.length-1];s.kind=lt.ISOTOPE_RATIO,s.value={atom:s.value,ratio:a}}else throw new dr(this.mf,this.i,"isotopic composition has to follow an atom")}else{if(r==="}")throw new dr(this.mf,this.i,"found a unexpected closing curly bracket");if(r==="+"){let a=this.getNonParenthesisCharge(o);this.result.push({kind:lt.CHARGE,value:a})}else if(r==="-"){let a=this.getNonParenthesisCharge(o);this.result.push({kind:lt.CHARGE,value:a})}else if(r==="$"){this.result.push({kind:lt.COMMENT,value:this.mf.substring(this.i+1)});break}else this.result.push({kind:lt.TEXT,value:r})}}}this.i++}return this.checkParenthesis(),this.result}checkParenthesis(){let t=0;for(let n of this.result)n.kind===lt.OPENING_PARENTHESIS&&t++,n.kind===lt.CLOSING_PARENTHESIS&&t--;if(t!==0)throw new dr(this.mf,this.i,"number of opening and closing parenthesis not equal")}getNumber(t){let n="",r;do r=t,n+=String.fromCharCode(t),this.i++,t=this.mf.charCodeAt(this.i);while(t>47&&t<58||t===46||t===45||t===47);r===46&&this.i--;let o=n.indexOf("-",1);return o>-1?{from:Mc(n.substr(0,o)),to:Mc(n.substr(o+1))}:{from:Mc(n)}}getAtom(t){let n="";do n+=String.fromCharCode(t),this.i++,t=this.mf.charCodeAt(this.i);while(t>96&&t<123);return n}getIsotope(t){let n="";do n+=String.fromCharCode(t),this.i++,t=this.mf.charCodeAt(this.i);while(t!==93&&this.i<=this.mf.length);let r=n.replace(/[^a-zA-Z]/g,""),o=Number(n.replace(/[^0-9]/g,""));return{atom:r,isotope:o}}getCurlyBracketIsotopeRatio(t){let n="",r=!0;do r?r=!1:n+=String.fromCharCode(t),this.i++,t=this.mf.charCodeAt(this.i);while(t!==125&&this.i<=this.mf.length);if(n.match(/^[0-9,]+$/))return n.split(",").map(o=>Number(o));throw new dr(this.mf,this.i,"Curly brackets should contain only number and comma")}getParenthesisCharge(t){let n="",r=this.i;do n+=String.fromCharCode(t),this.i++,t=this.mf.charCodeAt(this.i);while(t!==41&&this.i<=this.mf.length);if(n.match(/^\([0-9+-]+$/))return xh(n.substring(1));this.i=r}getNonParenthesisCharge(t){let n="";do n+=String.fromCharCode(t),this.i++,t=this.mf.charCodeAt(this.i);while(t===43||t===45||t>47&&t<58);return this.i--,xh(n)}}class dr extends SyntaxError{constructor(t,n,r){let o=`${r}

${t}
${" ".repeat(n)}^`;super(o)}}function Mc(e){if(e.includes("/")){let t=e.split("/");if(t.length!==2)throw new TypeError("Can not parse MF with number like: ",e);return Number(t[0])/Number(t[1])}else return Number(e)}var f6=Jv,h6=function(t){return t===1?"+":t>1?`+${t}`:t<0?String(t):""};const qt=Ki,_o=qv,yh=h6;var Qv=function(t){let n=[],r={};for(let o of t)switch(o.kind){case _o.MULTIPLIER:o.value!==1&&(r={kind:qt.SUBSCRIPT,value:String(o.value)},n.push(r));break;case _o.MULTIPLIER_RANGE:r={kind:qt.SUBSCRIPT,value:`${String(o.value.from)}-${o.value.to}`},n.push(r);break;case _o.CHARGE:r.kind===qt.SUBSCRIPT?(r.kind=qt.SUPERIMPOSE,r.over=yh(o.value),r.under=r.value,r.value=void 0):(r={kind:qt.SUPERSCRIPT,value:yh(o.value)},n.push(r));break;case _o.ISOTOPE:r={kind:qt.SUPERSCRIPT,value:o.value.isotope},n.push(r),r={kind:qt.TEXT,value:o.value.atom},n.push(r);break;case _o.ISOTOPE_RATIO:r.kind===qt.TEXT?r.value+=o.value.atom:(r={kind:qt.TEXT,value:o.value.atom},n.push(r)),r={kind:qt.SUPERSCRIPT,value:`{${o.value.ratio.join(",")}}`},n.push(r);break;case _o.SALT:r.kind===qt.TEXT?r.value+=" \u2022 ":(r={kind:qt.TEXT,value:" \u2022 "},n.push(r));break;default:r.kind===qt.TEXT?r.value+=o.value:(r={kind:qt.TEXT,value:o.value},n.push(r))}return n},g6=Qv;const m6={flexDirection:"column",display:"inline-flex",justifyContent:"center",textAlign:"left",verticalAlign:"middle"},wh={lineHeight:.8,fontSize:"80%"};class Ul extends d.exports.PureComponent{render(){const i=this.props,{mf:t}=i,n=he(i,["mf"]);let r;try{r=f6(t)}catch{return m("span",P(S({},n),{children:t}))}let o=g6(r);return m("span",P(S({},n),{children:o.map(b6)}))}}Ul.propTypes={mf:Ce.string.isRequired,className:Ce.string,style:Ce.object};function b6(e,t){switch(e.kind){case Ki.SUBSCRIPT:return m("sub",{children:e.value},t);case Ki.SUPERSCRIPT:return m("sup",{children:e.value},t);case Ki.SUPERIMPOSE:return G("span",{style:m6,children:[m("span",{style:wh,children:e.over}),m("span",{style:wh,children:e.under})]},t);default:return e.value}}var e1={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(e){(function(t,n){e.exports?e.exports=n():t.numeral=n()})(rd,function(){var t,n,r="2.0.6",o={},i={},a={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},s={currentLocale:a.currentLocale,zeroFormat:a.zeroFormat,nullFormat:a.nullFormat,defaultFormat:a.defaultFormat,scalePercentBy100:a.scalePercentBy100};function c(l,u){this._input=l,this._value=u}return t=function(l){var u,p,f,g;if(t.isNumeral(l))u=l.value();else if(l===0||typeof l=="undefined")u=0;else if(l===null||n.isNaN(l))u=null;else if(typeof l=="string")if(s.zeroFormat&&l===s.zeroFormat)u=0;else if(s.nullFormat&&l===s.nullFormat||!l.replace(/[^0-9]+/g,"").length)u=null;else{for(p in o)if(g=typeof o[p].regexps.unformat=="function"?o[p].regexps.unformat():o[p].regexps.unformat,g&&l.match(g)){f=o[p].unformat;break}f=f||t._.stringToNumber,u=f(l)}else u=Number(l)||null;return new c(l,u)},t.version=r,t.isNumeral=function(l){return l instanceof c},t._=n={numberToFormat:function(l,u,p){var f=i[t.options.currentLocale],g=!1,v=!1,x=0,y="",w=1e12,k=1e9,_=1e6,R=1e3,M="",N=!1,H,A,D,z,U,Y,oe;if(l=l||0,A=Math.abs(l),t._.includes(u,"(")?(g=!0,u=u.replace(/[\(|\)]/g,"")):(t._.includes(u,"+")||t._.includes(u,"-"))&&(U=t._.includes(u,"+")?u.indexOf("+"):l<0?u.indexOf("-"):-1,u=u.replace(/[\+|\-]/g,"")),t._.includes(u,"a")&&(H=u.match(/a(k|m|b|t)?/),H=H?H[1]:!1,t._.includes(u," a")&&(y=" "),u=u.replace(new RegExp(y+"a[kmbt]?"),""),A>=w&&!H||H==="t"?(y+=f.abbreviations.trillion,l=l/w):A<w&&A>=k&&!H||H==="b"?(y+=f.abbreviations.billion,l=l/k):A<k&&A>=_&&!H||H==="m"?(y+=f.abbreviations.million,l=l/_):(A<_&&A>=R&&!H||H==="k")&&(y+=f.abbreviations.thousand,l=l/R)),t._.includes(u,"[.]")&&(v=!0,u=u.replace("[.]",".")),D=l.toString().split(".")[0],z=u.split(".")[1],Y=u.indexOf(","),x=(u.split(".")[0].split(",")[0].match(/0/g)||[]).length,z?(t._.includes(z,"[")?(z=z.replace("]",""),z=z.split("["),M=t._.toFixed(l,z[0].length+z[1].length,p,z[1].length)):M=t._.toFixed(l,z.length,p),D=M.split(".")[0],t._.includes(M,".")?M=f.delimiters.decimal+M.split(".")[1]:M="",v&&Number(M.slice(1))===0&&(M="")):D=t._.toFixed(l,0,p),y&&!H&&Number(D)>=1e3&&y!==f.abbreviations.trillion)switch(D=String(Number(D)/1e3),y){case f.abbreviations.thousand:y=f.abbreviations.million;break;case f.abbreviations.million:y=f.abbreviations.billion;break;case f.abbreviations.billion:y=f.abbreviations.trillion;break}if(t._.includes(D,"-")&&(D=D.slice(1),N=!0),D.length<x)for(var ae=x-D.length;ae>0;ae--)D="0"+D;return Y>-1&&(D=D.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),u.indexOf(".")===0&&(D=""),oe=D+M+(y||""),g?oe=(g&&N?"(":"")+oe+(g&&N?")":""):U>=0?oe=U===0?(N?"-":"+")+oe:oe+(N?"-":"+"):N&&(oe="-"+oe),oe},stringToNumber:function(l){var u=i[s.currentLocale],p=l,f={thousand:3,million:6,billion:9,trillion:12},g,v,x;if(s.zeroFormat&&l===s.zeroFormat)v=0;else if(s.nullFormat&&l===s.nullFormat||!l.replace(/[^0-9]+/g,"").length)v=null;else{v=1,u.delimiters.decimal!=="."&&(l=l.replace(/\./g,"").replace(u.delimiters.decimal,"."));for(g in f)if(x=new RegExp("[^a-zA-Z]"+u.abbreviations[g]+"(?:\\)|(\\"+u.currency.symbol+")?(?:\\))?)?$"),p.match(x)){v*=Math.pow(10,f[g]);break}v*=(l.split("-").length+Math.min(l.split("(").length-1,l.split(")").length-1))%2?1:-1,l=l.replace(/[^0-9\.]+/g,""),v*=Number(l)}return v},isNaN:function(l){return typeof l=="number"&&isNaN(l)},includes:function(l,u){return l.indexOf(u)!==-1},insert:function(l,u,p){return l.slice(0,p)+u+l.slice(p)},reduce:function(l,u){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof u!="function")throw new TypeError(u+" is not a function");var p=Object(l),f=p.length>>>0,g=0,v;if(arguments.length===3)v=arguments[2];else{for(;g<f&&!(g in p);)g++;if(g>=f)throw new TypeError("Reduce of empty array with no initial value");v=p[g++]}for(;g<f;g++)g in p&&(v=u(v,p[g],g,p));return v},multiplier:function(l){var u=l.toString().split(".");return u.length<2?1:Math.pow(10,u[1].length)},correctionFactor:function(){var l=Array.prototype.slice.call(arguments);return l.reduce(function(u,p){var f=n.multiplier(p);return u>f?u:f},1)},toFixed:function(l,u,p,f){var g=l.toString().split("."),v=u-(f||0),x,y,w,k;return g.length===2?x=Math.min(Math.max(g[1].length,v),u):x=v,w=Math.pow(10,x),k=(p(l+"e+"+x)/w).toFixed(x),f>u-x&&(y=new RegExp("\\.?0{1,"+(f-(u-x))+"}$"),k=k.replace(y,"")),k}},t.options=s,t.formats=o,t.locales=i,t.locale=function(l){return l&&(s.currentLocale=l.toLowerCase()),s.currentLocale},t.localeData=function(l){if(!l)return i[s.currentLocale];if(l=l.toLowerCase(),!i[l])throw new Error("Unknown locale : "+l);return i[l]},t.reset=function(){for(var l in a)s[l]=a[l]},t.zeroFormat=function(l){s.zeroFormat=typeof l=="string"?l:null},t.nullFormat=function(l){s.nullFormat=typeof l=="string"?l:null},t.defaultFormat=function(l){s.defaultFormat=typeof l=="string"?l:"0.0"},t.register=function(l,u,p){if(u=u.toLowerCase(),this[l+"s"][u])throw new TypeError(u+" "+l+" already registered.");return this[l+"s"][u]=p,p},t.validate=function(l,u){var p,f,g,v,x,y,w,k;if(typeof l!="string"&&(l+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",l)),l=l.trim(),l.match(/^\d+$/))return!0;if(l==="")return!1;try{w=t.localeData(u)}catch{w=t.localeData(t.locale())}return g=w.currency.symbol,x=w.abbreviations,p=w.delimiters.decimal,w.delimiters.thousands==="."?f="\\.":f=w.delimiters.thousands,k=l.match(/^[^\d]+/),k!==null&&(l=l.substr(1),k[0]!==g)||(k=l.match(/[^\d]+$/),k!==null&&(l=l.slice(0,-1),k[0]!==x.thousand&&k[0]!==x.million&&k[0]!==x.billion&&k[0]!==x.trillion))?!1:(y=new RegExp(f+"{2}"),l.match(/[^\d.,]/g)?!1:(v=l.split(p),v.length>2?!1:v.length<2?!!v[0].match(/^\d+.*\d$/)&&!v[0].match(y):v[0].length===1?!!v[0].match(/^\d+$/)&&!v[0].match(y)&&!!v[1].match(/^\d+$/):!!v[0].match(/^\d+.*\d$/)&&!v[0].match(y)&&!!v[1].match(/^\d+$/)))},t.fn=c.prototype={clone:function(){return t(this)},format:function(l,u){var p=this._value,f=l||s.defaultFormat,g,v,x;if(u=u||Math.round,p===0&&s.zeroFormat!==null)v=s.zeroFormat;else if(p===null&&s.nullFormat!==null)v=s.nullFormat;else{for(g in o)if(f.match(o[g].regexps.format)){x=o[g].format;break}x=x||t._.numberToFormat,v=x(p,f,u)}return v},value:function(){return this._value},input:function(){return this._input},set:function(l){return this._value=Number(l),this},add:function(l){var u=n.correctionFactor.call(null,this._value,l);function p(f,g,v,x){return f+Math.round(u*g)}return this._value=n.reduce([this._value,l],p,0)/u,this},subtract:function(l){var u=n.correctionFactor.call(null,this._value,l);function p(f,g,v,x){return f-Math.round(u*g)}return this._value=n.reduce([l],p,Math.round(this._value*u))/u,this},multiply:function(l){function u(p,f,g,v){var x=n.correctionFactor(p,f);return Math.round(p*x)*Math.round(f*x)/Math.round(x*x)}return this._value=n.reduce([this._value,l],u,1),this},divide:function(l){function u(p,f,g,v){var x=n.correctionFactor(p,f);return Math.round(p*x)/Math.round(f*x)}return this._value=n.reduce([this._value,l],u),this},difference:function(l){return Math.abs(t(this._value).subtract(l).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(l){var u=l%10;return~~(l%100/10)===1?"th":u===1?"st":u===2?"nd":u===3?"rd":"th"},currency:{symbol:"$"}}),function(){t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(l,u,p){var f=t._.includes(u," BPS")?" ":"",g;return l=l*1e4,u=u.replace(/\s?BPS/,""),g=t._.numberToFormat(l,u,p),t._.includes(g,")")?(g=g.split(""),g.splice(-1,0,f+"BPS"),g=g.join("")):g=g+f+"BPS",g},unformat:function(l){return+(t._.stringToNumber(l)*1e-4).toFixed(15)}})}(),function(){var l={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},u={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},p=l.suffixes.concat(u.suffixes.filter(function(g){return l.suffixes.indexOf(g)<0})),f=p.join("|");f="("+f.replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(f)},format:function(g,v,x){var y,w=t._.includes(v,"ib")?u:l,k=t._.includes(v," b")||t._.includes(v," ib")?" ":"",_,R,M;for(v=v.replace(/\s?i?b/,""),_=0;_<=w.suffixes.length;_++)if(R=Math.pow(w.base,_),M=Math.pow(w.base,_+1),g===null||g===0||g>=R&&g<M){k+=w.suffixes[_],R>0&&(g=g/R);break}return y=t._.numberToFormat(g,v,x),y+k},unformat:function(g){var v=t._.stringToNumber(g),x,y;if(v){for(x=l.suffixes.length-1;x>=0;x--){if(t._.includes(g,l.suffixes[x])){y=Math.pow(l.base,x);break}if(t._.includes(g,u.suffixes[x])){y=Math.pow(u.base,x);break}}v*=y||1}return v}})}(),function(){t.register("format","currency",{regexps:{format:/(\$)/},format:function(l,u,p){var f=t.locales[t.options.currentLocale],g={before:u.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:u.match(/([\+|\-|\)|\s|\$]*)$/)[0]},v,x,y;for(u=u.replace(/\s?\$\s?/,""),v=t._.numberToFormat(l,u,p),l>=0?(g.before=g.before.replace(/[\-\(]/,""),g.after=g.after.replace(/[\-\)]/,"")):l<0&&!t._.includes(g.before,"-")&&!t._.includes(g.before,"(")&&(g.before="-"+g.before),y=0;y<g.before.length;y++)switch(x=g.before[y],x){case"$":v=t._.insert(v,f.currency.symbol,y);break;case" ":v=t._.insert(v," ",y+f.currency.symbol.length-1);break}for(y=g.after.length-1;y>=0;y--)switch(x=g.after[y],x){case"$":v=y===g.after.length-1?v+f.currency.symbol:t._.insert(v,f.currency.symbol,-(g.after.length-(1+y)));break;case" ":v=y===g.after.length-1?v+" ":t._.insert(v," ",-(g.after.length-(1+y)+f.currency.symbol.length-1));break}return v}})}(),function(){t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(l,u,p){var f,g=typeof l=="number"&&!t._.isNaN(l)?l.toExponential():"0e+0",v=g.split("e");return u=u.replace(/e[\+|\-]{1}0/,""),f=t._.numberToFormat(Number(v[0]),u,p),f+"e"+v[1]},unformat:function(l){var u=t._.includes(l,"e+")?l.split("e+"):l.split("e-"),p=Number(u[0]),f=Number(u[1]);f=t._.includes(l,"e-")?f*=-1:f;function g(v,x,y,w){var k=t._.correctionFactor(v,x),_=v*k*(x*k)/(k*k);return _}return t._.reduce([p,Math.pow(10,f)],g,1)}})}(),function(){t.register("format","ordinal",{regexps:{format:/(o)/},format:function(l,u,p){var f=t.locales[t.options.currentLocale],g,v=t._.includes(u," o")?" ":"";return u=u.replace(/\s?o/,""),v+=f.ordinal(l),g=t._.numberToFormat(l,u,p),g+v}})}(),function(){t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(l,u,p){var f=t._.includes(u," %")?" ":"",g;return t.options.scalePercentBy100&&(l=l*100),u=u.replace(/\s?\%/,""),g=t._.numberToFormat(l,u,p),t._.includes(g,")")?(g=g.split(""),g.splice(-1,0,f+"%"),g=g.join("")):g=g+f+"%",g},unformat:function(l){var u=t._.stringToNumber(l);return t.options.scalePercentBy100?u*.01:u}})}(),function(){t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(l,u,p){var f=Math.floor(l/60/60),g=Math.floor((l-f*60*60)/60),v=Math.round(l-f*60*60-g*60);return f+":"+(g<10?"0"+g:g)+":"+(v<10?"0"+v:v)},unformat:function(l){var u=l.split(":"),p=0;return u.length===3?(p=p+Number(u[0])*60*60,p=p+Number(u[1])*60,p=p+Number(u[2])):u.length===2&&(p=p+Number(u[0])*60,p=p+Number(u[1])),Number(p)}})}(),t})})(e1);var t1=e1.exports;function Fn(e,t,n="",r=""){return n+t1(e).format(t)+r}function Tn(e){const t=dt(),n=ve(t,"formatting.nucleusByKey",{ppm:"0.0",hz:"0.0"});return d.exports.useMemo(()=>{function r(o){return(i,a="ppm",s="",c="")=>s+t1(Number(i)).format(ve(n,`${o.toLowerCase()}.${a}`,"0.0"))+c}if(!e)return()=>{};if(typeof e=="string")return r(e);if(Array.isArray(e))return e.map(o=>r(o));throw Error("nuclus must be string or array of string")},[e,n])}function Sh(e){e=String(e).trim();const t=e.lastIndexOf(".");return t>0?e.substr(t).split("").length-1:0}const Ch=X`
  display: flex;
  flex-firection: row;
  align-items: center;
  pointer-events: bounding-box;
  user-select: 'none';
  -webkit-user-select: none; /* Chrome all / Safari all */
  -moz-user-select: none; /* Firefox all */
  background-color: #f7f7f7;
  height: 30px;
  padding: 6px;
  color: #8d0018;
  position: absolute;
  width: 100%;
  bottom: 0;
  div {
    margin: 0px 10px;
    display: inline-block;

    .label {
      font-size: 12px;
      color: #4d4d4d;
      font-weight: bold;
    }
    .value {
      font-weight: bold;
      font-size: 14px;
    }
    .unit {
      font-weight: bold;
      font-size: 10px;
    }
  }
`;function v6({layout:e,data1D:t}){const n=d.exports.useContext(or),{startX:r,endX:o,startY:i,endY:a,step:s}=d.exports.useContext(Ar),{margin:c,width:l,height:u,activeSpectrum:p,xDomain:f,yDomain:g,yDomains:v,activeTab:x,data:y,toolOptions:{selectedTool:w}}=ce(),k=n&&Vo(e,{startX:n.x,startY:n.y}),_=x.split(","),[R,M]=Tn(_),N=d.exports.useMemo(()=>{if(!t||t.length===0)return on({width:l,margin:c,xDomain:f});if(w!==K.slicingTool.id)switch(k){case Ne.TOP_1D:case Ne.CENTER_2D:return on({width:l,margin:c,xDomain:f});case Ne.LEFT_1D:return Nt({height:u,margin:c,yDomain:g});default:return null}return null},[t,u,c,w,k,l,f,g]),H=d.exports.useMemo(()=>{if(!t||t.length===0)return Nt({height:u,margin:c,yDomain:g});if(w!==K.slicingTool.id)switch(k){case Ne.CENTER_2D:return Nt({height:u,margin:c,yDomain:g});case Ne.TOP_1D:return t[0]?ei(v[t[0].id],c.top):null;case Ne.LEFT_1D:return t[1]?ei(v[t[1].id],c.left):null;default:return null}return null},[t,u,c,w,k,g,v]);if(!p||!n||n.y<10||n.x<10||n.x>l-c.right||n.y>u-c.bottom)return h("div",{css:Ch});const A=je=>{let ue=null;if(k===Ne.TOP_1D?ue=0:k===Ne.LEFT_1D&&(ue=1),ue!=null&&N!=null){const me=di(t[ue]),$e=$n(me.x,N.invert(je));return me.y[$e]}return 1},D=(je=null)=>{if(N!=null)switch(k){case Ne.CENTER_2D:case Ne.TOP_1D:return N.invert(je||n.x);case Ne.LEFT_1D:return N.invert(je||n.y);default:return 0}return 0},z=()=>{if(H!=null)switch(k){case Ne.CENTER_2D:case Ne.TOP_1D:return H.invert(n.y);case Ne.LEFT_1D:return H.invert(n.x);default:return 0}return 0},U=()=>{switch(k){case Ne.TOP_1D:return(A(r)/(A(o)||Number.MIN_VALUE)*100).toFixed(2);case Ne.LEFT_1D:return(A(i)/(A(a)||Number.MIN_VALUE)*100).toFixed(2);default:return 0}},Y=()=>{switch(k){case Ne.TOP_1D:return(D(r)-D(o)).toPrecision(6);case Ne.LEFT_1D:return(D(i)-D(a)).toPrecision(6);default:return 0}},oe=(je,ue,me)=>k===Ne.CENTER_2D?$(d.exports.Fragment,{children:[je," ( ",h(Ul,{mf:me})," )"]}):ue,ae=()=>{if(k===Ne.CENTER_2D){const{maxX:je,maxY:ue,minX:me,minY:$e,z:He}=y[p.index].data,Pe=(je-me)/(He[0].length-1),St=(ue-$e)/(He.length-1),nt=Math.floor((D()-me)/Pe),Ft=Math.floor((z()-$e)/St);return nt<0||nt>=He[0].length||Ft<0||Ft>=He.length?0:He[Ft][nt]}return 0};return $("div",{css:Ch,children:[$("div",{children:[$("span",{className:"label",children:[oe("F2","X",_[0])," :"]}),h("span",{className:"value",children:R(D())}),h("span",{className:"unit",children:"ppm"})]}),$("div",{children:[$("span",{className:"label",children:[oe("F1","Y",_[1])," :"]}),h("span",{className:"value",children:M(z())}),h("span",{className:"unit",children:"ppm"})]}),$("div",{children:[h("span",{className:"label",children:"Intensity :"}),h("span",{className:"value",children:ae()})]}),s==="brushing"&&$("div",{children:[h("span",{className:"label",children:" \u0394ppm :"}),h("span",{className:"value",children:Y()})]}),s==="brushing"&&$("div",{children:[h("span",{className:"label",children:" ratio :"}),$("span",{className:"value",children:[U(),"%"]})]})]})}const x6={cursor:"crosshair",transformOrigin:"bottom right",position:"absolute",top:"-18px",left:"-88px",fontWeight:"bold",pointerEvents:"none",overflow:"visible",userSelect:"none",width:"85px",textAlign:"right"};function y6({layout:e,data1D:t}){const n=d.exports.useContext(or),{step:r}=d.exports.useContext(Ar),{margin:o,width:i,height:a,xDomain:s,yDomain:c,yDomains:l,activeTab:u,activeSpectrum:p}=ce(),f=n&&Vo(e,{startX:n.x,startY:n.y}),g=u.split(","),[v,x]=Tn(g),y=d.exports.useMemo(()=>{if(!p||!t||t.length===0)return on({width:i,margin:o,xDomain:s});switch(f){case Ne.TOP_1D:case Ne.CENTER_2D:return on({width:i,margin:o,xDomain:s});case Ne.LEFT_1D:return Nt({height:a,margin:o,yDomain:c});default:return null}},[p,t,a,o,f,i,s,c]),w=d.exports.useMemo(()=>{if(!p||!t||t.length===0)return Nt({height:a,margin:o,yDomain:c});switch(f){case Ne.CENTER_2D:return Nt({height:a,margin:o,yDomain:c});case Ne.TOP_1D:return t[0]?ei(l[t[0].id],o.top):null;case Ne.LEFT_1D:return t[1]?ei(l[t[1].id],o.left):null;default:return null}},[p,t,a,o,f,c,l]);if(r==="brushing"||!n||n.y<o.top||n.x<o.left||n.x>i-o.right||n.y>a-o.bottom)return null;const k=(R=null)=>{switch(f){case Ne.CENTER_2D:case Ne.TOP_1D:return y==null?void 0:y.invert(R||n.x);case Ne.LEFT_1D:return y==null?void 0:y.invert(R||n.y);default:return 0}},_=()=>{switch(f){case Ne.CENTER_2D:case Ne.TOP_1D:return w==null?void 0:w.invert(n.y);case Ne.LEFT_1D:return w==null?void 0:w.invert(n.x);default:return 0}};return G("div",{style:P(S({},x6),{transform:`translate(${n.x}px, ${n.y}px)`}),children:[m("span",{children:x(_())}),m("span",{style:{color:"gray"},children:","}),m("span",{style:{color:"red"},children:v(k())})]},"xLabelPointer")}function n1(e,t,n=10){return Vn(wr(t),[e-n,n])}function w6({margin:e=10,data:t}){const{width:n,margin:r,xDomain:o,displayerKey:i}=ce(),a=ka(gi.XAxis),s=r.top,c=d.exports.useMemo(()=>{if(t){const{x:l,re:u}=t,p=on({margin:r,width:n,xDomain:o}),f=n1(s,u,e),g=a({x:l,y:u}),v=new fo;v.moveTo(p(g.x[0]),f(g.y[0]));for(let x=1;x<g.x.length;x++)v.lineTo(p(g.x[x]),f(g.y[x]));return v.toString()}else return},[t,s,e,r,n,o,a]);return!n||!s?null:G("svg",{viewBox:`0 0 ${n} ${s}`,width:n,height:s,children:[m("defs",{children:m("clipPath",{id:`${i}clip-top`,children:m("rect",{width:n-r.left-r.right,height:s,x:r.left,y:`${0}`})})}),G("g",{clipPath:`url(#${i}clip-top)`,children:[m("rect",{width:n-r.left-r.right,height:s,x:r.left,y:`${0}`,fillOpacity:"0"}),m("path",{className:"line",stroke:"red",fill:"none",d:c})]})]})}var S6=d.exports.memo(w6);function C6({margin:e=10,data:t}){const{height:n,margin:r,yDomain:o,displayerKey:i}=ce(),a=ka(gi.YAxis),s=r.left,c=d.exports.useMemo(()=>{if(t){const{x:u,re:p}=t,f=Nt({height:n,margin:r,yDomain:o}),g=n1(s,p,e),v=a({x:u,y:p}),x=new fo;x.moveTo(g(v.y[v.y.length-1]),f(v.x.length-1));for(let y=v.x.length-2;y>=0;y--)x.lineTo(g(v.y[y]),f(v.x[y]));return x.toString()}else return},[t,s,r,e,n,a,o]),l=n-r.bottom-r.top;return!l||!s?null:G("svg",{viewBox:`0 0 ${s} ${l+r.top}`,width:s,height:l+r.top,children:[m("defs",{children:m("clipPath",{id:`${i}clip-left`,children:m("rect",{width:s,height:l,x:"0",y:r.top})})}),m("g",{clipPath:`url(#${i}clip-left)`,children:m("path",{className:"line",stroke:"red",fill:"none",d:c})})]})}var k6=d.exports.memo(C6);function E6(){const{width:e,height:t,margin:n,activeSpectrum:r,data:o,xDomain:i,yDomain:a}=ce(),s=zC(),c=d.exports.useMemo(()=>{if(s&&r&&r.id){const{x:l,y:u}=s,p=on({margin:n,width:e,xDomain:i}),f=Nt({margin:n,height:t,yDomain:a}),g=L5(o[r.index],{x:p.invert(l),y:f.invert(u)});return G("svg",{viewBox:`0 0 ${e} ${t}`,width:e,height:t,style:{position:"absolute",backgroundColor:"rgba(255,255,255,0.8)"},children:[(g==null?void 0:g.horizontal)&&m(S6,{data:g.horizontal.data}),(g==null?void 0:g.vertical)&&m(k6,{data:g.vertical.data})]})}return null},[s,r,n,e,i,t,a,o]);return s?c:null}function _6({emptyText:e=void 0}){const t=ce(),{toolOptions:{selectedTool:n},isLoading:r,data:o,margin:i,tabActiveSpectrum:a,activeTab:s}=t,c=Re(),{info:l}=Vt({info:{}}),u=l.isFt||!("isFt"in l),p=d.exports.useMemo(()=>s.split(",").reduce((k,_)=>{var R,M;if((R=a[_])==null?void 0:R.id){const N=(M=a[_])==null?void 0:M.id,H=o.find(A=>A.id===N&&!A.info.isFid);H&&k.push(H)}else k.push(null);return k},[]),[s,o,a]),f=J3(t),g=d.exports.useCallback(w=>{if(Vo(f,w)&&!w.altKey)if(w.shiftKey)switch(n){case K.zone2D.id:c(S({type:Zb},w));break}else switch(n){default:if(n!=null)return c(P(S({type:Bl},w),{trackID:Vo(f,w)}))}},[n,c,f]),v=d.exports.useCallback(w=>{const{x:k,y:_}=w,R=Vo(f,{startX:k,startY:_});R&&c({type:ti,trackID:R})},[f,c]),x=w=>{const{x:k,y:_}=w,R=Vo(f,{startX:k,startY:_});R&&c(R==="CENTER_2D"?S({type:Yb},w):{type:zl,event:w,trackID:R})},y=d.exports.useCallback(w=>{},[n]);return u?m(od,{children:({width:w,height:k})=>G(r1,{width:w,height:k,children:[m(Hv,{isLoading:r,emptyText:e}),o&&o.length>0&&m(J0,{onBrush:g,onDoubleClick:v,onClick:y,onZoom:x,style:{width:"100%",height:"100%",margin:"auto",position:"relative",overflow:"hidden"},children:G(Q0,{style:{width:"100%",height:"100%",position:"absolute"},children:[n&&n===K.slicingTool.id&&m(E6,{}),m(zv,{}),p&&m(y6,{data1D:p,layout:f}),m(Us,{brushType:un.XY,dimensionBorder:f.CENTER_2D}),G(In,{children:[(p==null?void 0:p[0])&&m(Us,{brushType:un.X,dimensionBorder:f.TOP_1D,height:i.top}),(p==null?void 0:p[1])&&m(Us,{brushType:un.Y,dimensionBorder:f.LEFT_1D,width:i.left})]}),p&&m(v6,{data1D:p,layout:f}),m(u6,{spectra:p})]})})]})}):m(Iv,{emptyText:"Currently FID can not be displayed for 2D spectra",canOpenLoader:!1})}function r1(e){const t=Re(),{width:n,height:r,children:o}=e;return d.exports.useEffect(()=>{t({type:Fd,width:n,height:r})},[n,r,t]),o}const T6="SET_X_SCALE",R6="SET_Y_SCALE",o1="SET_SCALE",i1={scaleX:null,scaleY:null};function A6(e,t){switch(t.type){case T6:e.scaleX=(n=null)=>ao(t,n);break;case R6:e.scaleY=(n=null)=>ol(t,n);break;case o1:{e.scaleX=(n=null)=>ao(t.payload,n),e.scaleY=(n=null)=>ol(t.payload,n);break}default:return e}}const P6=td(A6),a1=d.exports.createContext(i1),M6=a1.Provider;function Xd(){return d.exports.useContext(a1)}function Rt(){const e=Xd();if(!e.scaleX||!e.scaleY)throw new Error("scale cannot be null");return e}const tt={TOP_LEFT:"top left",TOP_CENTER:"top center",TOP_RIGHT:"top right",MIDDLE_LEFT:"middle left",MIDDLE:"middle",MIDDLE_RIGHT:"middle right",BOTTOM_LEFT:"bottom left",BOTTOM_CENTER:"bottom center",BOTTOM_RIGHT:"bottom right"},Oi={INFO:"info",SUCCESS:"success",ERROR:"error",PROGRESS_INDICATOR:"progress_indicator"},Gn={FADE:"fade",SCALE:"scale",SLIDE_RIGHT:"slide_right",SLIDE_LEFT:"slide_left",SLIDE_TOP:"slide_top",SLIDE_BOTTOM:"slide_bottom"},s1=d.exports.createContext({}),F6=s1.Provider;function mt(){return d.exports.useContext(s1)}const Su=250,O6={[Gn.FADE]:{transition:`opacity ${Su}ms ease`,opacity:0},[Gn.SCALE]:{transform:"scale(1)",transition:`all ${Su}ms ease-in-out`}},$6={[Gn.FADE]:{entering:{opacity:0},entered:{opacity:1}},[Gn.SCALE]:{entering:{transform:"scale(0)"},entered:{transform:"scale(1)"},exiting:{transform:"scale(0)"},exited:{transform:"scale(1)"}}};function l1(o){var i=o,{children:e,type:t,transitionStyles:n=$6}=i,r=he(i,["children","type","transitionStyles"]);const a=d.exports.useRef(null);return m(lS,P(S({nodeRef:a},r),{timeout:Su,children:s=>m("div",{ref:a,style:S(S(S({},O6[t]),n[t][s]),n.default),children:e})}))}function D6(e,t){const n=S({position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",pointerEvents:"none",overflow:"visible"},t?{top:`${t.top}px`,left:`${t.left}px`,height:`${t.height}px`,width:`${t.width}px`}:{width:"100%",height:"100%"});switch(e){case tt.TOP_LEFT:return P(S({},n),{justifyContent:"flex-start",alignItems:"flex-start"});case tt.TOP_CENTER:return P(S({},n),{justifyContent:"flex-start"});case tt.TOP_RIGHT:return P(S({},n),{justifyContent:"flex-start",alignItems:"flex-end"});case tt.MIDDLE_LEFT:return P(S({},n),{justifyContent:"center",alignItems:"flex-start"});case tt.MIDDLE:return P(S({},n),{justifyContent:"center"});case tt.MIDDLE_RIGHT:return P(S({},n),{justifyContent:"center",alignItems:"flex-end"});case tt.BOTTOM_LEFT:return P(S({},n),{justifyContent:"flex-end",alignItems:"flex-start"});case tt.BOTTOM_CENTER:return P(S({},n),{justifyContent:"flex-end"});case tt.BOTTOM_RIGHT:return P(S({},n),{justifyContent:"flex-end",alignItems:"flex-end"});default:return n}}function c1(o){var i=o,{children:e,options:{position:t},containerStyle:n}=i,r=he(i,["children","options","containerStyle"]);const a=d.exports.useMemo(()=>D6(t,n),[t,n]);return e.length>0&&m("div",P(S({style:a},r),{children:e}))}function I6(e,t){return e.reduce((n,r)=>{const o=t(r);return n[o]||(n[o]=[]),n[o].push(r),n},{})}const N6=X`
  width: 40px;
  height: 40px;
  margin: 0 auto;
  :after {
    content: ' ';
    display: block;
    width: 30px;
    height: 30px;
    margin-top: 10px;
    border-radius: 50%;
    border: 4px solid;
    border-color: #fff transparent #fff transparent;
    animation: ring-animation 1s linear infinite;
  }
  @keyframes ring-animation {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`;function L6(){return h("div",{css:N6})}function H6(c){var l=c,{children:e,wrapperRef:t=null,offset:n="5px",position:r=tt.BOTTOM_CENTER,timeout:o=3e3,type:i,transition:a=Gn.FADE}=l,s=he(l,["children","wrapperRef","offset","position","timeout","type","transition"]);const u=d.exports.useRef(null),p=d.exports.useRef([]),[f,g]=d.exports.useState([]);d.exports.useEffect(()=>{u.current=document.createElement("div");const A=u.current,D=p.current;return t&&t.appendChild(A),()=>{A&&t&&(D.forEach(clearTimeout),t.removeChild(A))}},[t]);const v=d.exports.useCallback(A=>{g(D=>{const z=D.length,U=D.filter(Y=>Y.id!==A.id);return z>U.length&&A.options.onClose&&A.options.onClose(),U})},[]),x=d.exports.useCallback((A="",D={})=>{const z=Math.random().toString(36).substr(2,9),U=S({position:D.position||r,timeout:o,type:i,backgroundColor:"black",color:"white"},D),Y={id:z,message:A,options:U};if(Y.close=()=>v(Y),Y.options.timeout){const oe=setTimeout(()=>{v(Y),p.current.splice(p.current.indexOf(oe),1)},Y.options.timeout);p.current.push(oe)}return g(oe=>oe.concat(Y)),Y.options.onOpen&&Y.options.onOpen(),Y},[r,v,o,i]),y=d.exports.useCallback((A="",D={})=>(D.type=Oi.SUCCESS,D=S({backgroundColor:"#28ba62",color:"white"},D),x(A,D)),[x]),w=d.exports.useCallback((A="",D={})=>(D.type=Oi.ERROR,D=S({backgroundColor:"#cf3c4f",color:"white"},D),x(A,D)),[x]),k=d.exports.useCallback((A="",D={})=>(D.type=Oi.INFO,D.color="#28ba62",x(A,D)),[x]),_=d.exports.useCallback((A="Process in progress",D={})=>(D.type=Oi.PROGRESS_INDICATOR,D.timeout=0,D.backgroundColor="#232323",new Promise(z=>{const U=x(A,D);setTimeout(()=>{z(()=>v(U))},500)})),[v,x]),R=d.exports.useCallback(A=>{v(A)},[v]),M=I6(f,A=>A.options.position),N=d.exports.useMemo(()=>t?t.getBoundingClientRect():{top:0,left:0,width:window.innerWidth,height:window.innerHeight},[t]),H=d.exports.useMemo(()=>({show:x,success:y,error:w,info:k,showLoading:_}),[x,y,w,k,_]);return G(F6,{value:H,children:[e,u.current&&Tl.exports.createPortal(m(d.exports.Fragment,{children:Object.keys(tt).map(A=>{const D=tt[A];return m(D0,P(S({appear:!0,options:{position:D,zIndex:999999},component:c1,containerStyle:N},s),{children:M[D]?M[D].map(z=>m(l1,{type:a,children:G("div",{style:{margin:n,padding:"25px",borderRadius:"10px",pointerEvents:"all",backgroundColor:z.options.backgroundColor,color:z.options.color,minHeight:"60px",position:"relative"},children:[m("button",{style:{position:"absolute",right:"5px",top:"5px",border:"none",backgroundColor:"transparent",color:"white"},type:"button",onClick:()=>R(z),children:m(id,{})}),m("span",{children:z.message}),z.options.type===Oi.PROGRESS_INDICATOR&&m(L6,{})]},z.id)},z.id)):null}),D)})}),u.current)]})}var z6=d.exports.memo(H6);const u1=d.exports.createContext({}),B6=u1.Provider;function Tt(){return d.exports.useContext(u1)}const j6=X`
  display: block;
  border-radius: 5px;
  overflow: hidden;
  width: 300px;
  border-top: 10px solid #ed0000;

  .message {
    font-weight: bold;
    font-size: 14px;
    text-align: center;
    color: #af0000;
    text-align: center;
    padding: 25px;
    display: block;
  }
  .buttons-container {
    display: flex;
    flex-direction: row-reverse;
    align-items: flex-end;
    padding: 5px;
    border-top: 1px solid #efefef;

    button:last-of-type {
      border-radius: 5px 0 0 5px;
    }
    button:first-of-type {
      border-radius: 0px 5px 5px 0px;
      border-width: 1px;
    }
    button {
      border-color: #dcdcdc;
      border-width: 1px 0px 1px 1px;
      background-color: white;
      display: inline-block;
      cursor: pointer;
      color: #363636;
      font-weight: bold;
      padding: 6px 24px;
      text-decoration: none;
    }
    button:hover {
      background: -webkit-gradient(
        linear,
        left top,
        left bottom,
        color-stop(0.05, #f6f6f6),
        color-stop(1, #ffffff)
      );
      background: -moz-linear-gradient(top, #f6f6f6 5%, #ffffff 100%);
      background: -webkit-linear-gradient(top, #f6f6f6 5%, #ffffff 100%);
      background: -o-linear-gradient(top, #f6f6f6 5%, #ffffff 100%);
      background: -ms-linear-gradient(top, #f6f6f6 5%, #ffffff 100%);
      background: linear-gradient(to bottom, #f6f6f6 5%, #ffffff 100%);
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#f6f6f6', endColorstr='#ffffff',GradientType=0);
      background-color: #f6f6f6;
    }
  }
`;function V6({style:e={},buttons:t=[],onClose:n,message:r}){const o=d.exports.useCallback((i,{handler:a=()=>null})=>{a(i),n()},[n]);return $("div",{style:e,css:j6,children:[h("p",{className:"message",children:r}),h("div",{className:"buttons-container",children:t.map(i=>h("button",{type:"button",onClick:a=>o(a,i),style:i.style&&i.style,children:i.text},i.text))})]})}const G6=({modal:e,onClose:t,onLayout:n})=>{const r=d.exports.useRef(),[o,{width:i,height:a}]=cS(()=>m("div",{style:{height:"100%",display:"block",overflow:"auto"},children:d.exports.cloneElement(e.component,P(S({},e.options),{onClose:t,style:{cursor:"default"}}))}));return d.exports.useEffect(()=>{isFinite(a)&&isFinite(i)&&!r.current&&(r.current={width:i,height:a},n({modal:e,layout:{width:i,height:a}}))},[i,a,r,n,e]),o},W6={[Gn.FADE]:{entering:{opacity:0},entered:{opacity:1}},[Gn.SCALE]:{entering:{transform:"scale(0)"},entered:{transform:"scale(1)"},exiting:{transform:"scale(0)"},exited:{transform:"scale(0)"}}};function U6({children:e,style:t=void 0,offset:n="0px",position:r=tt.MIDDLE,transition:o=Gn.SCALE,wrapperRef:i=null}){const a=d.exports.useRef(),s=d.exports.useRef(),[c,l]=d.exports.useState();d.exports.useEffect(()=>{a.current=document.createElement("div");const k=a.current;return i&&i.appendChild(k),()=>{k&&i&&i.removeChild(k)}},[i]);const u=d.exports.useCallback(function(){l(null)},[l]),p=d.exports.useMemo(()=>i?i.getBoundingClientRect():{top:0,left:0,width:window.innerWidth,height:window.innerHeight},[i]),f=d.exports.useCallback((k,_={})=>{const R={component:k,options:S({isBackgroundBlur:!0,enableResizing:!1},_)};return R.close=u,l(R),R.options.onOpen&&R.options.onOpen(),R},[u]),g=d.exports.useCallback((k,_={enableResizing:!1})=>{const R={component:h(V6,S({},k)),options:S({isBackgroundBlur:!0},_)};return R.close=u,l(R),R.options.onOpen&&R.options.onOpen(),R},[u]);d.exports.useEffect(()=>{function k(_){["Escape","Esc"].includes(_.key)&&u()}return document.addEventListener("keydown",k,!1),()=>document.removeEventListener("keydown",k,!1)},[u]);const v=X`
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    right: 0;
    z-index: 0;
    pointer-events: all;
    .handle {
      cursor: move;
    }

    .rnd-container {
      box-sizing: initial;
      background-color: #fff;
      box-shadow: 0 0 0 0, 0 8px 16px rgba(0, 0, 0, 0.3);
      border-radius: 5px;
    }
  `,x=(c==null?void 0:c.options.isBackgroundBlur)?{backgroundColor:"rgba(255,255,255,0.8)"}:{pointerEvents:"none"},y=d.exports.useMemo(()=>({show:f,close:u,showConfirmDialog:g}),[f,u,g]),w=d.exports.useCallback(({modal:k,layout:_})=>{const R=k.options.width?k.options.width:_.width>p.width?p.width:_.width,M=k.options.height?k.options.height:_.height>p.height?p.height:_.height;s.current.updateSize({width:R,height:M})},[p.height,p.width]);return $(B6,{value:y,children:[e,a.current&&Tl.exports.createPortal(h(d.exports.Fragment,{children:c?h("div",{css:v,style:S({},x),children:h(D0,{appear:!0,options:{position:c.options.position?c.options.position:r},containerStyle:p,component:c1,children:h(l1,{type:c.options.transition?c.options.transition:o,transitionStyles:P(S({},W6),{default:{width:c.options.width?`${c.options.width}px`:"auto"},height:c.options.height?`${c.options.height}px`:"auto"}),children:h(uS,{maxWidth:p.width,maxHeight:p.height,ref:s,default:{width:c.options.width?c.options.width:"auto",height:c.options.height?c.options.height:"auto",x:0,y:0},className:"rnd-container",style:P(S({},t),{margin:n,position:"static",pointerEvents:"all",userSelect:"none"}),enableResizing:c.options.enableResizing,dragHandleClassName:"handle",enableUserSelectHack:!1,children:h(G6,{modal:c,onClose:u,onLayout:w})})},c.id)},tt[c.options.transition?c.options.transition:o])}):null}),a.current)]})}const d1=d.exports.createContext({}),X6=d1.Provider;function Yd(){return d.exports.useContext(d1)}const Y6={popup:{position:"fixed",top:0,left:0,pointerEvents:"none",backgroundColor:"gray",padding:"3px",borderRadius:"2px",color:"white",whiteSpace:"nowrap",fontSize:"10px",fontFamily:"tahoma",textShadow:"none"}};function Z6({style:e={popup:{},mainContainer:{}},className:t="",popupPlacement:n="right",children:r,title:o,offset:i={x:0,y:0}}){const a=d.exports.useRef(null),s=d.exports.useRef(null),[c,l]=d.exports.useState({x:0,y:0}),[u,p]=d.exports.useState(!1),{elementsWraperRef:f}=Yd();d.exports.useLayoutEffect(()=>{const x=()=>{let y,w;if(a.current===null||s.current===null)return null;const k=a.current.getBoundingClientRect(),_=s.current.getBoundingClientRect();switch(n){case"left":y=-_.width,w=k.height/2-k.height/2*_.height/k.height;break;case"right":y=k.width,w=k.height/2-k.height/2*_.height/k.height;break;case"top":y=k.width/2-k.width/2*_.width/k.width,w=-k.height;break;case"bottom":y=k.width/2-k.width/2*_.width/k.width,w=k.height;break;default:y=0,w=0;break}return{x:y+k.x,y:w+k.y}};if(u){const y=x();y&&l(y)}},[n,u]);const g=d.exports.useCallback(()=>{p(!0)},[]),v=d.exports.useCallback(()=>{p(!1)},[]);return G(d.exports.Fragment,{children:[m("div",{style:S({position:"relative",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},e.mainContainer),ref:a,onMouseOver:g,onMouseOut:v,children:r}),u&&Tl.exports.createPortal(m("div",{ref:s,style:S(P(S({},Y6.popup),{transform:`translate(${c.x+i.x}px,${c.y+i.y}px)`,zIndex:999999999}),e.popup),className:t,children:m("span",{style:{pointerEvents:"none"},children:o})}),f)]})}var rn=d.exports.memo(Z6);const kh={button:{backgroundColor:"transparent",border:"none",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},svg:{fill:"#ca0000",fontSize:"16px"}};function K6(e){const{onClick:t=()=>null,popupTitle:n="Close",popupPlacement:r="left",className:o=""}=e;return m("div",{className:o,children:m(rn,{title:n,popupPlacement:r,children:m("button",{style:kh.button,type:"button",onClick:t,children:m(id,{style:kh.svg})})})})}var At=d.exports.memo(K6);const q6=X`
  display: flex;
  flex-direction: column;
  width: 900px;
  height: 400px;
  padding: 5px;
  button:focus {
    outline: none;
  }
  .header {
    height: 24px;
    border-bottom: 1px solid #f0f0f0;
    display: flex;
    span {
      color: #464646;
      font-size: 15px;
      flex: 1;
    }

    button {
      background-color: transparent;
      border: none;
      svg {
        height: 16px;
      }
    }
  }
  .container {
    overflow-y: auto;
    background-color: white;
    padding-top: 10px;

    .row {
      outline: none;
      display: flex !important;
      flex-direction: row;
      margin: 0;
      div {
        flex: 4;
      }
      .multiplicity {
        flex: 2;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    }

    .row:nth-child(odd) {
      background: #fafafa;
    }
  }
`,J6=X`
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  user-select: none;
  width: 900px;
  height: 400px;

  svg {
    animation-duration: 0.5s;
    animation-name: spinAnimation;
    animation-iteration-count: infinite;
    animation-fill-mode: forwards;
    animation-direction: inherit;
    animation-timing-function: linear;
    animation-duration: 1s;
    width: 100px;
    height: 100px;
  }

  @keyframes spinAnimation {
    from {
      transform: rotate(0deg);
    }

    to {
      transform: rotate(360deg);
    }
  }
`;function Q6({data:e,activeSpectrum:t,scaleX:n,startX:r,endX:o,onClose:i}){var f;const[a,s]=d.exports.useState(),[c,l]=d.exports.useState(!1),[u,p]=d.exports.useState(!1);return d.exports.useEffect(()=>{setTimeout(()=>{l(!0)},400)},[]),d.exports.useEffect(()=>{if(t&&r&&o&&c){const g=e[t.index];if(gu(g))throw new Error("unreachable");const{data:{x:v,re:x},info:y}=g,w=n().invert(r),k=n().invert(o),{fromIndex:_,toIndex:R}=ua(v,{from:w,to:k}),M={x:v.slice(_,R),y:x.slice(_,R)};try{const N=R0(M,{frequency:y.originFrequency,takeBestPartMultiplet:!0,symmetrizeEachStep:!0,debug:!0});p(!0),s(N)}catch(N){console.log(N)}}},[r,o,e,n,t,c]),u?$("div",{css:q6,children:[$("div",{className:"header handle",children:[h("span",{children:"Analyse Multiplet"}),h(At,{onClick:i})]}),h("div",{className:"container",children:(f=a==null?void 0:a.debug)==null?void 0:f.steps.map((g,v)=>{var x,y;return $("div",{className:"row",children:[$(qo,{width:400,height:200,svgStyle:{overflow:"visible"},seriesViewportStyle:{stroke:"black"},children:[h(zn,{data:Kf(g.multiplet)}),h(kn,{id:"y",position:"left",tickPosition:"inner",displayPrimaryGridLines:!0,hiddenTicks:!0,paddingStart:.1,paddingEnd:.1}),h(kn,{id:"x",position:"bottom",tickPosition:"inner",displayPrimaryGridLines:!0})]}),h("div",{className:"multiplicity",children:h("p",{children:a.js[v]?`${(x=a.js[v])==null?void 0:x.multiplicity}: ${(y=a.js[v])==null?void 0:y.coupling.toFixed(3)} Hz`:""})}),$(qo,{width:400,height:200,seriesViewportStyle:{stroke:"black"},children:[h(zn,{data:Kf(g.errorFunction),lineStyle:{strokeWidth:1}}),h(kn,{id:"y",position:"left",tickPosition:"inner",displayPrimaryGridLines:!0,hiddenTicks:!0,paddingStart:.1,paddingEnd:.1}),h(kn,{id:"x",position:"bottom",tickPosition:"inner",displayPrimaryGridLines:!0})]})]},v)})})]}):$("div",{css:J6,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 841.9 595.3",children:$("g",{fill:"#61DAFB",children:[h("path",{d:"M666.3 296.5c0-32.5-40.7-63.3-103.1-82.4 14.4-63.6 8-114.2-20.2-130.4-6.5-3.8-14.1-5.6-22.4-5.6v22.3c4.6 0 8.3.9 11.4 2.6 13.6 7.8 19.5 37.5 14.9 75.7-1.1 9.4-2.9 19.3-5.1 29.4-19.6-4.8-41-8.5-63.5-10.9-13.5-18.5-27.5-35.3-41.6-50 32.6-30.3 63.2-46.9 84-46.9V78c-27.5 0-63.5 19.6-99.9 53.6-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7 0 51.4 16.5 84 46.6-14 14.7-28 31.4-41.3 49.9-22.6 2.4-44 6.1-63.6 11-2.3-10-4-19.7-5.2-29-4.7-38.2 1.1-67.9 14.6-75.8 3-1.8 6.9-2.6 11.5-2.6V78.5c-8.4 0-16 1.8-22.6 5.6-28.1 16.2-34.4 66.7-19.9 130.1-62.2 19.2-102.7 49.9-102.7 82.3 0 32.5 40.7 63.3 103.1 82.4-14.4 63.6-8 114.2 20.2 130.4 6.5 3.8 14.1 5.6 22.5 5.6 27.5 0 63.5-19.6 99.9-53.6 36.4 33.8 72.4 53.2 99.9 53.2 8.4 0 16-1.8 22.6-5.6 28.1-16.2 34.4-66.7 19.9-130.1 62-19.1 102.5-49.9 102.5-82.3zm-130.2-66.7c-3.7 12.9-8.3 26.2-13.5 39.5-4.1-8-8.4-16-13.1-24-4.6-8-9.5-15.8-14.4-23.4 14.2 2.1 27.9 4.7 41 7.9zm-45.8 106.5c-7.8 13.5-15.8 26.3-24.1 38.2-14.9 1.3-30 2-45.2 2-15.1 0-30.2-.7-45-1.9-8.3-11.9-16.4-24.6-24.2-38-7.6-13.1-14.5-26.4-20.8-39.8 6.2-13.4 13.2-26.8 20.7-39.9 7.8-13.5 15.8-26.3 24.1-38.2 14.9-1.3 30-2 45.2-2 15.1 0 30.2.7 45 1.9 8.3 11.9 16.4 24.6 24.2 38 7.6 13.1 14.5 26.4 20.8 39.8-6.3 13.4-13.2 26.8-20.7 39.9zm32.3-13c5.4 13.4 10 26.8 13.8 39.8-13.1 3.2-26.9 5.9-41.2 8 4.9-7.7 9.8-15.6 14.4-23.7 4.6-8 8.9-16.1 13-24.1zM421.2 430c-9.3-9.6-18.6-20.3-27.8-32 9 .4 18.2.7 27.5.7 9.4 0 18.7-.2 27.8-.7-9 11.7-18.3 22.4-27.5 32zm-74.4-58.9c-14.2-2.1-27.9-4.7-41-7.9 3.7-12.9 8.3-26.2 13.5-39.5 4.1 8 8.4 16 13.1 24 4.7 8 9.5 15.8 14.4 23.4zM420.7 163c9.3 9.6 18.6 20.3 27.8 32-9-.4-18.2-.7-27.5-.7-9.4 0-18.7.2-27.8.7 9-11.7 18.3-22.4 27.5-32zm-74 58.9c-4.9 7.7-9.8 15.6-14.4 23.7-4.6 8-8.9 16-13 24-5.4-13.4-10-26.8-13.8-39.8 13.1-3.1 26.9-5.8 41.2-7.9zm-90.5 125.2c-35.4-15.1-58.3-34.9-58.3-50.6 0-15.7 22.9-35.6 58.3-50.6 8.6-3.7 18-7 27.7-10.1 5.7 19.6 13.2 40 22.5 60.9-9.2 20.8-16.6 41.1-22.2 60.6-9.9-3.1-19.3-6.5-28-10.2zM310 490c-13.6-7.8-19.5-37.5-14.9-75.7 1.1-9.4 2.9-19.3 5.1-29.4 19.6 4.8 41 8.5 63.5 10.9 13.5 18.5 27.5 35.3 41.6 50-32.6 30.3-63.2 46.9-84 46.9-4.5-.1-8.3-1-11.3-2.7zm237.2-76.2c4.7 38.2-1.1 67.9-14.6 75.8-3 1.8-6.9 2.6-11.5 2.6-20.7 0-51.4-16.5-84-46.6 14-14.7 28-31.4 41.3-49.9 22.6-2.4 44-6.1 63.6-11 2.3 10.1 4.1 19.8 5.2 29.1zm38.5-66.7c-8.6 3.7-18 7-27.7 10.1-5.7-19.6-13.2-40-22.5-60.9 9.2-20.8 16.6-41.1 22.2-60.6 9.9 3.1 19.3 6.5 28.1 10.2 35.4 15.1 58.3 34.9 58.3 50.6-.1 15.7-23 35.6-58.4 50.6zM320.8 78.4z"}),h("path",{d:"M520.5 78.1z"})]})}),h("p",{children:"Analyse Multiplet in progress. Please wait ..."})]})}function p1(){const{data:e,activeTab:t}=ce();return d.exports.useMemo(()=>e?e.filter(n=>t===Mr(n.info.nucleus))||[]:[],[t,e])}function f1(e){const{activeSpectrum:t}=ce(),n=dt();return d.exports.useMemo(()=>{const r=t===null?!0:e===t.id,o=r?1:ve(n,"controllers.dimmedSpectraTransparency",.1);return{isActive:r,opacity:o}},[t,e,n])}function eT({zone:e,color:t,vAlign:n,spectrumID:r}){const{scaleX:o,scaleY:i}=Rt(),a=gt([e.id],{type:wt.EXCLUSION_ZONE,extra:{id:e.id,spectrumID:r}}),{opacity:s}=f1(r);return m("g",{transform:`translate(${o()(e.to)},0)`,children:m("rect",S({x:"0",transform:`translate(0,${i()(0)-(n+5)})`,width:`${o()(e.from)-o()(e.to)}`,height:"10px",style:{fill:a.isActive?"#ff6f0057":t,opacity:s}},a.onHover))},e.id)}var tT=d.exports.memo(eT);function Xl(e,t){const{index:n=1,align:r="stack"}=t||{index:1,align:"stack"};return e.align===r?n*e.verticalShift:0}function nT({displayerKey:e,xDomains:t,spectra:n,verticalAlign:r}){return m("g",{className:"spectrum-exclusion-zones-group",clipPath:`url(#${e}clip-chart-1d)`,children:n.filter(o=>o.display.isVisible===!0&&t[o.id]).map((o,i)=>iT(o).map(a=>m(tT,{spectrumID:o.id,vAlign:Xl(r,{index:i}),zone:a,color:o.display.color},a.id)))})}const rT=d.exports.memo(nT);function oT(){const{displayerKey:e,xDomains:t,displayerMode:n,verticalAlign:r}=ce(),o=p1();return n!==we.DM_1D?null:m(rT,{spectra:o,displayerKey:e,xDomains:t,verticalAlign:r})}function iT(e){var t;return((t=e.filters.find(n=>n.name===ga&&n.flag))==null?void 0:t.value)||[]}function aT(){const{width:e,margin:t,xDomains:n,xDomain:r,mode:o}=ce();return d.exports.useMemo(()=>ao({width:e,margin:t,xDomains:n,xDomain:r,mode:o}),[t,o,e,r,n])}function sT(){const{height:e,margin:t,verticalAlign:n,activeSpectrum:r,integralsYDomains:o}=ce();return d.exports.useMemo(()=>_3({height:e,margin:t,verticalAlign:n,activeSpectrum:r,integralsYDomains:o}),[r,e,o,t,n])}function h1(e){const{data:t,activeSpectrum:n}=ce(),r=aT(),o=sT(),i=d.exports.useMemo(()=>{if(n){const{x:s,re:c}=t[n==null?void 0:n.index].data,{from:l,to:u}=e;return dS({x:s,y:c},{from:l,to:u,reverse:!0})}return{x:[],y:[]}},[n,t,e]);return d.exports.useMemo(()=>{if(i){const s=$0(i,{nbPoints:200,optimize:!0}),c=new fo;c.moveTo(r(s.x[0]),o(s.y[0]));for(let l=1;l<s.x.length;l++)c.lineTo(r(s.x[l]),o(s.y[l]));return c.toString()}else return""},[i,r,o])}const qr={showAbsolute:!1,absoluteFormat:"0.00",showRelative:!0,relativeFormat:"0.00",color:"#000000",strokeWidth:1},lT={showFrom:!1,fromFormat:"0.00",showTo:!1,toFormat:"0.00",showAbsolute:!1,absoluteFormat:"0.00",showRelative:!0,relativeFormat:"0.00"},Zd=e=>({showFrom:!1,fromFormat:"0.00",showTo:!1,toFormat:"0.00",showAbsolute:!1,absoluteFormat:"0.00",showRelative:!0,relativeFormat:"0.00",jGraphTolerance:e==="1H"?.2:e==="13C"?2:0}),g1={showPeakNumber:!0,peakNumberFormat:"0",showPeakIndex:!1,peakIndexFormat:"0.00",showDeltaPPM:!0,deltaPPMFormat:"0.00",showDeltaHz:!1,deltaHzFormat:"0.00",showPeakWidth:!1,peakWidthFormat:"00.0000",showIntensity:!0,intensityFormat:"0.00"},m1={showSmiles:!0,showSolvent:!1,showNames:!0,showRange:!1,showDelta:!0,showAssignment:!1,showCoupling:!0,showMultiplicity:!0};function Kd({from:e,to:t,onDrag:n=()=>null,onDrop:r}){const{height:o,margin:i,mode:a}=ce(),[s,c]=d.exports.useState(!1),[l,u]=d.exports.useState(!1),[p,f]=d.exports.useState(!0),g=d.exports.useRef(null),v=d.exports.useRef(null),{scaleX:x}=Rt(),y=d.exports.useCallback(D=>{D.preventDefault(),D.stopPropagation(),c(!0)},[]),w=d.exports.useCallback(D=>{n({from:x().invert(D.layerX)})},[n,x]),k=d.exports.useCallback(D=>{D.preventDefault(),D.stopPropagation(),c(!1);const z=a==="RTL"?[x().invert(D.layerX),t]:[t,x().invert(D.layerX)];let U;z[1]>z[0]?U={from:z[0],to:z[1]}:U={from:e,to:t},r(U)},[e,a,r,x,t]),_=d.exports.useCallback(D=>{D.preventDefault(),D.stopPropagation(),u(!0)},[]),R=d.exports.useCallback(D=>{n({to:x().invert(D.layerX)})},[n,x]),M=d.exports.useCallback(D=>{D.preventDefault(),D.stopPropagation(),u(!1);const z=a==="RTL"?[e,x().invert(D.layerX)]:[x().invert(D.layerX),e];let U;z[1]>z[0]?U={from:z[0],to:z[1]}:U={from:e,to:t},r(U)},[e,a,r,x,t]),N=d.exports.useCallback(({shiftKey:D})=>{D&&f(!1)},[]),H=d.exports.useCallback(()=>{f(!0)},[]),A=d.exports.useCallback(({target:D,shiftKey:z})=>{z?D.style.cursor="crosshair":D.style.cursor="ew-resize"},[]);return $(d.exports.Fragment,{children:[h(qf,{axis:"x",defaultPosition:{x:x()(e),y:0},position:{x:x()(e),y:0},scale:1,handle:".handle",onStart:y,onDrag:w,onStop:k,nodeRef:g,children:h("rect",{ref:g,className:p?"handle":"",width:s?1:6,fill:"red",height:o+i.top,style:{fillOpacity:s?1:0},onMouseDownCapture:N,onMouseUpCapture:H,onMouseEnter:A})}),h(qf,{axis:"x",defaultPosition:{x:x()(t),y:0},position:{x:x()(t),y:0},handle:".handle",scale:1,onStart:_,onDrag:R,onStop:M,nodeRef:v,children:h("rect",{ref:v,className:p?"handle":"",width:l?1:6,fill:"red",height:o+i.top,style:{fillOpacity:l?1:0},onMouseDownCapture:N,onMouseUpCapture:H,onMouseEnter:A})})]})}const cT=X`
  pointer-events: bounding-box;
  @-moz-document url-prefix() {
    pointer-events: fill;
  }
  .highlight {
    fill: transparent;
  }
  .target {
    visibility: hidden;
  }
`,uT=X`
  pointer-events: bounding-box;

  @-moz-document url-prefix() {
    pointer-events: fill;
  }
  fill: #ff6f0057;

  .target {
    visibility: visible;
  }
`;function dT({integralData:e}){const{height:t,margin:n}=ce(),{scaleX:r}=Rt(),o=Re(),[{id:i,integral:a,from:s,to:c},l]=d.exports.useState(e),u=gt([i],{type:wt.INTEGRAL,extra:{id:i}});d.exports.useEffect(()=>{l(e)},[e]);const p=d.exports.useCallback(w=>{o({type:Eb,payload:{data:S(S({},e),w)}})},[o,e]),f=d.exports.useCallback(()=>{u.show()},[u]),g=d.exports.useCallback(()=>{u.hide()},[u]),v=d.exports.useCallback(w=>{l(k=>S(S({},k),w))},[]),x=s?r()(s):0,y=c?r()(c):0;return $("g",{css:u.isActive?uT:cT,onMouseEnter:f,onMouseLeave:g,children:[h("rect",{"data-no-export":"true",x:`${y}`,y:"0",width:`${x-y}`,height:t-n.bottom,className:"highlight"}),h("text",{x:y,y:t-n.bottom+30,fill:"black",style:{fontSize:"12px",fontWeight:"bold"},children:a!==void 0?a.toFixed(2):""}),h(Kd,{from:e.from,to:e.to,onDrag:v,onDrop:p,"data-no-export":"true"})]})}function pT({integral:e,isActive:t}){const n=dt(),r=h1(e),o=d.exports.useMemo(()=>{let{color:i=qr.color,strokeWidth:a=qr.strokeWidth}=ar(n,"formatting.panels.integrals")||{};return{color:i,strokeWidth:a}},[n]);return G("g",{children:[m("path",{className:"line",stroke:o.color,strokeWidth:o.strokeWidth,fill:"none",style:{opacity:t?1:.2},d:r}),m(dT,{integralData:e})]})}function fT(){const{xDomains:e,activeSpectrum:t,data:n,displayerKey:r}=ce(),o=d.exports.useMemo(()=>{const i=a=>t===null?!0:a===t.id;return m("g",{className:"integrals",children:(n==null?void 0:n[0])&&n.filter(a=>a.display.isVisible===!0&&e[a.id]).filter(ba).map(a=>a.integrals.values.map(s=>m(pT,{integral:s,isActive:i(a.id)},s.id)))})},[t,n,e]);return m("g",{clipPath:`url(#${r}clip-chart-1d)`,children:o})}function hT({data:e,id:t,display:n,index:r}){const{verticalAlign:o}=ce(),{scaleX:i,scaleY:a}=Rt(),s=ka(gi.XAxis),{opacity:c}=f1(t),l=d.exports.useMemo(()=>Xl(o,{index:r}),[r,o]),u=d.exports.useMemo(()=>{const p=i(),f=a(t),g=new fo;if((e==null?void 0:e.x)&&(e==null?void 0:e.y)&&p(0)){const v=s(e);g.moveTo(p(v.x[0]),f(v.y[0]));for(let x=1;x<v.x.length;x++)g.lineTo(p(v.x[x]),f(v.y[x]));return g.toString()}else return""},[i,a,t,e,s]);return m("path",{className:"line","data-test-id":"spectrum-line",stroke:n.color,fill:"none",style:{opacity:c},d:u,transform:`translate(0,-${l})`},t)}function gT(){const{data:e,tempData:t,displayerKey:n,xDomains:r}=ce(),o=t||e;return m("g",{clipPath:`url(#${n}clip-chart-1d)`,className:"spectrums",children:o==null?void 0:o.filter(i=>i.display.isVisible===!0&&r[i.id]).map((i,a)=>m(hT,P(S({},i),{data:di(i),index:a}),i.id))})}const mT=X`
  input {
    -webkit-user-select: text; /* Safari 3.1+ */
    -moz-user-select: text; /* Firefox 2+ */
    -ms-user-select: text; /* IE 10+ */
    user-select: text; /* Standard syntax */
  }

  input[type='number']::-webkit-outer-spin-button,
  input[type='number']::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  .notification-input-normal {
    opacity: 1;
    left: 4px;
    position: fixed;
    font-size: 10px;
    outline: none;
    background-color: transparent;
  }

  .notification-input-normal input:focus {
    outline: none;
    background-color: white;
  }

  .input-over {
    background-color: white;
    outline: none;
  }
`;function bT({id:e,x:t,y:n,sign:r,value:o,color:i,isActive:a,nucleus:s}){const c=d.exports.useRef(null),[l,u]=d.exports.useState(!1),[p,f]=d.exports.useState(o),[g,v]=d.exports.useState({width:0,height:0}),x=Tn(s),y=gt([e],{type:wt.PEAK,extra:{id:e}}),w=Re(),k=d.exports.useCallback(z=>w({type:Pd,shiftValue:z.shiftValue}),[w]);d.exports.useLayoutEffect(()=>{var U;const z=(U=c.current)==null?void 0:U.getBBox();v({width:(z==null?void 0:z.width)||0,height:(z==null?void 0:z.height)||0})},[l]),d.exports.useEffect(()=>{f(o)},[o]);const _=d.exports.useCallback(z=>{if(z.key==="Enter"){const U=z.currentTarget.valueAsNumber;if(!isNaN(U)){const Y=U-o;k({id:e,value:U,oldValue:o,shiftValue:Y}),z.currentTarget.blur(),u(!1)}}else z.key==="Escape"&&(f(o),z.currentTarget.blur(),u(!1))},[o,k,e]),R=d.exports.useCallback(z=>{f(z.target.value)},[]),M=d.exports.useCallback(z=>(z.stopPropagation(),u(!0),!1),[]),N=d.exports.useCallback(()=>{y.show()},[y]),H=d.exports.useCallback(()=>{y.hide()},[y]),A=d.exports.useMemo(()=>l?o:x(o),[x,l,o]),D=d.exports.useMemo(()=>l?p:x(p),[p,x,l]);return $("g",{css:mT,id:e,style:{outline:"none"},transform:`translate(${t}, ${n})`,onMouseEnter:N,onMouseLeave:H,children:[h("line",{x1:"0",x2:"0",y1:r===-1?10:0,y2:r===-1?28:-18,stroke:i,strokeWidth:y.isActive?"7px":"1px"}),h("text",{ref:c,className:"peaks-text",x:"0",y:r===-1?28:-12,dy:"0",dx:"0.35em",fill:"transparent",fontSize:"10px",fontWeight:"100",style:{position:"absolute"},children:A}),h("foreignObject",{x:"0",y:r===-1?16:-22,dy:"0.1em",dx:"0.35em",width:g.width+20,height:"40px","data-no-export":"true",children:h("div",{style:{width:g.width+20,height:"100%",paddingRight:5},children:h("input",{onClick:M,className:l?"input-over":"notification-input-normal",style:{width:"inherit",border:l?`1px solid ${i}`:"0",opacity:a?1:.2,userSelect:"none",color:i},value:D,onKeyDown:_,onChange:R,type:"number",disabled:!a})})})]})}function vT(){const{data:e,activeSpectrum:t,verticalAlign:n,displayerKey:r,xDomains:o}=ce(),{scaleX:i,scaleY:a}=Rt(),s=d.exports.useMemo(()=>{const c=u=>{const p=e.findIndex(f=>f.id===u);return Xl(n,{index:p})};return e&&(()=>{const u=[...e];return t?u.sort((p,f)=>p.id===t.id?1:f.id===t.id?-1:0):u})().filter(u=>u.display.isVisible===!0&&o[u.id]).filter(ba).map(u=>{var p;return((p=u.peaks)==null?void 0:p.values)&&u.display.isPeaksMarkersVisible&&m("g",{transform:`translate(0,-${c(u.id)})`,children:u.peaks.values.map(({x:f,y:g,id:v})=>m(bT,{x:i()(f),y:a(u.id)(g)-5,sign:Math.sign(g),id:v,value:f,color:"#730000",nucleus:u.info.nucleus,isActive:t==null?!1:t.id===u.id},v))},u.id)})},[e,n,t,o,i,a]);return m("g",{className:"peaks",clipPath:`url(#${r}clip-chart-1d)`,children:s})}const xT={info:{originFrequency:400}};function yT(){var v;const{displayerKey:e,verticalAlign:t,height:n,margin:r}=ce(),{info:o}=Vt(xT),{highlight:i}=mi(),{scaleX:a}=Rt();if(((v=i.sourceData)==null?void 0:v.type)!==wt.DATABASE)return null;const s=n-r.bottom,c=s/4,{ranges:l}=i.sourceData.extra||[];let u=[0,0];const p=l.map(x=>{const{from:y,to:w}=x,k=Math.abs(y-w)/2,_=y-k,R=w+k,M=P0([x],{frequency:o.originFrequency,from:_,to:R,nbPoints:256}),N=wr(M.y);return u[0]=N[0]<u[0]?N[0]:u[0],u[1]=N[1]>u[1]?N[1]:u[1],{data:M,from:_,to:R}},[]),f=ol({height:c,margin:{top:0,bottom:0},verticalAlign:t,yDomain:u}),g=p.map(({data:{x,y},from:w,to:k})=>{let _=`M ${a()(x[0])} ${f(y[0])} `;return _+=x.slice(1).reduce((R,M,N)=>(R+=` L ${a()(M)} ${f(y[N+1])}`,R),""),{path:_,from:w,to:k}},[]);return m("g",{clipPath:`url(#${e}clip-chart-1d)`,className:"resurrected-database-ranges",width:"100%",height:"100%",children:g.map(({path:x,from:y,to:w},k)=>G("g",{children:[m("g",{transform:`translate(${a()(w)},0)`,children:m("rect",{x:"0",width:Math.abs(a()(w)-a()(y)),height:"100%",fill:"#ff6f0057"})}),m("path",{transform:`translate(0,${s-c*2})`,stroke:"black",fill:"none",d:x})]},`${k}`))})}const wT=X`
  user-select: none;

  path,
  line {
    fill: none;
    stroke: black;
    stroke-width: 1;
    shape-rendering: crispEdges;
    user-select: none;
  }
`,ST=X`
  user-select: none;

  line {
    stroke: rgb(104, 104, 104);
    stroke-opacity: 0.2;
    shape-rendering: crispEdges;
    stroke-dasharray: 3;
    stroke-width: 1;
    user-select: none;
  }

  path {
    stroke-width: 0;
  }
`;function CT(e){const{show:t=!0,showGrid:n=!1,mode:r,label:o}=e,{xDomain:i,height:a,width:s,margin:c}=ce(),{scaleX:l}=Xd(),u=d.exports.useRef(null),p=d.exports.useRef(null),f=o||(r==="RTL"?"\u03B4 [ppm]":"time [s]");return d.exports.useEffect(()=>{if(!t||!l)return;const g=lu(l().domain(i)).ticks(8).tickFormat(nd("0")),v=lu(l().domain(i)).ticks(50).tickSize(-(a-c.top-c.bottom)).tickFormat(()=>"");qs(u.current).call(g),qs(p.current).call(v)},[a,c.bottom,c.top,l,t,i]),!s||!a||!l?null:$(Xn,{children:[t&&h("g",{className:"x",css:wT,transform:`translate(0,${a-c.bottom})`,ref:u,children:h("text",{fill:"#000",x:s-10,y:"30",dy:"0.70em",textAnchor:"end",children:f})}),n&&h("g",{css:ST,className:"grid",ref:p,transform:`translate(0,${a-c.bottom})`})]})}function kT(e,t){if(!e&&!Array.isArray(e))return null;let n=[],r=0,o=TT(e,t);for(const a of e)for(const s of a.signals){const i=s,{id:c}=i,l=he(i,["id"]);if(l.js){n.push(S({id:`${a.id}${c}`},l));const u=ET(l.js);r=u>r?u:r}}return{signals:n,jCouplingMax:r,links:o}}function ET(e){let t=-1/0;for(const{coupling:n}of e)t=n>t?n:t;return t}function _T(e){const t=[];for(let n of e)for(const{delta:r,js:o}of n.signals)for(const{coupling:i}of o||[])t.push({coupling:i,delta:r});return t}function Eh(e){const{delta:t}=e;return{id:Ge(),from:t,to:t,couplings:[e]}}function TT(e,t=0){const n=_T(e).sort((s,c)=>s.coupling-c.coupling);if(!n||n.length===0)return[];const r=[Eh(n[0])];let o=0,i=o,a=1;for(;a<n.length;){const s=n[a];Math.abs(n[i].coupling-s.coupling)<t?(r[o].couplings.push(s),s.delta>r[o].to?r[o].to=s.delta:s.delta<r[o].from&&(r[o].from=s.delta),a++):Math.abs(n[a-1].coupling-s.coupling)<t?i=a-1:(o++,r[o]=Eh(n[a]),i=a,a=a+1)}return r}const b1=d.exports.createContext({scaleY:null,height:0,maxValue:0}),RT=b1.Provider;function Yl(){const e=d.exports.useContext(b1);if(!e.scaleY)throw new Error("scale cannot be null");return e}const AT=d.exports.forwardRef((e,t)=>{const{x:n,y:r,height:o,showGrid:i,ticks:a}=e;return G("g",{ref:t,transform:`translate(${n}, ${r})`,children:[m("line",{y2:o,x1:15,x2:15,stroke:"black"}),a.map(({label:s,position:c},l)=>G("g",{children:[i&&e.width&&m("line",{y1:c,y2:c,x1:15,x2:e.width-n,stroke:"lightgray"}),m("line",{y1:c,y2:c,x1:15,x2:10,stroke:"black"}),m("text",{y:c,dominantBaseline:"middle",textAnchor:"end",children:s})]},l+s+c))]})});function PT(e){const i=e,{scale:t}=i,n=he(i,["scale"]),r=d.exports.useRef(null),o=pS(t,"vertical",r);return m(AT,P(S({},n),{ticks:o,ref:r}))}function MT(){const{width:e,margin:t}=ce(),{height:n,scaleY:r}=Yl();return r?m("svg",{style:{overflow:"visible"},height:n+20,width:60,children:m(PT,{x:20,y:0,scale:r,height:n,showGrid:!0,width:e-t.right})}):null}function FT(e){const{links:t}=e,{scaleX:n}=Rt(),{scaleY:r,maxValue:o}=Yl(),i=d.exports.useCallback(a=>{if(!r)return"";const{from:s,to:c,couplings:l}=a;let u=[];for(const p of l)u.push(`M${n()(s)},${r(p.coupling)} L${n()(c)},${r(p.coupling)}`);return u.join(" ")},[n,r]);return m("g",{className:"js-coupling-links",children:t.filter(a=>a.couplings.length>1).map(a=>m("path",{d:i(a),style:{stroke:`hsl(${a.couplings[0].coupling*360/o},100%,50%)`},strokeWidth:"1"},a.id))})}function OT({value:e}){const{scaleY:t,maxValue:n}=Yl(),[r,o]=d.exports.useState(!1);return t?G("g",{className:"coupling",style:{transform:`translate(0px,${t(e)}px)`},children:[m("circle",{onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),cx:0,cy:0,r:4,fill:`hsl(${e*360/n},100%,${r?45:50}%)`,pointerEvents:"all"}),r&&G("g",{style:{transform:"translate(0px,15px)"},children:[m("text",{pointerEvents:"none",stroke:"white",strokeWidth:"0.6em",fontSize:"11px",dominantBaseline:"middle",textAnchor:"end",children:`${e.toFixed(1)} Hz`}),m("text",{pointerEvents:"none",stroke:"black",fontSize:"11px",dominantBaseline:"middle",textAnchor:"end",children:`${e.toFixed(1)} Hz`})]})]}):null}function $T(e){const{scaleX:t}=Rt(),{height:n}=Yl();return m("g",{className:"js-coupling",children:e.signals.map(r=>{var o;return G("g",{transform:`translate(${t()(r.delta)},0)`,children:[m("line",{x1:"0",y1:n,x2:"0",y2:"0",stroke:"black",strokeWidth:"1"}),(o=r.js)==null?void 0:o.map(i=>m(OT,{value:i.coupling},`${i.coupling}`))]},r.id)})})}const DT=50;function IT(e){const{signals:t,links:n}=e;return G("g",{className:"j-graph",transform:`translate(0,${DT})`,children:[m(MT,{}),m(FT,{links:n}),m($T,{signals:t})]})}const NT={ranges:{}},LT=d.exports.memo(IT);function HT(){const e=dt(),{height:t,toolOptions:{data:{showJGraph:n}},activeTab:r}=ce(),o=t/4,{ranges:i}=Vt(NT),a=d.exports.useMemo(()=>(ve(e,`formatting.panels.ranges.[${r}]`)||Zd(r)).jGraphTolerance,[r,e]),{signals:s,jCouplingMax:c,links:l}=d.exports.useMemo(()=>kT(i.values,a)||{signals:[],jCouplingMax:0,links:[]},[a,i.values]),u=d.exports.useMemo(()=>{const f=c+c*.1;return Vn().range([o,0]).domain([0,f])},[o,c]),p=d.exports.useMemo(()=>({scaleY:u,height:o,maxValue:c}),[o,u,c]);return n?m(RT,{value:p,children:m(LT,{signals:s,links:l})}):null}function v1(e){const{x:t="initial",y:n="initial",onDelete:r=()=>null,fill:o="#c81121"}=e;return G("svg",{className:"delete-button",x:t,y:n,onClick:r,"data-no-export":"true",children:[m("rect",{rx:"5",width:"16",height:"16",fill:o}),m("line",{x1:"5",x2:"10",y1:"8",y2:"8",stroke:"white",strokeWidth:"2"})]})}const zT=X`
  pointer-events: bounding-box;
  @-moz-document url-prefix() {
    pointer-events: fill;
  }
  user-select: 'none';
  -webkit-user-select: none; /* Chrome all / Safari all */
  -moz-user-select: none; /* Firefox all */

  .delete-button {
    visibility: hidden;
  }
`,BT=X`
  pointer-events: bounding-box;

  @-moz-document url-prefix() {
    pointer-events: fill;
  }
  .range-area {
    height: 100%;
    fill: #ff6f0057;
  }
  .delete-button {
    visibility: visible;
    cursor: pointer;
  }
`;function jT({rangeData:e,columnKey:t}){const{from:n,to:r}=e,o=gt([t]),{scaleX:i}=Rt(),a=Re(),s=d.exports.useCallback(()=>{a({type:Gd,colKey:t})},[t,a]),c=d.exports.useCallback(l=>{a({type:lv,payload:P(S(S({},e),l),{columnKey:t})})},[t,a,e]);return $("g",P(S({},o.onHover),{css:o.isActive?BT:zT,children:[$("g",{transform:`translate(${i()(r)},25)`,children:[h("rect",{x:"0",width:i()(n)-i()(r),height:"6",className:"range-area",fill:"green"}),h("text",{textAnchor:"middle",x:(i()(n)-i()(r))/2,y:"-5",fontSize:"12",fill:"red",fontWeight:"bolder",fillOpacity:o.isActive?1:.6,children:t})]}),h(Kd,{from:e.from,to:e.to,onDrop:c}),h(v1,{x:i()(r)-20,y:10,onDelete:s})]}))}function VT({activeTab:e,spectraAnalysis:t,displayerKey:n}){const r=d.exports.useMemo(()=>{const{options:{columns:i}}=t[e]||{options:{columns:{}}};return i},[e,t]),o=d.exports.useMemo(()=>Object.keys(r).map(i=>i,[]),[r]);return!o||o.length===0?null:m("g",{clipPath:`url(#${n}clip-chart-1d)`,children:o.map(i=>m(jT,{columnKey:i,rangeData:r[i]},i))})}const GT=d.exports.memo(VT);function WT(){const{activeTab:e,spectraAnalysis:t,displayerKey:n}=ce();return m(GT,{activeTab:e,spectraAnalysis:t,displayerKey:n})}const ia=[{label:"massive (m)",value:"m",multiplicity:null},{label:"singlet (s)",value:"s",multiplicity:1},{label:"doublet (d)",value:"d",multiplicity:2},{label:"triplet (t)",value:"t",multiplicity:3},{label:"quartet (q)",value:"q",multiplicity:4},{label:"quintet (i)",value:"i",multiplicity:5},{label:"sextet (x)",value:"x",multiplicity:6},{label:"septet (p)",value:"p",multiplicity:7},{label:"octet (o)",value:"o",multiplicity:8},{label:"nonet (n)",value:"n",multiplicity:9}];function UT(e){const t=ia.find(n=>e===n.label||e===n.value);return t?t.multiplicity:null}function XT(e,t=[]){if(e===void 0||e.length===0)return!1;const n=ia.find(r=>r.value===e||r.label===e);return n&&!t.includes(n.value)&&!t.includes(n.label)}function qd(e,t=[]){return e===void 0||e.length===0?!1:!e.split("").find(n=>!XT(n,t))}function ro(e){var t,n;return e.length===1?(t=ia.find(r=>r.value===e))==null?void 0:t.label:(n=ia.find(r=>r.label===e))==null?void 0:n.value}function aa(e){return e.length>1&&(e=ro(e)),qd(e,["m","s"])}function YT(e,t){if(e===void 0||e===0||t===void 0)return[1];let n=2*t+1,r=[];for(let o=0;o<n-1;o++)r.push(1);for(let o=0;o<e-1;o++){let i=r.slice();for(let a=1;a<n;a++){for(let s=0;s<r.length-1;s++)i[s+a]+=r[s];i.push(1)}r=i.slice()}return r}const Cu=["red","green","blue","magenta"];function _h({signal:e,startY:t,levelHeight:n}){const{scaleX:r}=Rt();return m("line",{x1:r()(e.delta),y1:t,x2:r()(e.delta),y2:t+n,stroke:Cu[0]},`startLevelNode_${e.id}`)}function Th({signal:e,startY:t,levelHeight:n,fontSize:r,showLabels:o}){const{scaleX:i}=Rt();return m("text",{textAnchor:"middle",x:i()(e.delta),y:t+n/2,fontSize:r,lengthAdjust:"spacing",fill:"black",visibility:o?"visible":"hidden",children:e.multiplicity},`multiplicityString_${e.id}`)}function ZT({nodesData:e,levelHeight:t,startY:n,signalID:r,labelOptions:o,showLabels:i}){const{scaleX:a}=Rt(),s=d.exports.useCallback(({startX:c,_startX:l,ratio:u,multiplicityIndex:p,color:f})=>{const g=2*p+2,v=n+g*t,x=n+(g+1)*t;return G("g",{children:[m("text",{textAnchor:"middle",x:a()(l)+o.distance,y:x+2*(t/3),fontSize:o.fontSize,fill:f,visibility:i?"visible":"hidden",children:u}),m("line",{x1:a()(c),y1:v,x2:a()(l),y2:x,stroke:f}),m("line",{x1:a()(l),y1:x,x2:a()(l),y2:x+t,stroke:f})]},`${p}_${r}_${c}_${l}_${u}`)},[r,o.distance,o.fontSize,a,i,n,t]);return m(In,{children:e==null?void 0:e.map(c=>s(c))})}function KT(e,t){function n(r,o,i,a){var p;if(!e.multiplicity)return null;if(r>=e.multiplicity.length)return i;const s=Cu[r%Cu.length],c=o.findIndex(f=>f===r),l=ve(t,"info.originFrequency",0),u=c>=0&&l>0&&((p=e==null?void 0:e.js)==null?void 0:p[c])?e.js[c].coupling/l:null;if(!u)i.push({startX:a,_startX:a,ratio:1,multiplicityIndex:r,color:s}),n(r+1,o,i,a);else{const f=e.multiplicity||"",g=YT(UT(f.charAt(r)),.5);let v=g.length%2===0?a-g.length/2*u+u/2:a-(g.length/2-.5)*u;g.forEach((x,y)=>{y>0&&(v+=u),i.push({startX:a,_startX:v,ratio:x,multiplicityIndex:r,color:s}),n(r+1,o,i,v)})}return i}return n}const Rh={cursor:"default",opacity:.6,strokeWidth:1};function Ah(e){return[e.id].concat(e.assigned.x||[])}function x1({rangeFrom:e,rangeTo:t,signal:n,labelOptions:r={distance:10,fontSize:11}}){const{scaleX:o,scaleY:i}=Rt(),{data:a,activeSpectrum:s,toolOptions:{selectedTool:c},width:l}=ce(),u=rr(n.id),p=gt(Ah(u),{type:wt.SIGNAL,extra:Ah(u)}),f=d.exports.useMemo(()=>ve(a,`${s==null?void 0:s.index}`,null),[s,a]),[g,v]=d.exports.useState({x1:n.delta,x2:n.delta}),[x,y]=d.exports.useState({width:0,height:0,levelHeight:0}),[w,k]=d.exports.useState(!1),[_,R]=d.exports.useState(!1);d.exports.useEffect(()=>{var oe;const A=!qd(n.multiplicity,["m"]),D=A?Math.abs(o()(g.x1)-o()(g.x2)):Math.abs(o()(g.x1)-o()(g.x2))+r.distance,z=A?D/3:D/2,U=((oe=n==null?void 0:n.multiplicity)==null?void 0:oe.length)||0,Y=A?z/(U+2):z/(2*U+2);y({width:D,height:z,levelHeight:Y}),k(A)},[r.distance,o,n.multiplicity,g.x1,g.x2]),d.exports.useEffect(()=>{x.width/l>=.1?R(!0):R(!1)},[x.width,l]);const M=d.exports.useMemo(()=>{let A;return f.data.x.forEach((D,z)=>{D>=e&&D<=t&&(!A||f.data.re[z]>A)&&(A=f.data.re[z])}),i(f.id)(A)-x.height-30},[f.data.x,f.data.re,f.id,i,x.height,e,t]),N=d.exports.useMemo(()=>{if(n.multiplicity){const A=KT(n,f),D=n.multiplicity.split("").map((z,U)=>aa(z)?U:void 0).filter(z=>z!==void 0);return A(0,D,[],n.delta)}return[]},[n,f]);d.exports.useEffect(()=>{if(w)v({x1:e,x2:t});else{const A={x1:n.delta,x2:n.delta};N.forEach(D=>{D.startX<A.x1&&(A.x1=D.startX),D.startX>A.x2&&(A.x2=D.startX),D._startX<A.x1&&(A.x1=D._startX),D._startX>A.x2&&(A.x2=D._startX)}),v(A)}},[w,e,t,n.delta,n.multiplicity,N]);const H=d.exports.useMemo(()=>{const{levelHeight:A}=x,D=M;let z=D;const U=M+A;if(z=U,z+=A,w){const Y=o()(e),oe=o()(t),ae=`M ${Y} ${z+A} ${Y} ${z} ${o()(n.delta)} ${z} ${oe} ${z} ${oe} ${z+A}`;return $("g",{children:[h(Th,{signal:n,startY:D,levelHeight:A,fontSize:r.fontSize,showLabels:_}),h(_h,{signal:n,startY:U,levelHeight:A}),h("path",{d:ae,stroke:"blue",fill:"none"})]})}return $("g",{children:[h(Th,{signal:n,startY:D,levelHeight:A,fontSize:r.fontSize,showLabels:_}),h(_h,{signal:n,startY:U,levelHeight:A}),h(ZT,{nodesData:N,signalID:N,showLabels:_,startY:M,labelOptions:r,levelHeight:A})]})},[x,M,w,n,r,_,N,o,e,t]);return h("g",{css:p.isActive||u.isActive?P(S({},Rh),{opacity:1,strokeWidth:1.5}):Rh,onMouseEnter:()=>{u.onMouseEnter("x"),p.show()},onMouseLeave:()=>{u.onMouseLeave("x"),p.hide()},onClick:c&&c===K.editRange.id?()=>null:A=>{A.shiftKey&&(A.stopPropagation(),u.onClick("x"))},children:H})}function qT({range:e}){return(e==null?void 0:e.signals)&&e.signals.length>0&&e.signals.map(t=>m(x1,{rangeFrom:e.from,rangeTo:e.to,signal:t},t.id))}const JT=d.exports.memo(qT);function QT(){const{toolOptions:{data:{tempRange:e}}}=ce();return m(JT,{range:e})}const e9=X`
  pointer-events: bounding-box;
  @-moz-document url-prefix() {
    pointer-events: fill;
  }
  user-select: 'none';
  -webkit-user-select: none; /* Chrome all / Safari all */
  -moz-user-select: none; /* Firefox all */

  .delete-button {
    visibility: hidden;
  }
`,t9=X`
  pointer-events: bounding-box;

  @-moz-document url-prefix() {
    pointer-events: fill;
  }
  .range-area {
    height: 100%;
    fill: #ff6f0057;
  }
  .delete-button {
    visibility: visible;
    cursor: pointer;
  }
`;function n9({rangeData:e,showMultiplicityTrees:t,selectedTool:n,startEditMode:r}){const{id:o,from:i,to:a,integration:s,signals:c}=e,l=_n(),u=rr(o),p=gt([u.id].concat(u.assigned.x||[]).concat(Ud(l,c.map(U=>U.id))),{type:wt.RANGE,extra:{id:o}}),[f,g]=d.exports.useState({from:i,to:a}),{scaleX:v}=Rt(),x=Re(),[y,w]=d.exports.useState(!1),[k,_]=d.exports.useState(!1);d.exports.useEffect(()=>{g({from:i,to:a})},[i,a]),d.exports.useEffect(()=>{n&&n===K.editRange.id?_(!0):_(!1)},[n]),d.exports.useEffect(()=>{w(!$m(e))},[e]);const R=d.exports.useCallback(U=>{x({type:Wb,data:S(S({},e),U)})},[x,e]),M=d.exports.useCallback(()=>{u.onMouseEnter("x"),p.show()},[u,p]),N=d.exports.useCallback(()=>{u.onMouseLeave("x"),p.hide()},[u,p]),H=d.exports.useCallback(U=>{n===K.rangesPicking.id&&U.shiftKey&&!k&&u.onClick("x")},[u,k,n]),A=d.exports.useCallback(U=>{g(Y=>S(S({},Y),U))},[]),{from:D,to:z}=f;return $("g",{"data-test-id":"range",style:{outline:"none"},css:k||p.isActive||u.isActive?t9:e9,onMouseEnter:M,onMouseLeave:N,onClick:H,children:[$("g",{transform:`translate(${v()(z)},10)`,children:[h("rect",{x:"0",width:Math.abs(v()(D)-v()(z)),height:"6",className:"range-area",fill:"green",fillOpacity:!y||p.isActive||u.isActive?1:.4}),h("text",{textAnchor:"middle",x:Math.abs(v()(D)-v()(z))/2,y:"20",fontSize:"10",fill:"red",fillOpacity:!y||p.isActive||u.isActive?1:.6,children:s!==void 0?s.toFixed(2):""})]}),h(Kd,{from:e.from,to:e.to,onDrop:R,onDrag:A}),r?h(QT,{}):t&&c&&c.length>0&&c.map(U=>h(x1,{rangeFrom:D,rangeTo:z,signal:U},U.id))]},o)}function r9({range:e}){const t=h1(e);return m("path",{className:"line",stroke:"black",strokeWidth:"1",fill:"none",d:t})}function o9({ranges:e,displayerKey:t,selectedTool:n,editRangeID:r,showMultiplicityTrees:o,showRangesIntegrals:i}){var a;return m("g",{clipPath:`url(#${t}clip-chart-1d)`,children:(a=e==null?void 0:e.values)==null?void 0:a.map(s=>G(d.exports.Fragment,{children:[m(n9,{rangeData:s,selectedTool:n,showMultiplicityTrees:o,startEditMode:!!(r&&r===s.id)}),i&&m(r9,{range:s})]},s.id))})}const i9=d.exports.memo(o9),a9={ranges:{}};function s9(){const{displayerKey:e,toolOptions:{selectedTool:t,data:{tempRange:n,showMultiplicityTrees:r,showRangesIntegrals:o}}}=ce(),{ranges:i}=Vt(a9);return m(i9,{ranges:i,showMultiplicityTrees:r,showRangesIntegrals:o,selectedTool:t,displayerKey:e,editRangeID:(n==null?void 0:n.id)||""})}const l9=X`
  pointer-events: bounding-box;
  user-select: 'none';
  -webkit-user-select: none; /* Chrome all / Safari all */
  -moz-user-select: none; /* Firefox all */

  .zone-area {
    height: 100%;
    fill: #b8b8b857;
    cursor: pointer;
  }
  .delete-button {
    display: none;
    cursor: pointer;
  }
  :hover .delete-button {
    display: block;
  }
`;function c9(){const{toolOptions:e}=ce(),{scaleX:t}=Rt(),n=Re(),r=d.exports.useCallback(i=>{n({type:Vb,id:i})},[n]),o=d.exports.useMemo(()=>e.data.baseLineZones,[e]);return h(Xn,{children:o.length>0&&h("g",{children:o.map(i=>$("g",{transform:`translate(${t()(i.to)},0)`,css:l9,children:[h(v1,{x:-20,y:10,onDelete:()=>r(i.id)}),h("rect",{x:"0",width:`${t()(i.from)-t()(i.to)}`,className:"zone-area"})]},i.id))})})}function u9({mode:e,width:t,height:n,margin:r,displayerKey:o}){return G("svg",{viewBox:`0 0 ${t} ${n}`,width:t,height:n,id:"nmrSVG",children:[m("defs",{children:m("clipPath",{id:`${o}clip-chart-1d`,children:m("rect",{width:`${t-r.left-r.right}`,height:`${n}`,x:`${r.left}`,y:`${0}`})})}),m(gT,{}),m(fT,{}),m(vT,{}),m(s9,{}),m(HT,{}),m(WT,{}),m(c9,{}),m(oT,{}),m(yT,{}),m("g",{className:"container",style:{pointerEvents:"none"},children:m(CT,{showGrid:!0,mode:e})})]})}function d9(e){return pa({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.082 2.182a.5.5 0 0 1 .103.557L8.528 15.467a.5.5 0 0 1-.917-.007L5.57 10.694.803 8.652a.5.5 0 0 1-.006-.916l12.728-5.657a.5.5 0 0 1 .556.103zM2.25 8.184l3.897 1.67a.5.5 0 0 1 .262.263l1.67 3.897L12.743 3.52 2.25 8.184z"}}]})(e)}function p9(e){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M48 320h64l64-256 64 384 64-224 32 96h64"}},{tag:"circle",attr:{cx:"432",cy:"320",r:"32",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}}]})(e)}function f9(e){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M426 266a54.07 54.07 0 00-49.3 32h-24.84l-27-81a22 22 0 00-42 .92l-37.2 130.2-48-281.74a22 22 0 00-43-1.72L94.82 298H32v44h80a22 22 0 0021.34-16.66L171.69 172l46.61 273.62A22 22 0 00238.76 464H240a22 22 0 0021.15-16l44.47-149.62 9.51 28.62A22 22 0 00336 342h40.7a54 54 0 1049.3-76z"}}]})(e)}function h9(e){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29L448 448"}}]})(e)}const Ph=X`
  display: flex;
  flex-firection: row;
  align-items: center;
  pointer-events: bounding-box;
  user-select: 'none';
  -webkit-user-select: none; /* Chrome all / Safari all */
  -moz-user-select: none; /* Firefox all */
  background-color: #f7f7f7;
  height: 30px;
  padding: 6px;
  color: #8d0018;
  position: absolute;
  width: 100%;
  bottom: 0;

  div {
    margin: 0px 10px;
    display: inline-block;

    .label {
      font-size: 12px;
      color: #4d4d4d;
      font-weight: bold;
    }
    .value {
      font-weight: bold;
      font-size: 14px;
      display: inline-block;
    }
    .unit {
      font-weight: bold;
      font-size: 10px;
    }
    .xvalue {
      min-width: 50px;
    }
    .yvalue {
      min-width: 80px;
    }
  }

  .separator {
    border-left: 2px solid gray;
    margin: 0 20px;
    width: 1px;
    height: 100%;
  }
`;function g9({margin:e,width:t,height:n,activeSpectrum:r,spectrum:o,activeTab:i}){var g,v,x,y;let a=d.exports.useContext(or);const{startX:s,endX:c,step:l}=d.exports.useContext(Ar),{scaleX:u}=Rt(),p=Tn(i),f=d.exports.useCallback(w=>{if(o.data){const k=di(o),_=$n(k.x,u().invert(w));return k.y[_]}return 1},[o,u]);return!a||a.y<e.top||a.x<e.left||a.x>t-e.right||a.y>n-e.bottom?h("div",{css:Ph}):$("div",{css:Ph,children:[h(d9,{}),$("div",{children:[h("span",{className:"label",children:" \u{1D6C5}: "}),h("span",{className:"value",children:p(u().invert(a.x))}),h("span",{className:"unit",children:"ppm"}),r&&((g=o==null?void 0:o.info)==null?void 0:g.originFrequency)&&$(Xn,{children:[$("span",{className:"value",children:["\xA0(",p(u().invert(a.x)*((v=o==null?void 0:o.info)==null?void 0:v.originFrequency),"hz")]}),h("span",{className:"unit",children:"Hz"}),h("span",{className:"value",children:") "})]})]}),l==="brushing"&&$("div",{children:[h("span",{className:"label",children:" \u0394ppm: "}),h("span",{className:"value",children:(u().invert(s)-u().invert(c)).toPrecision(6)})]}),r&&$(d.exports.Fragment,{children:[((x=o==null?void 0:o.info)==null?void 0:x.originFrequency)&&l==="brushing"&&$("div",{children:[h("span",{className:"label",children:" \u0394Hz: "}),h("span",{className:"value",children:((u().invert(s)-u().invert(c))*((y=o==null?void 0:o.info)==null?void 0:y.originFrequency)).toPrecision(5)})]}),l==="brushing"&&$("div",{children:[h("span",{className:"label",children:" ratio :"}),$("span",{className:"value",children:[(f(s)/(f(c)||Number.MIN_VALUE)*100).toFixed(2),"%"]})]})]}),r&&$(d.exports.Fragment,{children:[h("div",{className:"separator"}),h(f9,{}),$("div",{children:[h("span",{className:"label",children:"Intensity: "}),h("span",{className:"value yvalue",children:p(f(a.x))})]})]})]})}const m9=d.exports.memo(g9),b9={info:{},data:null};function v9(){const{margin:e,width:t,height:n,activeSpectrum:r,activeTab:o}=ce(),i=Vt(b9);return h(m9,{margin:e,width:t,height:n,activeSpectrum:r,spectrum:i,activeTab:o})}const Ys={container:{position:"absolute",left:"10px",top:"10px"},value:{width:"67px",display:"inline-block",margin:"0 5px",fontSize:"12px"},colorIndicator:{width:"10px",height:"1px",borderBottom:"2px solid",display:"inline-block",marginBottom:"3px"},name:{fontSize:"12px"}};function x9({datum:e}){const{scaleX:t}=Xd(),n=d.exports.useContext(or);if(!t||!n)return null;const r=$n(e.x,t().invert(n.x));return m("span",{style:Ys.value,children:e.y[r]})}function y9(){const{data:e,activeTab:t,xDomains:n}=ce(),[r,o]=d.exports.useState(!1);d.exports.useEffect(()=>{function a(s){o(s)}return Et.on("showYSpectraTrackers",a),()=>{Et.off("showYSpectraTrackers",a)}},[]);const i=d.exports.useMemo(()=>r&&e.map(a=>a.display.isVisible&&n[a.id]&&a.info.nucleus===t&&G("div",{style:{display:"block"},children:[m("span",{style:P(S({},Ys.colorIndicator),{borderColor:a.display.color})}),m(x9,{datum:di(a)}),m("span",{style:Ys.value,children:a.display.name})]},a.id),[]),[t,e,r,n]);return r?m("div",{style:Ys.container,children:i}):null}const Xe={radius:10,borderColor:"#1f1f1f",strokeWidth:1,fillOpacity:0,SVGPadding:1};function w9(){const{height:e,width:t,margin:n,activeSpectrum:r,data:o,mode:i,toolOptions:{selectedTool:a},verticalAlign:s}=ce(),{scaleX:c,scaleY:l}=Rt();let u=d.exports.useContext(or);const p=d.exports.useContext(Ar),[f,g]=d.exports.useState();return d.exports.useEffect(()=>{const v=r?Xl(s,{index:(r==null?void 0:r.index)||1,align:"center"}):0,y=((w,k)=>{if(r&&u&&a===K.peakPicking.id){const _=[c().invert(k.x-w),c().invert(k.x+w)].sort((D,z)=>D-z),R=o.find(D=>D.id===r.id);if(!R)throw new Error("Unreachable");const M=di(R),N=M.x.findIndex(D=>D>=_[1])-1,H=M.x.findIndex(D=>D>=_[0]),A=M.y.slice(H,N);if(A&&A.length>0){const D=M0(A),z=A.findIndex(Y=>Y===D),U=M.x[H+z];return{x:c()(U),y:l(r.id)(D)-v,xIndex:H+z}}}return null})(10,u);g(y)},[r,o,i,u,c,l,a,s]),a!==K.peakPicking.id||!f||!r||p.step==="brushing"||!u||u.y<n.top||u.left<n.left||u.x>t-n.right||u.y>e-n.bottom?null:m("div",{style:{cursor:"crosshair",transform:`translate(${f.x}px, ${f.y}px)`,transformOrigin:"top left",position:"absolute",top:-(Xe.radius+Xe.SVGPadding),left:-(Xe.radius+Xe.SVGPadding),pointerEvents:"none",overflow:"visible"},children:G("svg",{width:Xe.radius*2+Xe.SVGPadding*2,height:Xe.radius*2+Xe.SVGPadding*2,children:[m("circle",{cx:Xe.radius+Xe.SVGPadding,cy:Xe.radius+Xe.SVGPadding,r:Xe.radius,stroke:Xe.borderColor,strokeWidth:Xe.strokeWidth,fillOpacity:Xe.fillOpacity}),m("line",{x1:Xe.radius+Xe.SVGPadding,y1:Xe.SVGPadding,x2:Xe.radius+Xe.SVGPadding,y2:Xe.radius*2+Xe.SVGPadding,stroke:Xe.borderColor,strokeWidth:Xe.strokeWidth}),m("line",{x1:Xe.SVGPadding,y1:Xe.radius+Xe.SVGPadding,x2:Xe.radius*2+Xe.SVGPadding,y2:Xe.radius+Xe.SVGPadding,stroke:Xe.borderColor,strokeWidth:Xe.strokeWidth})]})},"peakPointer")}const S9={transformOrigin:"top left",position:"absolute",top:"0px",left:"0px",width:1,backgroundColor:"red"};function C9(){const{height:e,toolOptions:{selectedTool:t,data:{pivot:n}}}=ce(),{scaleX:r}=Rt();return K.phaseCorrection.id!==t?null:m("div",{style:P(S({},S9),{transform:`translate(${r()(n.value)}px, 0px)`,height:e})})}const k9={cursor:"crosshair",transformOrigin:"bottom right",position:"absolute",top:"-18px",left:"-30px",pointerEvents:"none",overflow:"visible",userSelect:"none"};function E9(){const{height:e,width:t,margin:n,data:r,activeSpectrum:o}=ce(),{scaleX:i}=Rt(),a=d.exports.useContext(or),s=d.exports.useContext(Ar),c=d.exports.useMemo(()=>o?r.find(f=>f.id===o.id):null,[o,r]),l=Tn(c==null?void 0:c.info.nucleus),u=d.exports.useCallback(p=>{if(c){const f=i().invert(p);return l(f)}},[c,l,i]);return!o||s.step==="brushing"||!a||a.y<n.top||a.x<n.left||a.x>t-n.right||a.y>e-n.bottom?null:m("div",{style:P(S({},k9),{transform:`translate(${a.x}px, ${a.y}px)`}),children:m("span",{children:u(a.x)})},"xLabelPointer")}function _9({emptyText:e=void 0}){const{display:{general:t}}=dt(),n=ce(),{toolOptions:{selectedTool:r},isLoading:o,data:i,mode:a,width:s,height:c,margin:l,activeSpectrum:u,xDomain:p,xDomains:f,yDomain:g,yDomains:v,verticalAlign:x,displayerKey:y}=n,w=Re(),k=Tt(),_=mt(),[R,M]=d.exports.useReducer(P6,i1);d.exports.useEffect(()=>{p.length>0&&g.length>0&&s&&c&&M({type:o1,payload:{yDomain:g,yDomains:v,xDomain:p,xDomains:f,margin:l,height:c,width:s,verticalAlign:x,mode:a}})},[c,l,a,x,s,p,f,g,v]);const N=d.exports.useCallback(z=>{const U=()=>{if(!R.scaleX||!R.scaleY)return;const{startX:Y,endX:oe}=z,ae=R.scaleX().invert(Y),je=R.scaleX().invert(oe);Et.emit("brushEnd",P(S({},z),{range:[ae,je].sort((ue,me)=>ue-me)}))};if(z.altKey)switch(r){case K.rangesPicking.id:{t.disableMultipletAnalysis||k.show(m(Q6,S({data:i,activeSpectrum:u,scaleX:R.scaleX},z)),{onClose:()=>{k.close()}});break}}else if(z.shiftKey)switch(r){case K.integral.id:w(S({type:xb},z));break;case K.rangesPicking.id:{const[Y,oe]=po(n,{startX:z.startX,endX:z.endX});if(!u)break;const{data:{x:ae}}=n.data[u.index],{fromIndex:je,toIndex:ue}=ua(ae,{from:Y,to:oe});ue-je<=Qs?w({type:Xb,payload:S({},z)}):_.error(`Advanced peak picking only available for area up to ${Qs} points`);break}case K.multipleSpectraAnalysis.id:w(S({type:sv},z));break;case K.peakPicking.id:w(S({type:fb},z));break;case K.baseLineCorrection.id:w({type:jb,zone:{from:z.startX,to:z.endX}});break;case K.exclusionZones.id:w({type:xv,payload:{from:z.startX,to:z.endX}});break;default:U();break}else switch(r){default:r!=null&&w(S({type:Bl},z));break}},[R,r,t==null?void 0:t.disableMultipletAnalysis,k,i,u,w,n,_]),H=d.exports.useCallback(()=>{w({type:ti,zoomType:Zi.STEP_HORIZONTAL})},[w]),A=d.exports.useCallback(z=>{w({type:zl,event:z,selectedTool:r})},[w,r]),D=d.exports.useCallback(z=>{const U=()=>{if(!R.scaleX)return;const Y=R.scaleX().invert(z.x);Et.emit("mouseClick",P(S({},z),{xPPM:Y}))};if(z.shiftKey)switch(r){case K.peakPicking.id:w({type:pb,mouseCoordinates:z});break;case K.editRange.id:U();break}else switch(r){case K.phaseCorrection.id:w({type:zd,position:z.x});break}},[w,R,r]);return m(M6,{value:R,children:m(od,{children:({height:z,width:U})=>m(r1,{height:z,width:U,children:G("div",{style:{height:"100%",position:"relative"},children:[m(Hv,{isLoading:o,emptyText:e}),R.scaleX&&R.scaleY&&i&&i.length>0&&m(J0,{onBrush:N,onDoubleClick:H,onClick:D,onZoom:A,style:{width:"100%",height:"100%",margin:"auto",position:"relative",overflow:"hidden"},children:G(Q0,{style:{width:"100%",height:"100%",position:"absolute"},children:[m(y9,{}),m(zv,{}),m(Us,{brushType:un.X}),m(E9,{}),m(w9,{}),m(C9,{}),m(v9,{}),m(u9,{width:s,height:c,margin:l,mode:a,displayerKey:y})]})})]})})})})}const Ps={container:{margin:"25px"},header:{backgroundColor:"#ffffff",padding:"20px",borderRadius:"10px",fontSize:"30px",textAlign:"center"},title:{textDecoration:"underline"},body:{marginTop:"10px",whiteSpace:"pre-wrap",backgroundColor:"white",padding:"20px",borderRadius:"10px",color:"red"}};function T9(e){return G("div",{style:Ps.container,children:[m("p",{style:Ps.header,children:"Something went wrong."}),G("details",{style:Ps.body,children:[m("p",{style:Ps.title,children:e.error.message}),e.error.stack]})]})}var Mh=Array.isArray,Fh=Object.keys,R9=Object.prototype.hasOwnProperty,A9=typeof Element!="undefined";function ku(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Mh(e),r=Mh(t),o,i,a;if(n&&r){if(i=e.length,i!=t.length)return!1;for(o=i;o--!==0;)if(!ku(e[o],t[o]))return!1;return!0}if(n!=r)return!1;var s=e instanceof Date,c=t instanceof Date;if(s!=c)return!1;if(s&&c)return e.getTime()==t.getTime();var l=e instanceof RegExp,u=t instanceof RegExp;if(l!=u)return!1;if(l&&u)return e.toString()==t.toString();var p=Fh(e);if(i=p.length,i!==Fh(t).length)return!1;for(o=i;o--!==0;)if(!R9.call(t,p[o]))return!1;if(A9&&e instanceof Element&&t instanceof Element)return e===t;for(o=i;o--!==0;)if(a=p[o],!(a==="_owner"&&e.$$typeof)&&!ku(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}var br=function(t,n){try{return ku(t,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}},P9=function(t){return M9(t)&&!F9(t)};function M9(e){return!!e&&typeof e=="object"}function F9(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||D9(e)}var O9=typeof Symbol=="function"&&Symbol.for,$9=O9?Symbol.for("react.element"):60103;function D9(e){return e.$$typeof===$9}function I9(e){return Array.isArray(e)?[]:{}}function hl(e,t){return t.clone!==!1&&t.isMergeableObject(e)?sa(I9(e),e,t):e}function N9(e,t,n){return e.concat(t).map(function(r){return hl(r,n)})}function L9(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(o){r[o]=hl(e[o],n)}),Object.keys(t).forEach(function(o){!n.isMergeableObject(t[o])||!e[o]?r[o]=hl(t[o],n):r[o]=sa(e[o],t[o],n)}),r}function sa(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||N9,n.isMergeableObject=n.isMergeableObject||P9;var r=Array.isArray(t),o=Array.isArray(e),i=r===o;return i?r?n.arrayMerge(e,t,n):L9(e,t,n):hl(t,n)}sa.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,o){return sa(r,o,n)},{})};var Eu=sa,H9=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,y1=H9,z9=typeof self=="object"&&self&&self.Object===Object&&self,B9=y1||z9||Function("return this")(),Kn=B9,j9=Kn.Symbol,_r=j9,w1=Object.prototype,V9=w1.hasOwnProperty,G9=w1.toString,$i=_r?_r.toStringTag:void 0;function W9(e){var t=V9.call(e,$i),n=e[$i];try{e[$i]=void 0;var r=!0}catch{}var o=G9.call(e);return r&&(t?e[$i]=n:delete e[$i]),o}var U9=Object.prototype,X9=U9.toString;function Y9(e){return X9.call(e)}var Z9="[object Null]",K9="[object Undefined]",Oh=_r?_r.toStringTag:void 0;function ho(e){return e==null?e===void 0?K9:Z9:Oh&&Oh in Object(e)?W9(e):Y9(e)}function S1(e,t){return function(n){return e(t(n))}}var q9=S1(Object.getPrototypeOf,Object),Jd=q9;function go(e){return e!=null&&typeof e=="object"}var J9="[object Object]",Q9=Function.prototype,eR=Object.prototype,C1=Q9.toString,tR=eR.hasOwnProperty,nR=C1.call(Object);function $h(e){if(!go(e)||ho(e)!=J9)return!1;var t=Jd(e);if(t===null)return!0;var n=tR.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&C1.call(n)==nR}function rR(){this.__data__=[],this.size=0}function k1(e,t){return e===t||e!==e&&t!==t}function Zl(e,t){for(var n=e.length;n--;)if(k1(e[n][0],t))return n;return-1}var oR=Array.prototype,iR=oR.splice;function aR(e){var t=this.__data__,n=Zl(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():iR.call(t,n,1),--this.size,!0}function sR(e){var t=this.__data__,n=Zl(t,e);return n<0?void 0:t[n][1]}function lR(e){return Zl(this.__data__,e)>-1}function cR(e,t){var n=this.__data__,r=Zl(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function sr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sr.prototype.clear=rR;sr.prototype.delete=aR;sr.prototype.get=sR;sr.prototype.has=lR;sr.prototype.set=cR;function uR(){this.__data__=new sr,this.size=0}function dR(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function pR(e){return this.__data__.get(e)}function fR(e){return this.__data__.has(e)}function Ea(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var hR="[object AsyncFunction]",gR="[object Function]",mR="[object GeneratorFunction]",bR="[object Proxy]";function E1(e){if(!Ea(e))return!1;var t=ho(e);return t==gR||t==mR||t==hR||t==bR}var vR=Kn["__core-js_shared__"],Fc=vR,Dh=function(){var e=/[^.]+$/.exec(Fc&&Fc.keys&&Fc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xR(e){return!!Dh&&Dh in e}var yR=Function.prototype,wR=yR.toString;function mo(e){if(e!=null){try{return wR.call(e)}catch{}try{return e+""}catch{}}return""}var SR=/[\\^$.*+?()[\]{}|]/g,CR=/^\[object .+?Constructor\]$/,kR=Function.prototype,ER=Object.prototype,_R=kR.toString,TR=ER.hasOwnProperty,RR=RegExp("^"+_R.call(TR).replace(SR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function AR(e){if(!Ea(e)||xR(e))return!1;var t=E1(e)?RR:CR;return t.test(mo(e))}function PR(e,t){return e==null?void 0:e[t]}function bo(e,t){var n=PR(e,t);return AR(n)?n:void 0}var MR=bo(Kn,"Map"),la=MR,FR=bo(Object,"create"),ca=FR;function OR(){this.__data__=ca?ca(null):{},this.size=0}function $R(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var DR="__lodash_hash_undefined__",IR=Object.prototype,NR=IR.hasOwnProperty;function LR(e){var t=this.__data__;if(ca){var n=t[e];return n===DR?void 0:n}return NR.call(t,e)?t[e]:void 0}var HR=Object.prototype,zR=HR.hasOwnProperty;function BR(e){var t=this.__data__;return ca?t[e]!==void 0:zR.call(t,e)}var jR="__lodash_hash_undefined__";function VR(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ca&&t===void 0?jR:t,this}function so(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}so.prototype.clear=OR;so.prototype.delete=$R;so.prototype.get=LR;so.prototype.has=BR;so.prototype.set=VR;function GR(){this.size=0,this.__data__={hash:new so,map:new(la||sr),string:new so}}function WR(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Kl(e,t){var n=e.__data__;return WR(t)?n[typeof t=="string"?"string":"hash"]:n.map}function UR(e){var t=Kl(this,e).delete(e);return this.size-=t?1:0,t}function XR(e){return Kl(this,e).get(e)}function YR(e){return Kl(this,e).has(e)}function ZR(e,t){var n=Kl(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Or(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Or.prototype.clear=GR;Or.prototype.delete=UR;Or.prototype.get=XR;Or.prototype.has=YR;Or.prototype.set=ZR;var KR=200;function qR(e,t){var n=this.__data__;if(n instanceof sr){var r=n.__data__;if(!la||r.length<KR-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Or(r)}return n.set(e,t),this.size=n.size,this}function bi(e){var t=this.__data__=new sr(e);this.size=t.size}bi.prototype.clear=uR;bi.prototype.delete=dR;bi.prototype.get=pR;bi.prototype.has=fR;bi.prototype.set=qR;function JR(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var QR=function(){try{var e=bo(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ih=QR;function _1(e,t,n){t=="__proto__"&&Ih?Ih(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var eA=Object.prototype,tA=eA.hasOwnProperty;function T1(e,t,n){var r=e[t];(!(tA.call(e,t)&&k1(r,n))||n===void 0&&!(t in e))&&_1(e,t,n)}function ql(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;c===void 0&&(c=e[s]),o?_1(n,s,c):T1(n,s,c)}return n}function nA(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var rA="[object Arguments]";function Nh(e){return go(e)&&ho(e)==rA}var R1=Object.prototype,oA=R1.hasOwnProperty,iA=R1.propertyIsEnumerable,aA=Nh(function(){return arguments}())?Nh:function(e){return go(e)&&oA.call(e,"callee")&&!iA.call(e,"callee")},sA=aA,lA=Array.isArray,_a=lA;function cA(){return!1}var A1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Lh=A1&&typeof module=="object"&&module&&!module.nodeType&&module,uA=Lh&&Lh.exports===A1,Hh=uA?Kn.Buffer:void 0,dA=Hh?Hh.isBuffer:void 0,pA=dA||cA,P1=pA,fA=9007199254740991,hA=/^(?:0|[1-9]\d*)$/;function gA(e,t){var n=typeof e;return t=t==null?fA:t,!!t&&(n=="number"||n!="symbol"&&hA.test(e))&&e>-1&&e%1==0&&e<t}var mA=9007199254740991;function M1(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=mA}var bA="[object Arguments]",vA="[object Array]",xA="[object Boolean]",yA="[object Date]",wA="[object Error]",SA="[object Function]",CA="[object Map]",kA="[object Number]",EA="[object Object]",_A="[object RegExp]",TA="[object Set]",RA="[object String]",AA="[object WeakMap]",PA="[object ArrayBuffer]",MA="[object DataView]",FA="[object Float32Array]",OA="[object Float64Array]",$A="[object Int8Array]",DA="[object Int16Array]",IA="[object Int32Array]",NA="[object Uint8Array]",LA="[object Uint8ClampedArray]",HA="[object Uint16Array]",zA="[object Uint32Array]",it={};it[FA]=it[OA]=it[$A]=it[DA]=it[IA]=it[NA]=it[LA]=it[HA]=it[zA]=!0;it[bA]=it[vA]=it[PA]=it[xA]=it[MA]=it[yA]=it[wA]=it[SA]=it[CA]=it[kA]=it[EA]=it[_A]=it[TA]=it[RA]=it[AA]=!1;function BA(e){return go(e)&&M1(e.length)&&!!it[ho(e)]}function Qd(e){return function(t){return e(t)}}var F1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qi=F1&&typeof module=="object"&&module&&!module.nodeType&&module,jA=qi&&qi.exports===F1,Oc=jA&&y1.process,VA=function(){try{var e=qi&&qi.require&&qi.require("util").types;return e||Oc&&Oc.binding&&Oc.binding("util")}catch{}}(),ni=VA,zh=ni&&ni.isTypedArray,GA=zh?Qd(zh):BA,WA=GA,UA=Object.prototype,XA=UA.hasOwnProperty;function O1(e,t){var n=_a(e),r=!n&&sA(e),o=!n&&!r&&P1(e),i=!n&&!r&&!o&&WA(e),a=n||r||o||i,s=a?nA(e.length,String):[],c=s.length;for(var l in e)(t||XA.call(e,l))&&!(a&&(l=="length"||o&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||gA(l,c)))&&s.push(l);return s}var YA=Object.prototype;function ep(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||YA;return e===n}var ZA=S1(Object.keys,Object),KA=ZA,qA=Object.prototype,JA=qA.hasOwnProperty;function QA(e){if(!ep(e))return KA(e);var t=[];for(var n in Object(e))JA.call(e,n)&&n!="constructor"&&t.push(n);return t}function $1(e){return e!=null&&M1(e.length)&&!E1(e)}function tp(e){return $1(e)?O1(e):QA(e)}function eP(e,t){return e&&ql(t,tp(t),e)}function tP(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var nP=Object.prototype,rP=nP.hasOwnProperty;function oP(e){if(!Ea(e))return tP(e);var t=ep(e),n=[];for(var r in e)r=="constructor"&&(t||!rP.call(e,r))||n.push(r);return n}function np(e){return $1(e)?O1(e,!0):oP(e)}function iP(e,t){return e&&ql(t,np(t),e)}var D1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Bh=D1&&typeof module=="object"&&module&&!module.nodeType&&module,aP=Bh&&Bh.exports===D1,jh=aP?Kn.Buffer:void 0,Vh=jh?jh.allocUnsafe:void 0;function sP(e,t){if(t)return e.slice();var n=e.length,r=Vh?Vh(n):new e.constructor(n);return e.copy(r),r}function I1(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function lP(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function N1(){return[]}var cP=Object.prototype,uP=cP.propertyIsEnumerable,Gh=Object.getOwnPropertySymbols,dP=Gh?function(e){return e==null?[]:(e=Object(e),lP(Gh(e),function(t){return uP.call(e,t)}))}:N1,rp=dP;function pP(e,t){return ql(e,rp(e),t)}function L1(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var fP=Object.getOwnPropertySymbols,hP=fP?function(e){for(var t=[];e;)L1(t,rp(e)),e=Jd(e);return t}:N1,H1=hP;function gP(e,t){return ql(e,H1(e),t)}function z1(e,t,n){var r=t(e);return _a(e)?r:L1(r,n(e))}function mP(e){return z1(e,tp,rp)}function bP(e){return z1(e,np,H1)}var vP=bo(Kn,"DataView"),_u=vP,xP=bo(Kn,"Promise"),Tu=xP,yP=bo(Kn,"Set"),Ru=yP,wP=bo(Kn,"WeakMap"),Au=wP,Wh="[object Map]",SP="[object Object]",Uh="[object Promise]",Xh="[object Set]",Yh="[object WeakMap]",Zh="[object DataView]",CP=mo(_u),kP=mo(la),EP=mo(Tu),_P=mo(Ru),TP=mo(Au),Yr=ho;(_u&&Yr(new _u(new ArrayBuffer(1)))!=Zh||la&&Yr(new la)!=Wh||Tu&&Yr(Tu.resolve())!=Uh||Ru&&Yr(new Ru)!=Xh||Au&&Yr(new Au)!=Yh)&&(Yr=function(e){var t=ho(e),n=t==SP?e.constructor:void 0,r=n?mo(n):"";if(r)switch(r){case CP:return Zh;case kP:return Wh;case EP:return Uh;case _P:return Xh;case TP:return Yh}return t});var op=Yr,RP=Object.prototype,AP=RP.hasOwnProperty;function PP(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&AP.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var MP=Kn.Uint8Array,Kh=MP;function ip(e){var t=new e.constructor(e.byteLength);return new Kh(t).set(new Kh(e)),t}function FP(e,t){var n=t?ip(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var OP=/\w*$/;function $P(e){var t=new e.constructor(e.source,OP.exec(e));return t.lastIndex=e.lastIndex,t}var qh=_r?_r.prototype:void 0,Jh=qh?qh.valueOf:void 0;function DP(e){return Jh?Object(Jh.call(e)):{}}function IP(e,t){var n=t?ip(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var NP="[object Boolean]",LP="[object Date]",HP="[object Map]",zP="[object Number]",BP="[object RegExp]",jP="[object Set]",VP="[object String]",GP="[object Symbol]",WP="[object ArrayBuffer]",UP="[object DataView]",XP="[object Float32Array]",YP="[object Float64Array]",ZP="[object Int8Array]",KP="[object Int16Array]",qP="[object Int32Array]",JP="[object Uint8Array]",QP="[object Uint8ClampedArray]",eM="[object Uint16Array]",tM="[object Uint32Array]";function nM(e,t,n){var r=e.constructor;switch(t){case WP:return ip(e);case NP:case LP:return new r(+e);case UP:return FP(e,n);case XP:case YP:case ZP:case KP:case qP:case JP:case QP:case eM:case tM:return IP(e,n);case HP:return new r;case zP:case VP:return new r(e);case BP:return $P(e);case jP:return new r;case GP:return DP(e)}}var Qh=Object.create,rM=function(){function e(){}return function(t){if(!Ea(t))return{};if(Qh)return Qh(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),oM=rM;function iM(e){return typeof e.constructor=="function"&&!ep(e)?oM(Jd(e)):{}}var aM="[object Map]";function sM(e){return go(e)&&op(e)==aM}var eg=ni&&ni.isMap,lM=eg?Qd(eg):sM,cM=lM,uM="[object Set]";function dM(e){return go(e)&&op(e)==uM}var tg=ni&&ni.isSet,pM=tg?Qd(tg):dM,fM=pM,hM=1,gM=2,mM=4,B1="[object Arguments]",bM="[object Array]",vM="[object Boolean]",xM="[object Date]",yM="[object Error]",j1="[object Function]",wM="[object GeneratorFunction]",SM="[object Map]",CM="[object Number]",V1="[object Object]",kM="[object RegExp]",EM="[object Set]",_M="[object String]",TM="[object Symbol]",RM="[object WeakMap]",AM="[object ArrayBuffer]",PM="[object DataView]",MM="[object Float32Array]",FM="[object Float64Array]",OM="[object Int8Array]",$M="[object Int16Array]",DM="[object Int32Array]",IM="[object Uint8Array]",NM="[object Uint8ClampedArray]",LM="[object Uint16Array]",HM="[object Uint32Array]",ot={};ot[B1]=ot[bM]=ot[AM]=ot[PM]=ot[vM]=ot[xM]=ot[MM]=ot[FM]=ot[OM]=ot[$M]=ot[DM]=ot[SM]=ot[CM]=ot[V1]=ot[kM]=ot[EM]=ot[_M]=ot[TM]=ot[IM]=ot[NM]=ot[LM]=ot[HM]=!0;ot[yM]=ot[j1]=ot[RM]=!1;function Ji(e,t,n,r,o,i){var a,s=t&hM,c=t&gM,l=t&mM;if(n&&(a=o?n(e,r,o,i):n(e)),a!==void 0)return a;if(!Ea(e))return e;var u=_a(e);if(u){if(a=PP(e),!s)return I1(e,a)}else{var p=op(e),f=p==j1||p==wM;if(P1(e))return sP(e,s);if(p==V1||p==B1||f&&!o){if(a=c||f?{}:iM(e),!s)return c?gP(e,iP(a,e)):pP(e,eP(a,e))}else{if(!ot[p])return o?e:{};a=nM(e,p,s)}}i||(i=new bi);var g=i.get(e);if(g)return g;i.set(e,a),fM(e)?e.forEach(function(y){a.add(Ji(y,t,n,y,e,i))}):cM(e)&&e.forEach(function(y,w){a.set(w,Ji(y,t,n,w,e,i))});var v=l?c?bP:mP:c?np:tp,x=u?void 0:v(e);return JR(x||e,function(y,w){x&&(w=y,y=e[w]),T1(a,w,Ji(y,t,n,w,e,i))}),a}var zM=4;function ng(e){return Ji(e,zM)}function G1(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var BM="[object Symbol]";function ap(e){return typeof e=="symbol"||go(e)&&ho(e)==BM}var jM="Expected a function";function sp(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(jM);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(sp.Cache||Or),n}sp.Cache=Or;var VM=500;function GM(e){var t=sp(e,function(r){return n.size===VM&&n.clear(),r}),n=t.cache;return t}var WM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,UM=/\\(\\)?/g,XM=GM(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(WM,function(n,r,o,i){t.push(o?i.replace(UM,"$1"):r||n)}),t}),YM=XM,ZM=1/0;function KM(e){if(typeof e=="string"||ap(e))return e;var t=e+"";return t=="0"&&1/e==-ZM?"-0":t}var qM=1/0,rg=_r?_r.prototype:void 0,og=rg?rg.toString:void 0;function W1(e){if(typeof e=="string")return e;if(_a(e))return G1(e,W1)+"";if(ap(e))return og?og.call(e):"";var t=e+"";return t=="0"&&1/e==-qM?"-0":t}function JM(e){return e==null?"":W1(e)}function U1(e){return _a(e)?G1(e,KM):ap(e)?[e]:I1(YM(JM(e)))}var QM=1,e8=4;function t8(e){return Ji(e,QM|e8)}function et(){return et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},et.apply(this,arguments)}function n8(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Jr(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function ig(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ag=function(t){return Array.isArray(t)&&t.length===0},en=function(t){return typeof t=="function"},Jl=function(t){return t!==null&&typeof t=="object"},r8=function(t){return String(Math.floor(Number(t)))===t},$c=function(t){return Object.prototype.toString.call(t)==="[object String]"},X1=function(t){return d.exports.Children.count(t)===0},Dc=function(t){return Jl(t)&&en(t.then)};function It(e,t,n,r){r===void 0&&(r=0);for(var o=U1(t);e&&r<o.length;)e=e[o[r++]];return e===void 0?n:e}function jn(e,t,n){for(var r=ng(e),o=r,i=0,a=U1(t);i<a.length-1;i++){var s=a[i],c=It(e,a.slice(0,i+1));if(c&&(Jl(c)||Array.isArray(c)))o=o[s]=ng(c);else{var l=a[i+1];o=o[s]=r8(l)&&Number(l)>=0?[]:{}}}return(i===0?e:o)[a[i]]===n?e:(n===void 0?delete o[a[i]]:o[a[i]]=n,i===0&&n===void 0&&delete r[a[i]],r)}function Y1(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var o=0,i=Object.keys(e);o<i.length;o++){var a=i[o],s=e[a];Jl(s)?n.get(s)||(n.set(s,!0),r[a]=Array.isArray(s)?[]:{},Y1(s,t,n,r[a])):r[a]=t}return r}var Ql=d.exports.createContext(void 0);Ql.displayName="FormikContext";var o8=Ql.Provider,i8=Ql.Consumer;function xt(){var e=d.exports.useContext(Ql);return e||I0(!1),e}function a8(e,t){switch(t.type){case"SET_VALUES":return et({},e,{values:t.payload});case"SET_TOUCHED":return et({},e,{touched:t.payload});case"SET_ERRORS":return br(e.errors,t.payload)?e:et({},e,{errors:t.payload});case"SET_STATUS":return et({},e,{status:t.payload});case"SET_ISSUBMITTING":return et({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return et({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return et({},e,{values:jn(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return et({},e,{touched:jn(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return et({},e,{errors:jn(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return et({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return et({},e,{touched:Y1(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return et({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return et({},e,{isSubmitting:!1});default:return e}}var Hr={},Ms={};function s8(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,o=r===void 0?!0:r,i=e.validateOnMount,a=i===void 0?!1:i,s=e.isInitialValid,c=e.enableReinitialize,l=c===void 0?!1:c,u=e.onSubmit,p=Jr(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=et({validateOnChange:n,validateOnBlur:o,validateOnMount:a,onSubmit:u},p),g=d.exports.useRef(f.initialValues),v=d.exports.useRef(f.initialErrors||Hr),x=d.exports.useRef(f.initialTouched||Ms),y=d.exports.useRef(f.initialStatus),w=d.exports.useRef(!1),k=d.exports.useRef({});d.exports.useEffect(function(){return w.current=!0,function(){w.current=!1}},[]);var _=d.exports.useReducer(a8,{values:f.initialValues,errors:f.initialErrors||Hr,touched:f.initialTouched||Ms,status:f.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),R=_[0],M=_[1],N=d.exports.useCallback(function(V,ie){return new Promise(function(ge,xe){var Ee=f.validate(V,ie);Ee==null?ge(Hr):Dc(Ee)?Ee.then(function(Ze){ge(Ze||Hr)},function(Ze){xe(Ze)}):ge(Ee)})},[f.validate]),H=d.exports.useCallback(function(V,ie){var ge=f.validationSchema,xe=en(ge)?ge(ie):ge,Ee=ie&&xe.validateAt?xe.validateAt(ie,V):u8(V,xe);return new Promise(function(Ze,yt){Ee.then(function(){Ze(Hr)},function(Rn){Rn.name==="ValidationError"?Ze(c8(Rn)):yt(Rn)})})},[f.validationSchema]),A=d.exports.useCallback(function(V,ie){return new Promise(function(ge){return ge(k.current[V].validate(ie))})},[]),D=d.exports.useCallback(function(V){var ie=Object.keys(k.current).filter(function(xe){return en(k.current[xe].validate)}),ge=ie.length>0?ie.map(function(xe){return A(xe,It(V,xe))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ge).then(function(xe){return xe.reduce(function(Ee,Ze,yt){return Ze==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ze&&(Ee=jn(Ee,ie[yt],Ze)),Ee},{})})},[A]),z=d.exports.useCallback(function(V){return Promise.all([D(V),f.validationSchema?H(V):{},f.validate?N(V):{}]).then(function(ie){var ge=ie[0],xe=ie[1],Ee=ie[2],Ze=Eu.all([ge,xe,Ee],{arrayMerge:d8});return Ze})},[f.validate,f.validationSchema,D,N,H]),U=bn(function(V){return V===void 0&&(V=R.values),M({type:"SET_ISVALIDATING",payload:!0}),z(V).then(function(ie){return w.current&&(M({type:"SET_ISVALIDATING",payload:!1}),M({type:"SET_ERRORS",payload:ie})),ie})});d.exports.useEffect(function(){a&&w.current===!0&&br(g.current,f.initialValues)&&U(g.current)},[a,U]);var Y=d.exports.useCallback(function(V){var ie=V&&V.values?V.values:g.current,ge=V&&V.errors?V.errors:v.current?v.current:f.initialErrors||{},xe=V&&V.touched?V.touched:x.current?x.current:f.initialTouched||{},Ee=V&&V.status?V.status:y.current?y.current:f.initialStatus;g.current=ie,v.current=ge,x.current=xe,y.current=Ee;var Ze=function(){M({type:"RESET_FORM",payload:{isSubmitting:!!V&&!!V.isSubmitting,errors:ge,touched:xe,status:Ee,values:ie,isValidating:!!V&&!!V.isValidating,submitCount:!!V&&!!V.submitCount&&typeof V.submitCount=="number"?V.submitCount:0}})};if(f.onReset){var yt=f.onReset(R.values,ko);Dc(yt)?yt.then(Ze):Ze()}else Ze()},[f.initialErrors,f.initialStatus,f.initialTouched]);d.exports.useEffect(function(){w.current===!0&&!br(g.current,f.initialValues)&&(l&&(g.current=f.initialValues,Y()),a&&U(g.current))},[l,f.initialValues,Y,a,U]),d.exports.useEffect(function(){l&&w.current===!0&&!br(v.current,f.initialErrors)&&(v.current=f.initialErrors||Hr,M({type:"SET_ERRORS",payload:f.initialErrors||Hr}))},[l,f.initialErrors]),d.exports.useEffect(function(){l&&w.current===!0&&!br(x.current,f.initialTouched)&&(x.current=f.initialTouched||Ms,M({type:"SET_TOUCHED",payload:f.initialTouched||Ms}))},[l,f.initialTouched]),d.exports.useEffect(function(){l&&w.current===!0&&!br(y.current,f.initialStatus)&&(y.current=f.initialStatus,M({type:"SET_STATUS",payload:f.initialStatus}))},[l,f.initialStatus,f.initialTouched]);var oe=bn(function(V){if(k.current[V]&&en(k.current[V].validate)){var ie=It(R.values,V),ge=k.current[V].validate(ie);return Dc(ge)?(M({type:"SET_ISVALIDATING",payload:!0}),ge.then(function(xe){return xe}).then(function(xe){M({type:"SET_FIELD_ERROR",payload:{field:V,value:xe}}),M({type:"SET_ISVALIDATING",payload:!1})})):(M({type:"SET_FIELD_ERROR",payload:{field:V,value:ge}}),Promise.resolve(ge))}else if(f.validationSchema)return M({type:"SET_ISVALIDATING",payload:!0}),H(R.values,V).then(function(xe){return xe}).then(function(xe){M({type:"SET_FIELD_ERROR",payload:{field:V,value:xe[V]}}),M({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),ae=d.exports.useCallback(function(V,ie){var ge=ie.validate;k.current[V]={validate:ge}},[]),je=d.exports.useCallback(function(V){delete k.current[V]},[]),ue=bn(function(V,ie){M({type:"SET_TOUCHED",payload:V});var ge=ie===void 0?o:ie;return ge?U(R.values):Promise.resolve()}),me=d.exports.useCallback(function(V){M({type:"SET_ERRORS",payload:V})},[]),$e=bn(function(V,ie){var ge=en(V)?V(R.values):V;M({type:"SET_VALUES",payload:ge});var xe=ie===void 0?n:ie;return xe?U(ge):Promise.resolve()}),He=d.exports.useCallback(function(V,ie){M({type:"SET_FIELD_ERROR",payload:{field:V,value:ie}})},[]),Pe=bn(function(V,ie,ge){M({type:"SET_FIELD_VALUE",payload:{field:V,value:ie}});var xe=ge===void 0?n:ge;return xe?U(jn(R.values,V,ie)):Promise.resolve()}),St=d.exports.useCallback(function(V,ie){var ge=ie,xe=V,Ee;if(!$c(V)){V.persist&&V.persist();var Ze=V.target?V.target:V.currentTarget,yt=Ze.type,Rn=Ze.name,Eo=Ze.id,Ai=Ze.value,mc=Ze.checked,tf=Ze.outerHTML,ws=Ze.options,bc=Ze.multiple;ge=ie||Rn||Eo,xe=/number|range/.test(yt)?(Ee=parseFloat(Ai),isNaN(Ee)?"":Ee):/checkbox/.test(yt)?f8(It(R.values,ge),mc,Ai):ws&&bc?p8(ws):Ai}ge&&Pe(ge,xe)},[Pe,R.values]),nt=bn(function(V){if($c(V))return function(ie){return St(ie,V)};St(V)}),Ft=bn(function(V,ie,ge){ie===void 0&&(ie=!0),M({type:"SET_FIELD_TOUCHED",payload:{field:V,value:ie}});var xe=ge===void 0?o:ge;return xe?U(R.values):Promise.resolve()}),Ht=d.exports.useCallback(function(V,ie){V.persist&&V.persist();var ge=V.target,xe=ge.name,Ee=ge.id,Ze=ge.outerHTML,yt=ie||xe||Ee;Ft(yt,!0)},[Ft]),at=bn(function(V){if($c(V))return function(ie){return Ht(ie,V)};Ht(V)}),zt=d.exports.useCallback(function(V){en(V)?M({type:"SET_FORMIK_STATE",payload:V}):M({type:"SET_FORMIK_STATE",payload:function(){return V}})},[]),Kt=d.exports.useCallback(function(V){M({type:"SET_STATUS",payload:V})},[]),Jn=d.exports.useCallback(function(V){M({type:"SET_ISSUBMITTING",payload:V})},[]),Ot=bn(function(){return M({type:"SUBMIT_ATTEMPT"}),U().then(function(V){var ie=V instanceof Error,ge=!ie&&Object.keys(V).length===0;if(ge){var xe;try{if(xe=Ri(),xe===void 0)return}catch(Ee){throw Ee}return Promise.resolve(xe).then(function(Ee){return w.current&&M({type:"SUBMIT_SUCCESS"}),Ee}).catch(function(Ee){if(w.current)throw M({type:"SUBMIT_FAILURE"}),Ee})}else if(w.current&&(M({type:"SUBMIT_FAILURE"}),ie))throw V})}),ln=bn(function(V){V&&V.preventDefault&&en(V.preventDefault)&&V.preventDefault(),V&&V.stopPropagation&&en(V.stopPropagation)&&V.stopPropagation(),Ot().catch(function(ie){console.warn("Warning: An unhandled error was caught from submitForm()",ie)})}),ko={resetForm:Y,validateForm:U,validateField:oe,setErrors:me,setFieldError:He,setFieldTouched:Ft,setFieldValue:Pe,setStatus:Kt,setSubmitting:Jn,setTouched:ue,setValues:$e,setFormikState:zt,submitForm:Ot},Ri=bn(function(){return u(R.values,ko)}),O=bn(function(V){V&&V.preventDefault&&en(V.preventDefault)&&V.preventDefault(),V&&V.stopPropagation&&en(V.stopPropagation)&&V.stopPropagation(),Y()}),j=d.exports.useCallback(function(V){return{value:It(R.values,V),error:It(R.errors,V),touched:!!It(R.touched,V),initialValue:It(g.current,V),initialTouched:!!It(x.current,V),initialError:It(v.current,V)}},[R.errors,R.touched,R.values]),I=d.exports.useCallback(function(V){return{setValue:function(ge,xe){return Pe(V,ge,xe)},setTouched:function(ge,xe){return Ft(V,ge,xe)},setError:function(ge){return He(V,ge)}}},[Pe,Ft,He]),Q=d.exports.useCallback(function(V){var ie=Jl(V),ge=ie?V.name:V,xe=It(R.values,ge),Ee={name:ge,value:xe,onChange:nt,onBlur:at};if(ie){var Ze=V.type,yt=V.value,Rn=V.as,Eo=V.multiple;Ze==="checkbox"?yt===void 0?Ee.checked=!!xe:(Ee.checked=!!(Array.isArray(xe)&&~xe.indexOf(yt)),Ee.value=yt):Ze==="radio"?(Ee.checked=xe===yt,Ee.value=yt):Rn==="select"&&Eo&&(Ee.value=Ee.value||[],Ee.multiple=!0)}return Ee},[at,nt,R.values]),pe=d.exports.useMemo(function(){return!br(g.current,R.values)},[g.current,R.values]),fe=d.exports.useMemo(function(){return typeof s!="undefined"?pe?R.errors&&Object.keys(R.errors).length===0:s!==!1&&en(s)?s(f):s:R.errors&&Object.keys(R.errors).length===0},[s,pe,R.errors,f]),We=et({},R,{initialValues:g.current,initialErrors:v.current,initialTouched:x.current,initialStatus:y.current,handleBlur:at,handleChange:nt,handleReset:O,handleSubmit:ln,resetForm:Y,setErrors:me,setFormikState:zt,setFieldTouched:Ft,setFieldValue:Pe,setFieldError:He,setStatus:Kt,setSubmitting:Jn,setTouched:ue,setValues:$e,submitForm:Ot,validateForm:U,validateField:oe,isValid:fe,dirty:pe,unregisterField:je,registerField:ae,getFieldProps:Q,getFieldMeta:j,getFieldHelpers:I,validateOnBlur:o,validateOnChange:n,validateOnMount:a});return We}function l8(e){var t=s8(e),n=e.component,r=e.children,o=e.render,i=e.innerRef;return d.exports.useImperativeHandle(i,function(){return t}),d.exports.createElement(o8,{value:t},n?d.exports.createElement(n,t):o?o(t):r?en(r)?r(t):X1(r)?null:d.exports.Children.only(r):null)}function c8(e){var t={};if(e.inner){if(e.inner.length===0)return jn(t,e.path,e.message);for(var o=e.inner,n=Array.isArray(o),r=0,o=n?o:o[Symbol.iterator]();;){var i;if(n){if(r>=o.length)break;i=o[r++]}else{if(r=o.next(),r.done)break;i=r.value}var a=i;It(t,a.path)||(t=jn(t,a.path,a.message))}}return t}function u8(e,t,n,r){n===void 0&&(n=!1),r===void 0&&(r={});var o=Pu(e);return t[n?"validateSync":"validate"](o,{abortEarly:!1,context:r})}function Pu(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(o){return Array.isArray(o)===!0||$h(o)?Pu(o):o!==""?o:void 0}):$h(e[r])?t[r]=Pu(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function d8(e,t,n){var r=e.slice();return t.forEach(function(i,a){if(typeof r[a]=="undefined"){var s=n.clone!==!1,c=s&&n.isMergeableObject(i);r[a]=c?Eu(Array.isArray(i)?[]:{},i,n):i}else n.isMergeableObject(i)?r[a]=Eu(e[a],i,n):e.indexOf(i)===-1&&r.push(i)}),r}function p8(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function f8(e,t,n){if(typeof e=="boolean")return Boolean(t);var r=[],o=!1,i=-1;if(Array.isArray(e))r=e,i=e.indexOf(n),o=i>=0;else if(!n||n=="true"||n=="false")return Boolean(t);return t&&n&&!o?r.concat(n):o?r.slice(0,i).concat(r.slice(i+1)):r}var h8=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?d.exports.useLayoutEffect:d.exports.useEffect;function bn(e){var t=d.exports.useRef(e);return h8(function(){t.current=e}),d.exports.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current.apply(void 0,r)},[])}function sg(e){var t=e.validate,n=e.name,r=e.render,o=e.children,i=e.as,a=e.component,s=Jr(e,["validate","name","render","children","as","component"]),c=xt(),l=Jr(c,["validate","validationSchema"]),u=l.registerField,p=l.unregisterField;d.exports.useEffect(function(){return u(n,{validate:t}),function(){p(n)}},[u,p,n,t]);var f=l.getFieldProps(et({name:n},s)),g=l.getFieldMeta(n),v={field:f,form:l};if(r)return r(et({},v,{meta:g}));if(en(o))return o(et({},v,{meta:g}));if(a){if(typeof a=="string"){var x=s.innerRef,y=Jr(s,["innerRef"]);return d.exports.createElement(a,et({ref:x},f,y),o)}return d.exports.createElement(a,et({field:f,form:l},s),o)}var w=i||"input";if(typeof w=="string"){var k=s.innerRef,_=Jr(s,["innerRef"]);return d.exports.createElement(w,et({ref:k},f,_),o)}return d.exports.createElement(w,et({},f,s),o)}var g8=d.exports.forwardRef(function(e,t){var n=e.action,r=Jr(e,["action"]),o=n!=null?n:"#",i=xt(),a=i.handleReset,s=i.handleSubmit;return d.exports.createElement("form",Object.assign({onSubmit:s,ref:t,onReset:a,action:o},r))});g8.displayName="Form";function m8(e){var t=function(o){return d.exports.createElement(i8,null,function(i){return i||I0(!1),d.exports.createElement(e,Object.assign({},o,{formik:i}))})},n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+n+")",fS(t,e)}var b8=function(t,n,r){var o=ri(t),i=o[n];return o.splice(n,1),o.splice(r,0,i),o},v8=function(t,n,r){var o=ri(t),i=o[n];return o[n]=o[r],o[r]=i,o},Ic=function(t,n,r){var o=ri(t);return o.splice(n,0,r),o},x8=function(t,n,r){var o=ri(t);return o[n]=r,o},ri=function(t){if(t){if(Array.isArray(t))return[].concat(t);var n=Object.keys(t).map(function(r){return parseInt(r)}).reduce(function(r,o){return o>r?o:r},0);return Array.from(et({},t,{length:n+1}))}else return[]},Z1=function(e){n8(t,e);function t(r){var o;return o=e.call(this,r)||this,o.updateArrayField=function(i,a,s){var c=o.props,l=c.name,u=c.formik.setFormikState;u(function(p){var f=typeof s=="function"?s:i,g=typeof a=="function"?a:i,v=jn(p.values,l,i(It(p.values,l))),x=s?f(It(p.errors,l)):void 0,y=a?g(It(p.touched,l)):void 0;return ag(x)&&(x=void 0),ag(y)&&(y=void 0),et({},p,{values:v,errors:s?jn(p.errors,l,x):p.errors,touched:a?jn(p.touched,l,y):p.touched})})},o.push=function(i){return o.updateArrayField(function(a){return[].concat(ri(a),[t8(i)])},!1,!1)},o.handlePush=function(i){return function(){return o.push(i)}},o.swap=function(i,a){return o.updateArrayField(function(s){return v8(s,i,a)},!0,!0)},o.handleSwap=function(i,a){return function(){return o.swap(i,a)}},o.move=function(i,a){return o.updateArrayField(function(s){return b8(s,i,a)},!0,!0)},o.handleMove=function(i,a){return function(){return o.move(i,a)}},o.insert=function(i,a){return o.updateArrayField(function(s){return Ic(s,i,a)},function(s){return Ic(s,i,null)},function(s){return Ic(s,i,null)})},o.handleInsert=function(i,a){return function(){return o.insert(i,a)}},o.replace=function(i,a){return o.updateArrayField(function(s){return x8(s,i,a)},!1,!1)},o.handleReplace=function(i,a){return function(){return o.replace(i,a)}},o.unshift=function(i){var a=-1;return o.updateArrayField(function(s){var c=s?[i].concat(s):[i];return a<0&&(a=c.length),c},function(s){var c=s?[null].concat(s):[null];return a<0&&(a=c.length),c},function(s){var c=s?[null].concat(s):[null];return a<0&&(a=c.length),c}),a},o.handleUnshift=function(i){return function(){return o.unshift(i)}},o.handleRemove=function(i){return function(){return o.remove(i)}},o.handlePop=function(){return function(){return o.pop()}},o.remove=o.remove.bind(ig(o)),o.pop=o.pop.bind(ig(o)),o}var n=t.prototype;return n.componentDidUpdate=function(o){this.props.validateOnChange&&this.props.formik.validateOnChange&&!br(It(o.formik.values,o.name),It(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(o){var i;return this.updateArrayField(function(a){var s=a?ri(a):[];return i||(i=s[o]),en(s.splice)&&s.splice(o,1),s},!0,!0),i},n.pop=function(){var o;return this.updateArrayField(function(i){var a=i;return o||(o=a&&a.pop&&a.pop()),a},!0,!0),o},n.render=function(){var o={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},i=this.props,a=i.component,s=i.render,c=i.children,l=i.name,u=i.formik,p=Jr(u,["validate","validationSchema"]),f=et({},o,{form:p,name:l});return a?d.exports.createElement(a,f):s?s(f):c?typeof c=="function"?c(f):X1(c)?null:d.exports.Children.only(c):null},t}(d.exports.Component);Z1.defaultProps={validateOnChange:!0};var y8=m8(Z1);const Ta=d.exports.forwardRef((e,t)=>{const{checked:n=!1,disabled:r=!1,name:o="",onChange:i=()=>null,style:a={}}=e,[s,c]=d.exports.useState(n),l=d.exports.useCallback(u=>{c(!s),i(u)},[s,i]);return m("input",{ref:t,type:"checkbox",name:o,id:o,onChange:l,defaultChecked:n,disabled:r,style:a})});function vr(e){const f=e,{label:t,name:n,onChange:r=()=>null,className:o="checkbox",reverse:i=!1,style:a={label:{},checkbox:{}}}=f,s=he(f,["label","name","onChange","className","reverse","style"]),{values:c,setFieldValue:l}=xt(),u=i?!ve(c,n):ve(c,n),p=d.exports.useCallback(g=>{g.persist(),r(g),l(n,i?u:!u)},[n,r,i,l,u]);return G("div",{className:`${o} check-${u}`,children:[m("label",{htmlFor:n,className:"checkbox-label",style:a.label?a.label:{},children:t}),m(Ta,P(S({},s),{name:n,checked:u,onChange:p,style:a.checkbox?a.checkbox:{}}))]})}const bt=d.exports.forwardRef((e,t)=>{const{onSubmit:n=()=>null,initialValues:r={},validationSchema:o=null}=e;return m(l8,{innerRef:t,initialValues:r,onSubmit:n,validationSchema:o,children:m(In,{children:e.children})})});function K1(e){const t=d.exports.useRef();return d.exports.useEffect(()=>{e.forEach(n=>{!n||(typeof n=="function"?n(t.current):n.current=t.current)})},[e]),t}const Nc={label:{lineHeight:2,userSelect:"none"},inputWrapper:{height:"100%",width:"100px",borderRadius:"5px",borderWidth:"0.55px",borderColor:"#c7c7c7",borderStyle:"solid",display:"flex",flexDirection:"row",alignItems:"center",overflow:"hidden"},input:{outline:"none",flex:1,height:"100%",textAlign:"center",width:"100%"},clearButton:{height:"calc(100% - 4px)",borderRadius:"50%",backgroundColor:"gray",color:"white",aspectRatio:"1",fontSize:"60%",padding:0}},Tr=d.exports.forwardRef((k,w)=>{var _=k,{value:e="",name:t,style:n={input:{},inputWrapper:{}},onChange:r=()=>null,debounceTime:o=0,onKeyDown:i=()=>null,checkValue:a=()=>!0,type:s="text",enableAutoSelect:c=!1,className:l,format:u=()=>R=>R,onBlur:p=()=>null,onFocus:f=()=>null,renderIcon:g=null,canClear:v=!1,onClear:x}=_,y=he(_,["value","name","style","onChange","debounceTime","onKeyDown","checkValue","type","enableAutoSelect","className","format","onBlur","onFocus","renderIcon","canClear","onClear"]);const[R,M]=d.exports.useState(e),N=d.exports.useRef(),H=K1([w,N]),A=d.exports.useRef(si(ae=>{r(ae)},o)).current;d.exports.useEffect(()=>{M(e)},[e]),d.exports.useEffect(()=>{var ae;c&&((ae=H==null?void 0:H.current)==null||ae.select())},[c,H]);const D=d.exports.useCallback(ae=>u()(s==="number"?String(ae).trim()==="-"?Number(0):Number(ae):ae),[u,s]),z=d.exports.useCallback(ae=>{ae.persist(),ae.stopPropagation(),ae.preventDefault();function je(me){if(s==="number"){const $e=/^(?:-?[0-9]*|[0-9]\d*)(?:\.\d{0,20})?$/;return!!(me.trim()===""||$e.test(me))}return!0}const ue=ae.target.value;if(je(ue)&&a(ue)){const me=u();M(me(ue));const $e=P(S({},ae),{target:{name:ae.target.name,value:D(ue)}});o?A($e):r($e)}},[a,A,o,u,D,r,s]),U=d.exports.useCallback(ae=>{ae.persist(),i(P(S({},ae),{target:{name:ae.target.name,value:D(R)}}))},[D,i,R]),Y=d.exports.useCallback(ae=>{ae.stopPropagation()},[]),oe=d.exports.useCallback(()=>{M(""),x==null||x()},[x]);return G("div",{style:S(S({},Nc.inputWrapper),(n==null?void 0:n.inputWrapper)?n.inputWrapper:{}),className:`input ${l||""}`,children:[g==null?void 0:g(),m("input",P(S({},y),{ref:H,name:t,style:S(S({},Nc.input),(n==null?void 0:n.input)?n.input:{}),"data-test-id":t?`input-${t}`:"",type:"text",value:R,onChange:z,onKeyDown:U,onKeyPress:Y,onDoubleClick:ae=>ae.stopPropagation(),onFocus:f,onBlur:p})),v&&R&&m("button",{type:"button",style:Nc.clearButton,onClick:oe,children:m("span",{style:{display:"block",margin:"0 auto"},children:"\u2715"})})]})});function Le(e){const k=e,{name:t,style:n={label:{},input:{}},onChange:r=()=>null,checkValue:o=()=>!0,type:i="text",className:a="",value:s=null,format:c=()=>_=>_,checkErrorAfterInputTouched:l=!0}=k,u=he(k,["name","style","onChange","checkValue","type","className","value","format","checkErrorAfterInputTouched"]),{values:p,handleChange:f,setFieldValue:g,errors:v,touched:x}=xt(),y=d.exports.useCallback(_=>{r(_),f(_)},[f,r]);d.exports.useEffect(()=>{s&&g(t,s)},[t,g,s]);const w=d.exports.useMemo(()=>l?ve(v,t)&&ve(x,t):ve(v,t),[l,v,t,x]);return m(Tr,S({name:t,value:s||ve(p,t),onChange:y,type:i,style:P(S({},n),{inputWrapper:S(S({},n.input),w&&{borderColor:"red",outline:"none"})}),checkValue:o,className:a,format:c},u))}const $r=X`
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  .header {
    text-align: center;
    padding: 10px 0 10px 0px;
    margin: 0px;
    color: #005d9e;
    place-items: normal;
    text-transform: none;
    background-color: #fcfcfc;
  }

  .tab-content {
    width: 100%;
  }
  .row {
    display: flex;
  }

  .inner-content {
    padding: 15px 30px;
    width: 100%;
    overflow: auto;
  }

  button:focus {
    outline: none;
  }
  button:not([disabled]):hover {
    color: #007bff;
  }
  .btn:not([disabled]):hover {
    background-color: #ffffff;
  }
  .btn:disabled {
    opacity: 0.5;
  }
  .btn {
    border: none;
    padding: 0 15px;
    background-color: #ffffff5e;
    border-radius: 5px;
    height: 25px;
  }

  .primary {
    background-color: #e2e2e2;
  }

  .footer-container {
    display: flex;
    flex-direction: row-reverse;
    align-items: flex-end;
    background: rgb(242, 242, 242);
    background: -moz-linear-gradient(
      0deg,
      rgba(242, 242, 242, 1) 0%,
      rgba(245, 245, 245, 1) 37%,
      rgba(255, 255, 255, 1) 90%
    );
    background: -webkit-linear-gradient(
      0deg,
      rgba(242, 242, 242, 1) 0%,
      rgba(245, 245, 245, 1) 37%,
      rgba(255, 255, 255, 1) 90%
    );
    background: linear-gradient(
      0deg,
      rgba(242, 242, 242, 1) 0%,
      rgba(245, 245, 245, 1) 37%,
      rgba(255, 255, 255, 1) 90%
    );
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#f2f2f2",endColorstr="#ffffff",GradientType=1);
    padding: 6px 15px;
    height: 55px;
  }

  .section-header {
    font-size: 13px;
    color: #2ca8ff;
    margin-bottom: 10px;
    border-bottom: 0.55px solid #f9f9f9;
    padding: 6px 2px;
  }

  .custom-label {
    font-size: 12px;
    font-weight: bold;
    margin-right: 10px;
    width: 120px;
  }
  .margin-10 {
    margin: 10px 0;
  }
  .padding-h-10 {
    margin: 10px;
  }

  .input {
    font-size: 14px;
    border-radius: 5px;
    border: 1px solid #cccccc;
    padding: 5px;
    width: 100px;
    margin-right: 10px;
    height: initial !important;
  }

  .close-bt {
    border: none;
    color: red;
    background-color: transparent;
    outline: none;
    position: absolute;
    right: 10px;
    top: 2px;
    width: 30px;
    height: 30px;
  }
`,w8=X`
  .row {
    align-items: center;
  }

  .inner-content {
    flex: 1;
  }

  .custom-label {
    width: 80px;
  }

  .name {
    width: 100% !important;
    text-align: left !important;
  }

  .data-export-group {
    label:first-child {
      margin-right: 10px;
    }
    label {
      display: inline-block;
    }
    input[type='radio'] {
      margin-right: 5px;
    }
  }
`,S8={name:"",compressed:!1,pretty:!1,dataExportOption:Cr.ROW_DATA};function C8({onClose:e,onSave:t,name:n}){const r=d.exports.useRef(),o=d.exports.useCallback(()=>{r.current.submitForm()},[]),i=d.exports.useCallback(a=>{t(a),e==null||e()},[e,t]);return $("div",{css:[$r,w8],children:[$("div",{className:"header handle",children:[h("span",{children:"Save as ... "}),h(At,{onClick:e,className:"close-bt"})]}),h("div",{className:"inner-content",children:$(bt,{ref:r,initialValues:P(S({},S8),{name:n}),onSubmit:i,children:[$("div",{className:"row margin-10",children:[h("span",{className:"custom-label",children:"Name"}),h(Le,{name:"name",className:"name",style:{inputWrapper:{width:"100%"}}})]}),$("div",{className:"row margin-10",children:[h("span",{className:"custom-label",children:"Compressed"}),h(vr,{name:"compressed"})]}),$("div",{className:"row margin-10",children:[h("span",{className:"custom-label",children:"Pretty Format"}),h(vr,{name:"pretty"})]}),$("div",{className:"row margin-10",children:[h("span",{className:"custom-label",children:" Include "}),$("div",{className:"data-export-group",children:[$("label",{children:[h(sg,{type:"radio",name:"dataExportOption",value:Cr.ROW_DATA}),"Raw Data"]}),$("label",{children:[h(sg,{type:"radio",name:"dataExportOption",value:Cr.DATA_SOURCE}),"Data Source"]})]})]})]})}),$("div",{className:"footer-container",children:[h("button",{type:"button",onClick:o,className:"btn primary",children:"Save"}),h("button",{type:"button",onClick:e,className:"btn",children:"Close"})]})]})}var lo={exports:{}};(function(e,t){(function(n,r){r()})(rd,function(){function n(l,u){return typeof u=="undefined"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function r(l,u,p){var f=new XMLHttpRequest;f.open("GET",l),f.responseType="blob",f.onload=function(){c(f.response,u,p)},f.onerror=function(){console.error("could not download file")},f.send()}function o(l){var u=new XMLHttpRequest;u.open("HEAD",l,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function i(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof globalThis=="object"&&globalThis.global===globalThis?globalThis:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(l,u,p){var f=a.URL||a.webkitURL,g=document.createElement("a");u=u||l.name||"download",g.download=u,g.rel="noopener",typeof l=="string"?(g.href=l,g.origin===location.origin?i(g):o(g.href)?r(l,u,p):i(g,g.target="_blank")):(g.href=f.createObjectURL(l),setTimeout(function(){f.revokeObjectURL(g.href)},4e4),setTimeout(function(){i(g)},0))}:"msSaveOrOpenBlob"in navigator?function(l,u,p){if(u=u||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(n(l,p),u);else if(o(l))r(l,u,p);else{var f=document.createElement("a");f.href=l,f.target="_blank",setTimeout(function(){i(f)})}}:function(l,u,p,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof l=="string")return r(l,u,p);var g=l.type==="application/octet-stream",v=/constructor/i.test(a.HTMLElement)||a.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||g&&v||s)&&typeof FileReader!="undefined"){var y=new FileReader;y.onloadend=function(){var _=y.result;_=x?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=_:location=_,f=null},y.readAsDataURL(l)}else{var w=a.URL||a.webkitURL,k=w.createObjectURL(l);f?f.location=k:location.href=k,f=null,setTimeout(function(){w.revokeObjectURL(k)},4e4)}});a.saveAs=c.saveAs=c,e.exports=c})})(lo);function k8(e){var o,i;let t=document.createElement("div");t.innerHTML=e,t.style.position="fixed",t.style.pointerEvents="none",t.style.opacity="0";let n=Array.prototype.slice.call(document.styleSheets).filter(a=>!a.disabled);document.body.appendChild(t),(o=window.getSelection())==null||o.removeAllRanges();let r=document.createRange();r.selectNode(t),(i=window.getSelection())==null||i.addRange(r),document.execCommand("copy");for(const a of n)a.disabled=!0;document.execCommand("copy");for(const a of n)a.disabled=!1;document.body.removeChild(t)}async function E8(e){try{return k8(e),!0}catch{return!1}}async function ec(e){try{return await navigator.clipboard.writeText(e),!0}catch{return!1}}async function lg(e,t="experiment",n=0,r=!1){const o=JSON.stringify(e,(i,a)=>ArrayBuffer.isView(a)?Array.from(a):a,n);if(r)try{const i=new Ko;i.file(`${t}.nmrium`,o);const a=await i.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}});lo.exports.saveAs(a,`${t}.nmrium`)}catch(i){console.log(i)}else{const i=new Blob([o],{type:"text/plain"});lo.exports.saveAs(i,`${t}.nmrium`)}}function _8(e,t,n="experiment"){const r=["name","experiment"];for(const a of e[0].data.x)r.push(a);let o=`${r.join("	")}
`;for(const a of e){const{data:{re:s},info:{experiment:c},display:{name:l}}=a,u=[l,c];for(const p of s)u.push(p);o+=`${u.join("	")}
`}const i=new Blob([o],{type:"text/tab-separated-values"});lo.exports.saveAs(i,`${n}.tsv`)}function T8(e,t="experiment"){e.generateAsync({type:"blob"}).then(n=>{lo.exports.saveAs(n,`${t}.nmredata`)})}function q1(e,t="experiment"){const{blob:n}=lp(e);lo.exports.saveAs(n,`${t}.svg`)}function R8(e,t="experiment"){const{blob:n,width:r,height:o}=lp(e);try{let i=document.createElement("canvas");i.width=r,i.height=o;let a=i.getContext("2d");a&&(a.fillStyle="white",a.fillRect(0,0,i.width,i.height));let s=new Image,c=URL.createObjectURL(n);s.onload=async()=>{a==null||a.drawImage(s,0,0);let l=i.toDataURL("image/png",1);lo.exports.saveAs(l,`${t}.png`),URL.revokeObjectURL(l)},s.src=c}catch(i){console.log(i)}}function A8(e){var r;const t=document.createElement("img");t.src=e,t.style.position="fixed",t.style.pointerEvents="none",t.style.opacity="0",document.body.appendChild(t);const n=document.createRange();n.selectNode(t),(r=window.getSelection())==null||r.addRange(n),document.execCommand("Copy"),document.body.removeChild(t)}function P8(e){e.toBlob(t=>{const n=new ClipboardItem({[t.type]:t});navigator.clipboard.write([n]).then(()=>{console.log("experiment copied.")},r=>{console.log(r)})})}function J1(e){const{blob:t,width:n,height:r}=lp(e);try{let o=document.createElement("canvas");o.width=n,o.height=r;let i=o.getContext("2d");i&&(i.fillStyle="white",i.fillRect(0,0,o.width,o.height));let a=new Image;const s=URL.createObjectURL(t);a.onload=async()=>{i==null||i.drawImage(a,0,0);const c=o.toDataURL("image/png",1);navigator.clipboard.write?P8(o):A8(c),URL.revokeObjectURL(c)},a.src=s}catch(o){o instanceof ReferenceError&&alert("Your browser does not support this feature, please use Google Chrome"),console.log(o)}}function lp(e){var c;let t=(c=document.getElementById(e))==null?void 0:c.cloneNode(!0);const n=t==null?void 0:t.getAttribute("width").replace("px",""),r=t==null?void 0:t.getAttribute("height").replace("px","");t.querySelectorAll('[data-no-export="true"]').forEach(l=>l.remove());const a=`${`<svg class="nmr-svg"  viewBox='0 0 ${n} ${r}' width="${n}"  height="${r}"  version="1.1" xmlns="http://www.w3.org/2000/svg">`+`<style>.grid line,.grid path{stroke:none;} .peaks-text{fill:#730000} .x path{stroke-width:1px} .x text{
    font-size: 12px;
    font-weight: bold;
  } 
 
  .nmr-svg,.contours{
    background-color:white;
    fill:white;
  }
  

  
  </style>`+t.innerHTML}</svg>`;return{blob:new Blob([a],{type:"image/svg+xml"}),width:n,height:r}}const M8=new Ko;async function Q1(e,t={}){const{spectrum:n,source:r}=t,{file:o={},jcampURL:i}=r;let a="";const s=`${n.info.dimension}d`;switch(o.extension){case"jdx":case"dx":a+=`
Jcamp_Location=file:jcamp/${s}/${n.display.name}\\`,e.file(`jcamp/${s}/${n.display.name}`,o.binary);break;case"zip":if(!o.binary)return;M8.loadAsync(o.binary).then(async c=>{var l;for(const u in c.files)u.endsWith("/")||e.file(`Bruker/${u}`,await((l=c.file(u))==null?void 0:l.async("arraybuffer")));a+=`
Spectrum_Location=file:Bruker/${F8(c)}\\`});break;default:if(!i)break;await fetch(i).then(async c=>{if(!c)return;let l=i.split("/").slice(-1);const u=`jcamp/${s}/${l}`;a+=`
Jcamp_Location=file:${u}\\`,e.file(u,await c.arrayBuffer())})}return a}function F8(e){let t=e.filter(r=>r.match("__MACOSX")?!1:!!(r.endsWith("fid")||r.endsWith("1r")||r.endsWith("ser")||r.endsWith("2rr")));const n=t.findIndex(r=>r.name.endsWith("1r")||r.name.endsWith("2rr"));return n>-1?t[n].name:t[0].name}function cp(e){Array.isArray(e)||(e=[e]);let t=[];for(let n of e)t.push(O8(n));return t}function O8(e){switch(e.toUpperCase()){case"1H":return 2;case"13C":return 1;default:return 1}}async function $8(e,t,n={labels:{byDiaID:[]}}){let{prefix:r="",labels:o}=n,i="",a=[];for(let s of e){const{info:c}=s;if(c.isFid||c.dimension>1)continue;let l="",u=s.ranges.values||[],p=s.info.nucleus,f=1,g="";a.forEach(y=>{y===p&&f++}),a.push(p),f>1&&(g=`#${f}`),l+=`${r}1D_${p.toUpperCase()}${g}>`,s.info.baseFrequency&&(l+=`
Larmor=${Number(s.info.baseFrequency).toFixed(2)}\\`);const{source:v={}}=s;l+=await Q1(t,{spectrum:s,source:v});let x=cp(p)[0];for(let y of u){let w=y.signals;for(let k of w){let{multiplicity:_}=k;if((!_||_==="m")&&p==="1H")l+=`
${Number(y.from).toFixed(x)}-${Number(y.to).toFixed(x)}`;else if(k.delta)l+=`
${Number(k.delta).toFixed(x)}`;else continue;let R="";if(k.diaIDs&&k.diaIDs.length>0&&(k.diaIDs.forEach((M,N,H)=>{let A=", ";N===H.length-1&&(A=""),R+=`${o.byDiaID[M].label||M}${A}`}),l+=`, L=${R}`),p==="1H"){k.multiplicity&&(l+=`, S=${k.multiplicity}`);let M=k.js;if(Array.isArray(M)&&M.length){let N=", J=";for(const H of M){if(l+=`${N}${Number(H.coupling).toFixed(3)}`,H.diaIDs){let{diaIDs:A}=H;if(Array.isArray(A)||(A=[A]),!A.length)continue;l+=`(${o.byDiaID[A[0]].label||String(A[0])})`}N=", "}}y.integration?l+=`, E=${Number(y.integration).toFixed(x)}`:y.nbAtoms?l+=`, E=${y.nbAtoms.toFixed(x)}`:y.signals[0].nbAtoms!==void 0&&(l+=`, E=${y.signals[0].nbAtoms}`)}}w.length&&(l+="\\")}l+=`
`,/\n/.exec(l)&&(i+=l)}return i}function D8(e){switch(e.toLowerCase()){case"hsqc":case"cosy":return"1J";case"hmbc":return"NJ";default:return"NJ"}}const I8=Array.isArray;async function N8(e,t,n={labels:{}}){const{byDiaID:r}=n.labels;let o="";const i=`
> <NMREDATA_2D_`;for(let a of e){if(a.info.dimension<2)continue;let s="";const{info:c,source:l}=a;let{nucleus:u,experiment:p,pulseSequence:f}=c,g=D8(p);u&&(s+=`${i}${u[1]}_${g}_${u[0]}>`);let v=cp(u);s+=await Q1(t,{spectrum:a,source:l}),p&&(s+=`
CorType=${p} \\`),f&&(s+=`
PulseProgram=${f} \\`),a.info.baseFrequency&&(s+=`
Larmor=${Number(a.info.baseFrequency[0]).toFixed(2)}\\`);let x=a.zones.values||[];for(let y of x){let w=y.signals;for(let k of w){let{x:_,y:R,peaks:M}=k,N=cg(_,r,v[0]),H=cg(R,r,v[1]),A=Math.max(...M.map(D=>D.z));s+=`
${N}/${H}, I=${A.toFixed(2)}\\`}}o+=s}return o.length>0?`${o}
`:""}function cg(e,t,n){let{diaIDs:r,delta:o}=e;if(r){if(I8(r)||(r=[r]),r.length<1)return Number(o).toFixed(n);let i=r.map(a=>t[a].label).join(",");return r.length>1?`(${i})`:i}return Number(o).toFixed(n)}function L8(e){let t=[];for(const{x:n,y:r}of e)t.push(n,r);return t}function H8(e,t={groupedDiaIDs:[]}){const{groupedDiaIDs:n,molecule:r}=t;let o=hS(r,{toLabel:"H",maxLength:1}),i={},a={};for(let s of e){let{dimension:c,nucleus:l}=s.info,u=cp(l),[p,f]=c>1?["zones",L8]:["ranges",v=>v||[]],g=s[p].values||[];for(let v of g){let x=f(v.signals);for(let y=0;y<x.length;y++){let w=x[y].diaIDs||[];for(let k of w){let _=Number(x[y].delta).toFixed(u[y%c]),R=n.find(N=>N.oclID===k),M={atom:R.atoms[0],molecule:r,connections:o,atomLabel:R.atomLabel};i[k]={atoms:R.atoms.map(N=>N+1),shift:_,label:ug(M)};for(let N of R.atoms)M.atom=N,a[N]={shift:_,diaID:k,label:ug(M)}}}}}return{byAssignNumber:a,byDiaID:i}}function ug(e){const{atom:t,molecule:n,atomLabel:r,connections:o}=e;let i="";if(r!=="C"){let s=o[t].find(u=>u&&u.length>1),c=`${r}${s[0]+1}`,l=`${n.getAtomLabel(s[1])}${s[1]+1}`;i=`${c}${l}`}else i=`${r}${t+1}`;return i}const up={solvent:"SOLVENT",temperature:"TEMPERATURE",assignment:"ASSIGNMENT",j:"J",signals:"SIGNALS",id:"ID"};async function z8(e,t={}){const{data:n,molecules:r}=e||{data:[],molecules:[]};let o=new Ko;for(const i of r)await dg(n,o,P(S({},t),{molecule:i}));return r.length||await dg(n,o,t),o}async function dg(e,t,n={}){let{id:r,prefix:o=`
> <NMREDATA_`,filename:i="nmredata",molecule:a}=n,s="",c;a&&(a=Un.Molecule.fromMolfile(a.molfile),s+=a.toMolfile(),a.addImplicitHydrogens(),c=gS(a));let l=a?H8(e,{groupedDiaIDs:c,molecule:a}):{byDiaID:void 0,byAssignNumber:void 0};s+=`${o}VERSION>
1.1\\
`,s+=pg(e,"temperature",{prefix:o}),s+=pg(e,"solvent",{prefix:o}),r&&(s+=`${o+up.id}>
id\\
`),s+=B8(l.byDiaID,{prefix:o}),s+=await $8(e,t,{prefix:o,labels:l}),s+=await N8(e,t,{prefix:o,labels:l}),s+=`
$$$$
`,t.file(`${i}.sdf`,s)}function B8(e,t){if(!e)return"";const{prefix:n}=t;let r=`${n+up.assignment}>
`;for(let o in e){let i=e[o].atoms;r+=`${e[o].label}, ${e[o].shift}`;for(let a of i)r+=`, ${a}`;r+=`\\
`}return r}function pg(e,t,n={prefix:""}){const{prefix:r}=n;let o="";for(let i of e)if(i.info[t]){o+=`${r+up[t]}>
${String(i.info[t])}\\
`;break}return o}function ex(){const e=Tt(),t=mt(),n=ce(),r=d.exports.useCallback(async()=>{if(n.data.length>0){const u=await t.showLoading("Exporting as NMRium process in progress");setTimeout(()=>{J1("nmrSVG"),u(),t.success("Image copied to clipboard")},0)}},[t,n]),o=d.exports.useCallback(async(u=0,p=!0)=>{if(n.data.length>0){const f=await t.showLoading("Exporting as NMRium process in progress");setTimeout(()=>{async function g(){var y,w;const v=(w=(y=n.data[0])==null?void 0:y.display)==null?void 0:w.name,x=ah(n);await lg(x,v,u,p),f()}g()},0)}},[t,n]),i=d.exports.useCallback(async()=>{if(n.data.length>0){const u=await t.showLoading("Exporting as NMRE process in progress");setTimeout(()=>{async function p(){var v,x;const f=(x=(v=n.data[0])==null?void 0:v.display)==null?void 0:x.name,g=await z8(n);T8(g,f),u()}p()},0)}},[t,n]),a=d.exports.useCallback(async()=>{if(n.data.length>0){const u=await t.showLoading("Exporting as SVG process in progress");setTimeout(()=>{var f,g;const p=(g=(f=n.data[0])==null?void 0:f.display)==null?void 0:g.name;q1("nmrSVG",p),u()},0)}},[t,n.data]),s=d.exports.useCallback(async()=>{if(n.data.length>0){const u=await t.showLoading("Exporting as PNG process in progress");setTimeout(()=>{var f,g;const p=(g=(f=n.data[0])==null?void 0:f.display)==null?void 0:g.name;R8("nmrSVG",p),u()},0)}},[t,n.data]),c=d.exports.useCallback(async u=>{const{name:p,pretty:f,compressed:g,dataExportOption:v}=u,x=await t.showLoading(`Exporting as ${p}.nmrium process in progress`);setTimeout(()=>{async function y(){const w=ah(n,v);await lg(w,p,f?2:0,g),x()}y()},0)},[t,n]),l=d.exports.useCallback(async()=>{var u,p;if(n.data.length>0){const f=(p=(u=n.data[0])==null?void 0:u.display)==null?void 0:p.name;e.show(m(C8,{name:f,onSave:c}),{isBackgroundBlur:!1,position:tt.TOP_CENTER,width:400})}},[e,c,n.data]);return{saveToClipboardHandler:r,saveAsJSONHandler:o,saveAsNMREHandler:i,saveAsSVGHandler:a,saveAsPNGHandler:s,saveAsHandler:l}}function tx(){const e=dt();return d.exports.useMemo(()=>!ve(e,"display.general.hideExperimentalFeatures",!1),[e])}function j8(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 120 120",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{d:"M24.1 10.06v68.17A13.36 13.36 0 0028 87.7a13.39 13.39 0 0022.85-9.47V55.42h-.06A31.61 31.61 0 0160.1 33a31.64 31.64 0 0144.79 0 31.61 31.61 0 019.31 22.4v18.7H95.9V55.42A13.36 13.36 0 0092 46a13.44 13.44 0 00-18.93 0 13.26 13.26 0 00-3.82 8.19v24.04a31.7 31.7 0 01-54.12 22.42 31.61 31.61 0 01-9.31-22.4V10.06z",fill:"#ea580c",fillRule:"evenodd"},void 0)]}),void 0)}function V8(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{d:"M290.592 768.97c33.109 0 60.112-27.008 60.112-60.127 0-33.114-27.003-60.12-60.112-60.12-33.12 0-60.125 27.006-60.125 60.12-.001 33.119 27.005 60.127 60.125 60.127z"},void 0),m("path",{strokeMiterlimit:22.926,fill:"none",strokeWidth:31.354,strokeLinecap:"round",strokeLinejoin:"round",d:"M109.491 73.172l55.516 73.307M53.968 146.479l55.523-73.307"},void 0),m("path",{strokeMiterlimit:22.926,fill:"none",strokeWidth:48.573,strokeLinecap:"round",strokeLinejoin:"round",d:"M115.061 891.109h754.456"},void 0),m("path",{strokeMiterlimit:22.926,fill:"none",strokeWidth:49.065,strokeLinecap:"round",strokeLinejoin:"round",d:"M109.491 884.987V115.169"},void 0),m("path",{strokeMiterlimit:22.926,fill:"none",strokeWidth:31.354,strokeLinecap:"round",strokeLinejoin:"round",d:"M912.458 891.109l-73.316 55.518M839.142 835.59l73.316 55.519"},void 0),m("path",{d:"M510.655 527.34c33.108 0 60.111-27.005 60.111-60.117 0-33.121-27.003-60.126-60.111-60.126-33.121 0-60.127 27.007-60.127 60.126 0 33.112 27.006 60.117 60.127 60.117zM793.139 527.34c33.111 0 60.116-27.005 60.116-60.117 0-33.121-27.005-60.126-60.116-60.126-33.121 0-60.126 27.007-60.126 60.126 0 33.112 27.005 60.117 60.126 60.117zM510.655 260.415c33.108 0 60.111-27.007 60.111-60.118 0-33.121-27.003-60.126-60.111-60.126-33.121 0-60.127 27.005-60.127 60.126 0 33.111 27.006 60.118 60.127 60.118zM793.139 260.415c33.111 0 60.116-27.007 60.116-60.118 0-33.121-27.005-60.126-60.116-60.126-33.121 0-60.126 27.005-60.126 60.126 0 33.111 27.005 60.118 60.126 60.118z"},void 0)]}),void 0)}function G8(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{d:"M38.416 887.681c558.451 0 148.174-1.283 633.454-1.283 10.578 0 47.87-38 57.844-55l44.9-345.78 44.857 347.78 26.927 54 113.692.283",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,strokeWidth:50.126},void 0),m("path",{"data-name":"Path 9",d:"M687.492 282.78l-51.858 100.095 24.17 110.116c-42.727-48.433-115.375-98.433-175.081-129.992"},void 0),m("path",{"data-name":"Path 11",d:"M624.301 376.896c68.882 3.825 102.461 21.904 132.651 76.103",fill:"none",strokeLinejoin:"round",strokeMiterlimit:22.926,strokeWidth:48.987},void 0),m("path",{d:"M629.812 76.248c18.317 5.053 34.108 20.212 40.424 38.4 2.021 5.937 2.4 10.738 2.4 33.6 0 28.8-1.011 35.876-6.822 47.246a72.107 72.107 0 01-7.706 11.369c-4.169 4.8-75.8 61.521-79.585 62.91-1.642.632-20.844-23.876-20.844-26.528 0-.884 17.054-14.906 37.9-31.076 26.655-20.717 38.4-30.571 39.793-33.476 1.516-3.285 1.895-9.222 1.895-29.56 0-28.676-.884-32.592-7.832-36.382-4.042-2.148-14.654-2.274-244.819-2.274s-240.777.126-244.819 2.274c-6.948 3.79-7.832 7.706-7.832 36.255 0 18.7.505 26.4 1.769 29.56 1.39 3.411 19.581 17.054 101.313 75.922 54.825 39.414 100.934 72.89 102.324 74.406 2.653 2.527 3.032 7.706 11.117 120.767 4.674 64.931 8.716 119.63 9.1 121.4a13.9 13.9 0 003.79 6.316c3.158 2.905 3.916 3.032 23.244 3.032 19.454 0 20.086-.126 23.244-3.032a14.8 14.8 0 003.916-6.948c.253-2.148 2.021-24.886 3.916-50.657 1.769-25.644 3.411-46.867 3.663-47.246.758-.632 33.6 2.148 34.361 2.905 1.011 1.011-5.937 95.5-7.453 101.187-3.79 14.654-14.148 26.655-29.687 34.361l-9.727 4.8h-22.112c-21.6 0-22.486-.126-29.687-3.411-10.738-5.053-19.075-11.622-24.633-19.454-4.927-6.948-5.306-8.337-8.969-31.076-.632-4.421-4.421-52.93-8.211-107.756-3.916-54.952-7.327-100.934-7.58-102.45-.379-1.895-29.813-23.749-93.1-69.353-50.909-36.634-95.25-69.227-98.534-72.385-6.948-6.7-12.759-17.054-15.538-27.413-2.906-11.5-2.653-57.226.379-67.205 4.8-15.159 15.917-27.665 31.455-35.371l9.727-4.8 241.914-.253c193.021-.124 243.177.128 247.846 1.396z"},void 0),m("path",{d:"M.5.5h997.512l2.488 1000H.5z",fill:"none"},void 0)]}),void 0)}function W8(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,G("g",Object.assign({clipPath:"url(#clip-align-bottom)"},{children:[m("path",{d:"M74.308 889.139c44.876-.388 119.418-1.382 207.014-.9 81.54-1.168 55.647-252.189 61.657-307.029l.006-.055c9.134 83.481-10.239 291.374 86.758 307.083 22.56 3.653 107.859 5.114 132.337 0 96.267-19.911 67.725-129.929 76.859-213.41 6.028 53.888-9.874 194.965 79.957 214.313 60.223.9 136.628.994 206.9 0",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:39.653},void 0),G("g",Object.assign({fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},{children:[m("path",{"data-name":"Path 6",d:"M640.001 338.057L499.86 478.198 359.719 338.057",strokeWidth:35},void 0),m("path",{"data-name":"Path 7",d:"M612.142 295.383L499.76 407.765l3.764-338.977-3.764 338.977-112.382-112.382",strokeWidth:20},void 0),m("path",{"data-name":"Path 8",d:"M640.001 338.057L499.86 478.198 359.719 338.057",strokeWidth:35},void 0)]}),void 0)]}),void 0)]}),void 0)}function U8(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,G("g",Object.assign({clipPath:"url(#clip-align-center)"},{children:[m("path",{d:"M74.308 610.139c44.876-.388 119.418-1.382 207.014-.9 81.7-1.17 55.543-253.2 61.663-307.085 9.134 83.481-10.239 291.374 86.758 307.083 22.56 3.653 107.859 5.114 132.337 0 96.267-19.911 67.725-129.929 76.859-213.41 6.028 53.888-9.874 194.965 79.957 214.313 60.223.9 136.628.994 206.9 0",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:39.653},void 0),G("g",Object.assign({fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},{children:[m("path",{"data-name":"Path 6",d:"M640.002 862.524L499.861 722.383 359.72 862.524",strokeWidth:35},void 0),m("path",{"data-name":"Path 7",d:"M612.142 905.199L499.76 792.817 387.378 905.199",strokeWidth:20},void 0)]}),void 0),G("g",Object.assign({fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},{children:[m("path",{"data-name":"Path 6",d:"M640.001 145.057L499.86 285.198 359.719 145.057",strokeWidth:35},void 0),m("path",{"data-name":"Path 7",d:"M612.142 102.383L499.76 214.765 387.378 102.383",strokeWidth:20},void 0)]}),void 0)]}),void 0)]}),void 0)}function X8(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{d:"M821.53 292.639l-83.455 53.397-29.992 94.432c-11.238-55.639-44.56-125.618-76.135-175.875"},void 0),m("g",Object.assign({fill:"none",strokeWidth:50.126,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926},{children:m("path",{d:"M45.332 934.783c559.962 0 148.575-1.283 635.168-1.283 10.607 0 48-38 58-55l50-379 40 381 27 54 114 .283M58.363 250.85L328.835 94.691 599.306 250.85v312.307L328.835 719.311 58.363 563.157z"},void 0)}),void 0),m("path",{fill:"none",strokeWidth:48.987,strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M709.996 313.94C770.5 353.5 791.5 387.5 790.5 452.5"},void 0)]}),void 0)}function Y8(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,G("g",Object.assign({"data-name":"baseline correction",clipPath:"url(#clip-baseline_correction)",fill:"none",strokeWidth:45},{children:[m("path",{d:"M27.265 648.5h961.746",strokeLinecap:"square",strokeLinejoin:"bevel",strokeDasharray:"5 100"},void 0),m("path",{d:"M33.737 698.735c14.928 4.584 51.09 39.489 112.8 39.489s76.691-53.427 127.581-62.8 98.841-30.237 108.461-30.181c76.9-1.17 58.063-490.423 63.823-544.308 8.6 83.481-21.07 528.6 70.224 544.306 21.234 3.653-15.192 5.114 7.847 0 90.607-19.911 79.3-392.121 79.3-392.121s-6.906 293.146 51.71 355.345 84.549-41.324 148.667-31.625 107.807 70.415 107.807 70.415 40.428 51.7 55.4 51.478",strokeLinecap:"round",strokeLinejoin:"round"},void 0)]}),void 0)]}),void 0)}function Z8(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,G("g",Object.assign({"data-name":"matrix-group"},{children:[G("g",Object.assign({"data-name":"Group 1"},{children:[m("path",{"data-name":"Path 9",d:"M726.324 382.369l42.232 129.055-65.809 111.873c73.311-37.31 188.443-65.248 280.26-77.75",strokeWidth:1.0001},void 0),m("path",{"data-name":"Path 11",d:"M788.538 516.872c-18.263-6.046-202.212-27.71-214.417-25.723-67.023 10.912-119.093 136.624-136.565 160.707-3.238 4.463-10.934-45.332-10.934-45.332L342.05 75.93l-82.685 558.027-134.978-.023",fill:"rgba(0,0,0,0)",strokeLinejoin:"round",strokeMiterlimit:22.926,strokeWidth:60.006},void 0)]}),void 0),m("path",{"data-name":"Path 17",d:"M623.293 640.639v296.849H505",fill:"none",strokeLinecap:"round",strokeWidth:60},void 0),m("path",{"data-name":"Path 18",d:"M623.293 361.415V73.494H505",fill:"none",strokeLinecap:"round",strokeWidth:60},void 0),m("path",{"data-name":"Path 19",d:"M179.092 73.494H60.319v863.994h118.773",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:60},void 0)]}),void 0)]}),void 0)}function K8(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{strokeMiterlimit:22.926,strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:48.987,fill:"none",d:"M149.053 29.608L178.84 963.65l65.958-774.467 40.425 600 65.957-396.809 51.064 286.17 67.022-175.532 70.213 115.958 61.701-73.405 72.767 34.893h176.596"},void 0)]}),void 0)}function q8(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{fill:"none",strokeWidth:49.312,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M444.092 954.83l260.101.898s18.906-3.57 32.399-15.299c11.067-9.619 16.2-13.5 22.5-26.1.244-.832 16.859-45.973 17.101-46.801 9-37.801 6.299-23.4 16.199-90.9 15.443-190.23 18.9-309.6 18.9-309.6M812.192 467.029c0-137.7 3.456 119.369 18.899 309.6 9.899 67.5 7.2 53.1 16.2 90.9.24.828 16.854 45.969 17.1 46.801 6.301 12.6 11.434 16.48 22.5 26.1 13.494 11.729 32.4 15.299 32.4 15.299l50.4-.898"},void 0),m("path",{d:"M494.573 832.361l84.332-51.996 31.562-93.917c10.312 55.815 42.461 126.343 73.191 177.118-56.408-18.446-132.387-33.795-189.085-31.205z"},void 0),m("path",{fill:"none",strokeWidth:48.987,strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M462.253 673.862l118.259 106.22"},void 0),m("path",{fill:"none",strokeWidth:80,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M536.969 53.506c51.065-19.271 334.979 22.168 390.4 0M637.369 86.706c-8.012 84.916 1.6 315.199-71.2 404M637.563 273.225c.967-.04 86.205 16.681 149.405 10.281"},void 0),m("path",{fill:"none",strokeWidth:48.987,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M29.053 29.608L58.84 963.65l65.958-774.467 40.425 600 65.957-396.809 51.064 286.17 67.022-175.532 70.213 115.958 61.701-73.405 72.767 34.893h176.596"},void 0)]}),void 0)}function nx(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{d:"M444.092 954.83l260.101.898s18.906-3.57 32.399-15.299c11.067-9.619 16.2-13.5 22.5-26.1.244-.832 16.859-45.973 17.101-46.801 9-37.801 6.299-23.4 16.199-90.9 15.443-190.23 18.9-309.6 18.9-309.6M812.192 467.029c0-137.7 3.456 119.369 18.899 309.6 9.899 67.5 7.2 53.1 16.2 90.9.24.828 16.854 45.969 17.1 46.801 6.301 12.6 11.434 16.48 22.5 26.1 13.494 11.729 32.4 15.299 32.4 15.299l50.4-.898",strokeMiterlimit:22.926,strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:49.312,fill:"none",transform:"matrix(1.5417 0 0 1.40189 -584.35 -473.718)"},void 0)]}),void 0)}function rx(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{fill:"none",strokeWidth:49.312,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M40.677 920.5H142.5l36-5 25-28 14-59 15-87 19-284s3.841 52.633 21 264c11 75 8 59 18 101 .268.921 18.728 51.077 19 52 7 14 12.703 18.312 25 29 14.993 13.033 36 17 36 17l590-1"},void 0),m("path",{fill:"none",strokeWidth:49.312,strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M64.5 419.5c197 5 187-13.598 186-190.397-1-176.8-15-207.205 156-202.603"},void 0),m("ellipse",{strokeWidth:60,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,cx:811.5,cy:117,rx:35,ry:28.5},void 0),m("path",{fill:"none",strokeWidth:60,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M807.5 87.5c-110-2-156 237-164 349M810.5 90.5c-110-2-105 234-113 346"},void 0),m("ellipse",{strokeWidth:60,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,cx:529.5,cy:747.98,rx:35,ry:28.5},void 0),m("path",{fill:"none",strokeWidth:60,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M533.5 777.48c110 2 156-227 164-339M530.5 774.48c110 2 105-224 113-336"},void 0)]}),void 0)}function fg(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 991.323 980.387",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{d:"M24.612 594.712h305.673l61.025-399.9 61.127 399.9h338.338",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,strokeWidth:49.224,strokeDasharray:"1, 70"},void 0),m("path",{d:"M199.548 953.651h371.673l61.024-399.9 63.127 399.9h271.339",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,strokeWidth:49.224},void 0),m("path",{d:"M116.665 775.367c60.181 0 342.086.408 342.086.408l61.025-399.9 62.127 399.9h330.782",fill:"none",strokeLinejoin:"round",strokeMiterlimit:22.926,strokeWidth:49.224,strokeDasharray:"50, 30"},void 0),m("path",{"data-name":"Path 5",d:"M213.446 229.43v-152h527v151",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:39.653},void 0)]}),void 0)}function J8(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{fill:"none",strokeWidth:60.777,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M53.64 725.878h866.719"},void 0),m("g",Object.assign({fill:"none",strokeWidth:60.777,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926},{children:m("path",{d:"M947.136 725.868l-97.782 74.059M849.354 651.824l97.782 74.044"},void 0)}),void 0),m("path",{d:"M69.844 454.67c13.192 0 23.943-10.758 23.943-23.942 0-13.198-10.753-23.947-23.943-23.947-13.186 0-23.945 10.749-23.945 23.947 0 13.182 10.76 23.942 23.945 23.942zM286.296 454.67c13.193 0 23.945-10.758 23.945-23.942 0-13.198-10.751-23.947-23.945-23.947s-23.944 10.749-23.944 23.947c.001 13.182 10.751 23.942 23.944 23.942zM214.149 454.67c13.184 0 23.945-10.758 23.945-23.942 0-13.198-10.761-23.947-23.945-23.947-13.193 0-23.953 10.749-23.953 23.947 0 13.182 10.758 23.942 23.953 23.942zM141.999 454.67c13.187 0 23.945-10.758 23.945-23.942 0-13.198-10.758-23.947-23.945-23.947-13.193 0-23.943 10.749-23.943 23.947 0 13.182 10.75 23.942 23.943 23.942zM410.217 454.67c13.188 0 23.947-10.758 23.947-23.942 0-13.198-10.759-23.947-23.947-23.947-13.185 0-23.943 10.749-23.943 23.947 0 13.182 10.758 23.942 23.943 23.942zM626.66 454.67c13.193 0 23.943-10.758 23.943-23.942 0-13.198-10.75-23.947-23.943-23.947-13.186 0-23.945 10.749-23.945 23.947 0 13.182 10.761 23.942 23.945 23.942zM554.521 454.67c13.185 0 23.944-10.758 23.944-23.942 0-13.198-10.76-23.947-23.944-23.947-13.193 0-23.945 10.749-23.945 23.947-.001 13.182 10.751 23.942 23.945 23.942zM482.369 454.67c13.189 0 23.939-10.758 23.939-23.942 0-13.198-10.75-23.947-23.939-23.947-13.193 0-23.946 10.749-23.946 23.947-.002 13.182 10.752 23.942 23.946 23.942zM843.115 454.67c13.193 0 23.941-10.758 23.941-23.942 0-13.198-10.748-23.947-23.941-23.947-13.195 0-23.948 10.749-23.948 23.947 0 13.182 10.753 23.942 23.948 23.942zM770.964 454.67c13.189 0 23.944-10.758 23.944-23.942 0-13.198-10.757-23.947-23.944-23.947-13.185 0-23.944 10.749-23.944 23.947 0 13.182 10.76 23.942 23.944 23.942zM698.817 454.67c13.185 0 23.942-10.758 23.942-23.942 0-13.198-10.76-23.947-23.942-23.947-13.193 0-23.943 10.749-23.943 23.947 0 13.182 10.75 23.942 23.943 23.942zM347.174 99.073c13.195 0 23.945-10.751 23.945-23.945 0-13.183-10.75-23.945-23.945-23.945-13.182 0-23.942 10.762-23.942 23.945 0 13.193 10.76 23.945 23.942 23.945zM287.042 284.445c2.238-13.034 14.616-21.793 27.643-19.561 13.041 2.229 21.798 14.609 19.569 27.642-2.239 13.032-14.609 21.79-27.643 19.562-13.04-2.231-21.789-14.611-19.569-27.643zM274.875 355.559c2.23-13.034 14.609-21.793 27.643-19.562 13.03 2.238 21.79 14.61 19.56 27.643-2.24 13.042-14.609 21.79-27.643 19.56-13.038-2.229-21.789-14.608-19.56-27.641zM311.393 142.216c2.239-13.041 14.611-21.792 27.643-19.569 13.042 2.237 21.791 14.616 19.562 27.641-2.231 13.04-14.609 21.8-27.643 19.569-13.03-2.239-21.789-14.62-19.562-27.641zM299.221 213.33c2.238-13.033 14.606-21.801 27.642-19.561 13.039 2.231 21.79 14.601 19.569 27.643-2.238 13.03-14.617 21.787-27.649 19.56-13.035-2.231-21.795-14.61-19.562-27.642zM407.173 284.445c-2.238-13.034-14.618-21.793-27.639-19.561-13.042 2.229-21.801 14.609-19.572 27.642 2.239 13.032 14.609 21.79 27.643 19.562 13.041-2.231 21.791-14.611 19.568-27.643zM419.341 355.559c-2.23-13.034-14.609-21.793-27.642-19.562-13.031 2.238-21.792 14.61-19.561 27.643 2.238 13.042 14.609 21.79 27.642 19.56 13.041-2.229 21.794-14.608 19.561-27.641z"},void 0),m("path",{d:"M382.821 142.216c-2.236-13.041-14.607-21.792-27.64-19.569-13.042 2.237-21.792 14.616-19.561 27.641 2.23 13.04 14.611 21.8 27.642 19.569 13.031-2.239 21.791-14.62 19.559-27.641zM394.999 213.33c-2.239-13.033-14.609-21.801-27.641-19.561-13.042 2.231-21.791 14.601-19.57 27.643 2.239 13.03 14.618 21.787 27.65 19.56 13.032-2.231 21.79-14.61 19.561-27.642z"},void 0),m("path",{fill:"none",strokeWidth:49.224,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M72.744 560.332h372.673l61.025-358.899 62.127 358.899h271.338"},void 0)]}),void 0)}function Q8(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{fill:"none",strokeWidth:49.224,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,strokeDasharray:"1,70",d:"M29.127 687.461H334.8l61.025-399.9 61.127 399.9H795.29"},void 0),m("path",{fill:"none",strokeWidth:49.224,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M204.063 686.396h371.673l61.024-399.898 63.127 399.898h271.339"},void 0),m("path",{fill:"none",strokeWidth:49.224,strokeLinejoin:"round",strokeMiterlimit:22.926,strokeDasharray:"50,30",d:"M121.18 688.116c60.181 0 342.086.408 342.086.408l61.025-399.899 62.127 399.899H917.2"},void 0)]}),void 0)}function eF(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{fill:"none",strokeWidth:49.224,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,strokeDasharray:"1,70",d:"M29.127 465.651H334.8l61.025-399.899 61.127 399.899H795.29"},void 0),m("path",{fill:"none",strokeWidth:49.224,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M204.063 911.396h371.673l61.025-399.898 63.127 399.898h271.338"},void 0),m("path",{fill:"none",strokeWidth:49.224,strokeLinejoin:"round",strokeMiterlimit:22.926,strokeDasharray:"50,30",d:"M121.18 688.116c60.181 0 342.087.408 342.087.408l61.025-399.899 62.127 399.899h330.782"},void 0)]}),void 0)}function tF(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,G("g",Object.assign({fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926},{children:[m("path",{strokeWidth:47.417,d:"M54.005 697.855H280.66l59.528-364.132 57.24 364.132h249.553L717.95 214.67l59.528 483.185h176.733"},void 0),m("path",{strokeWidth:41.819,d:"M337.901 171.258v80.862M715.664 47.484v80.86"},void 0),m("path",{strokeWidth:58.546,d:"M54.005 863.579h834.889"},void 0),m("g",Object.assign({strokeWidth:58.546},{children:m("path",{d:"M914.688 863.572l-94.193 71.336M820.495 792.244l94.193 71.328"},void 0)}),void 0)]}),void 0)]}),void 0)}function nF(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,G("g",Object.assign({strokeMiterlimit:22.926,strokeLinejoin:"round",strokeLinecap:"round",fill:"none"},{children:[m("path",{strokeWidth:47.417,d:"M54.005 837.855H280.66l59.528-364.132 57.24 364.132h249.553L717.95 354.67l59.528 483.185h176.733"},void 0),m("path",{strokeWidth:41.819,d:"M337.901 251.258v80.862M715.664 127.484v80.86"},void 0)]}),void 0)]}),void 0)}function rF(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{fill:"none",strokeWidth:48.987,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M23.903 784.146l153.596.09L225.5 712.5l52-683 37 737L339 970.348l63-186 134.26.599h223.575"},void 0),m("circle",{fill:"none",strokeWidth:48.987,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,cx:577.5,cy:464.5,r:194.5},void 0),m("path",{fill:"none",strokeWidth:48.987,strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M824.5 193.5c64 62 84 158 82 265"},void 0),m("path",{d:"M904.291 576.736c-19.604-56.021-53.537-125.708-90.025-169.186l92.525 35.434 93.783-31.95c-38.088 42.082-74.609 110.452-96.283 165.702z"},void 0),m("path",{fill:"none",strokeWidth:50,strokeLinejoin:"round",strokeMiterlimit:22.926,strokeDasharray:"25,25",d:"M575.5 478.5L809 245"},void 0)]}),void 0)}function ox(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{fill:"none",strokeWidth:39.653,strokeLinecap:"round",strokeLinejoin:"round",d:"M43.556 943.061c64.939-.561 128.939-.561 255.707.136C417.5 941.5 384.515 640.484 393.373 562.5c13.218 120.809-19.69 357.958 120.678 380.692 23.449.308 21.449-.692 41.512 0C694.876 914.378 656.282 682.309 669.5 561.5c8.724 77.984-17 355 113 383 87.151 1.308 57.312 0 159-1.439M67.5 24.5c79 59 397 144 425 190s26 82 26 82M62.5 32.5c89 59 238.867 336.803 289.497 355.152 50.629 18.35 85.521 9.27 85.521 9.27"},void 0),m("path",{d:"M609.5 329.5l31-168c5.5-29 9-54.5 12-75.5H703l-5.5 42.5h1c22.5-32.5 53-48 85-48 38 0 55 24.5 57 50 22-33 52.5-49.5 86.5-50 33 0 59 21.5 59 65 0 10.5-2 28.5-4 41.5l-26.5 142.5H899l25-136c2-9.5 3.5-21 3.5-30.5 0-21-8.5-35-29.5-35-27 0-56.5 33.5-66 85l-21.5 116.5H754l26.5-138c1.5-10 3-19.5 3-28.5 0-18-5.5-35-29.5-35-27 0-58 37-67 86.5l-21 115h-56.5z"},void 0),m("path",{fill:"none",strokeWidth:39.653,strokeLinecap:"round",strokeLinejoin:"round",d:"M267.5 635.5v-152h527v151"},void 0)]}),void 0)}function oF(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{fill:"none",strokeWidth:39.653,strokeLinecap:"round",strokeLinejoin:"round",d:"M38.5 28.5v934h933"},void 0),m("text",Object.assign({transform:"translate(467.5 896.5)",fontFamily:"'MyriadPro-Regular'",fontSize:500},{children:"Re"}),void 0),m("text",Object.assign({transform:"translate(57.5 354.5)",fontFamily:"'MyriadPro-Regular'",fontSize:500},{children:"Im"}),void 0),m("path",{fill:"none",strokeWidth:50,d:"M763.5 233.5c79 0 196 41 196 211"},void 0),m("path",{d:"M595.297 237.352c85.194-31.611 190.897-85.547 256.406-142.646l-51.592 142.646 51.592 142.646c-65.508-57.1-171.211-111.052-256.406-142.646z"},void 0),G("g",{children:[m("path",{fill:"none",strokeWidth:50,d:"M309.5 729.5c-79 0-196-41-196-211"},void 0),m("path",{d:"M475.703 728.647c-85.194 31.611-190.897 85.547-256.405 142.647l51.591-142.647-51.592-142.646c65.507 57.1 171.211 111.051 256.406 142.646z"},void 0)]},void 0)]}),void 0)}function iF(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("g",Object.assign({"data-name":"Group 1"},{children:m("path",{"data-name":"Union 1",d:"M448.722 988.7l-285.93-242.377c-17.662-14.972-17.662-38.984 0-53.956 8.665-7.627 20-11.3 31.66-11.3a49.672 49.672 0 0131.658 11.3l209.282 177.4v-338.53h-398.4S.068 527.554.005 489.846s36.987-40.427 36.987-40.427h398.4V130.227l-209.281 177.4c-17.329 14.689-45.989 14.689-63.319 0-17.662-14.972-17.662-38.984 0-53.956l285.93-242.377c8.331-7.345 19.662-11.3 31.659-11.3a49.907 49.907 0 0131.659 11.3l285.93 242.382c17.662 14.972 17.662 38.984 0 53.956-8.665 7.627-20 11.3-31.659 11.3a49.674 49.674 0 01-31.659-11.3L525.37 130.227v319.191h441.847S1000 454.846 1000 489.845s-32.783 41.391-32.783 41.391H525.37v338.535l209.282-177.4c17.329-14.689 45.989-14.689 63.318 0 17.662 14.972 17.662 38.984 0 53.956L512.04 988.7c-8.331 7.344-19.662 11.3-31.659 11.3a49.914 49.914 0 01-31.659-11.3z"},void 0)}),void 0)]}),void 0)}function aF(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,G("g",Object.assign({"data-name":"Group 1"},{children:[m("path",{"data-name":"Path 1",d:"M967.216 0H36.987S-.063 2.979 0 44.3s36.987 45.35 36.987 45.35h930.229s32.783-7 32.783-45.352S967.216 0 967.216 0z"},void 0),m("path",{"data-name":"Path 2",d:"M235.001 515.329l218.112-174.663v621.787c0 20.859 20.839 37.547 46.887 37.547s46.887-16.687 46.887-37.547V340.666l218.111 174.663c9.03 7.231 21.186 11.125 32.995 11.125 12.156 0 23.964-3.616 32.995-11.125 18.407-14.741 18.407-38.381 0-53.122L532.994 223.575c-8.683-6.953-20.839-11.125-32.995-11.125-12.5 0-24.312 3.894-32.995 11.125L169.012 462.207c-18.408 14.741-18.408 38.381 0 53.122 18.06 14.463 47.929 14.463 65.989 0z"},void 0)]}),void 0)]}),void 0)}function ix(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{"data-name":"Path 1",d:"M713.547 237.766l84.27-.682V77.631s-5.122-24.916-20.866-40.995-42.111-23.322-42.111-23.322H115.788s-38.483 9.884-54.3 33.69-8.969 61.533-8.969 61.533l274.61 388.2a7.294 7.294 0 011.321 3.719 8.6 8.6 0 01-1.321 3.945L60.85 873.556s-17.841 40.987-5.111 69.46 56.026 44.435 56.026 44.435h694.089s30-5.73 46.746-21.809 20.254-42.505 20.254-42.505v-234.49h-91.555l2 194.646s.146 1.94-.87 2.829-3.194.729-3.194.729l-606.513-3.5s-1.678-.251-2-1.062.7-2.183.7-2.183l242.047-340.2s12.2-18.089 12.2-38.858-12.2-44.218-12.2-44.218L164.056 106.218a1.98 1.98 0 01.257-1.136 1.909 1.909 0 01.943-.47l540.54-2s3.231.076 5.083 1.861 2.327 5.276 2.327 5.276z"},void 0)]}),void 0)}function sF(r){var o=r,{title:e,titleId:t}=o,n=he(o,["title","titleId"]);return G("svg",Object.assign({stroke:"currentColor",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",width:"1em",height:"1em","aria-labelledby":t},n,{children:[e?m("title",Object.assign({id:t},{children:e}),void 0):null,m("path",{fill:"none",strokeWidth:48.987,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:22.926,d:"M27.989 24.288l24.468 939.363 52.128-677.659 29.787 456.383 44.681-297.873 23.404 202.128 38.298-108.511 26.596 42.339h698.936"},void 0),m("path",{fill:"none",strokeWidth:48.987,strokeLinejoin:"round",strokeMiterlimit:22.926,strokeDasharray:"50,50",d:"M293.947 55.51v886.864"},void 0),m("path",{d:"M786.083 122.546c22.189 42.847 30.287 92.068 30.287 147.656 0 43.728-3.812 84.928-17.435 123.597-25.708 72.732-70.201 109.094-133.482 109.094-43.292 0-78.888-19.661-106.787-58.996-29.886-41.965-40.824-98.985-40.824-171.058 0-56.689 5.995-105.469 25.991-146.338 27.026-55.588 68.555-83.386 124.585-83.386 50.536 0 89.757 26.48 117.665 79.431zm-50.098 308.539c12.079-35.35 18.126-86.502 18.126-153.472 0-53.353-3.624-95.941-10.875-127.778-13.629-59.279-39.114-82.172-76.465-82.172-37.359 0-62.953 23.769-76.796 84.803-7.251 32.496-10.875 75.312-10.875 128.443 0 49.84 3.732 89.689 11.206 119.549 14.057 55.767 40.424 76.898 79.102 76.898 32.3 0 54.489-10.924 66.577-46.271z"},void 0),m("path",{strokeWidth:50,d:"M763.095 123.225l-180.85 307.447"},void 0)]}),void 0)}function Yt(a){var s=a,{children:e,style:t={},onClick:n=()=>null,popupTitle:r="",popupPlacement:o="right"}=s,i=he(s,["children","style","onClick","popupTitle","popupPlacement"]);return m(rn,{title:r,popupPlacement:o,children:m("button",P(S({style:t,type:"button",onClick:n},i),{children:e}))})}const Dr=X`
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;

  .inner-container {
    height: 100%;
    overflow: hidden;
    isolation: isolate;
  }

  .table-container {
    overflow: auto;
    height: 100%;
    display: block;
    background-color: white;
  }
`,lF=X`
  background-color: #f5f5f5;
  border: none;
  border-radius: 5px;

  &:hover {
    background-color: lightgray !important;
    color: black !important;
  }

  &.toggle-active {
    background-color: gray;
    color: white;
  }
`;function cF({children:e,style:t={},onClick:n=()=>null,popupTitle:r="",popupPlacement:o="right",defaultValue:i=!1,disabled:a=!1,className:s=""}){const[c,l]=d.exports.useState(i),u=d.exports.useCallback(()=>{n(!c),l(!c)},[n,c]);return h(rn,{title:r,popupPlacement:o,children:h("button",{disabled:a,css:lF,style:t,className:(c?"toggle toggle-active ":"toggle ")+s,type:"button",onClick:u,children:e})})}var On=d.exports.memo(cF);const uF=X`
  display: flex;
  flex-direction: row;
  border-bottom: 0.55px solid rgb(240, 240, 240);
  padding: 0px 5px;

  .left-container {
    display: flex;
    flex-direction: row;
    flex: 1;
  }
  button {
    background-color: transparent;
    border: none;
    padding: 5px;
  }

  button:disabled {
    opacity: 0.6;
  }

  .counter-label {
    margin: 0;
    text-align: right;
    line-height: 22px;
    padding: 0px 10px;
    white-space: nowrap;
  }
`;function dF({counter:e,onDelete:t=()=>null,deleteToolTip:n="Delete",onFilter:r=()=>null,filterToolTip:o="",filterIsActive:i=!1,counterFiltered:a=0,children:s,onSettingClick:c=()=>null,showSettingButton:l=!1,canDelete:u=!0,style:p={},className:f=""}){return $("div",{css:uF,style:p,className:f,children:[$("div",{className:"left-container",children:[u&&h(rn,{title:n,popupPlacement:"right",children:h("button",{type:"button",onClick:t,disabled:e===0,children:h(Rr,{})})}),o?h(On,{popupTitle:o,popupPlacement:"right",onClick:r,defaultValue:i,children:h(mS,{style:{pointerEvents:"none",fontSize:"12px"}})}):null,s]}),e!==void 0&&$("p",{className:"counter-label",children:["["," ",i&&i===!0&&a!==void 0?`${a}/${e}`:e," ","]"]}),l&&h(rn,{title:"preferences",popupPlacement:"left",children:h("button",{type:"button",onClick:c,children:h(bS,{})})})]})}var qn=d.exports.memo(dF);function pF(){const e=d.exports.useCallback(()=>{},[]);return $("div",{css:Dr,children:[h(qn,{showSettingButton:!1,canDelete:!1,children:h(Yt,{popupTitle:"automatic assignment",onClick:e,children:h(X8,{style:{fontSize:"18px"}})})}),h("div",{className:"inner-container"})]})}var Xo={exports:{}},Mu={exports:{}};(function(e,t){(function(n,r){r(t,d.exports)})(rd,function(n,r){function o(b,C,E,T,L,F,B){try{var W=b[F](B),Z=W.value}catch(q){return void E(q)}W.done?C(Z):Promise.resolve(Z).then(T,L)}function i(b){return function(){var C=this,E=arguments;return new Promise(function(T,L){var F=b.apply(C,E);function B(Z){o(F,T,L,B,W,"next",Z)}function W(Z){o(F,T,L,B,W,"throw",Z)}B(void 0)})}}function a(){return(a=Object.assign||function(b){for(var C=1;C<arguments.length;C++){var E=arguments[C];for(var T in E)Object.prototype.hasOwnProperty.call(E,T)&&(b[T]=E[T])}return b}).apply(this,arguments)}function s(b,C){if(b==null)return{};var E,T,L={},F=Object.keys(b);for(T=0;T<F.length;T++)E=F[T],C.indexOf(E)>=0||(L[E]=b[E]);return L}function c(b){var C=function(E,T){if(typeof E!="object"||E===null)return E;var L=E[Symbol.toPrimitive];if(L!==void 0){var F=L.call(E,T||"default");if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(E)}(b,"string");return typeof C=="symbol"?C:String(C)}r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var l={init:"init"},u=function(b){var C=b.value;return C===void 0?"":C},p=function(){return r.createElement(r.Fragment,null,"\xA0")},f={Cell:u,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function g(){for(var b=arguments.length,C=new Array(b),E=0;E<b;E++)C[E]=arguments[E];return C.reduce(function(T,L){var F=L.style,B=L.className;return T=a({},T,{},s(L,["style","className"])),F&&(T.style=T.style?a({},T.style||{},{},F||{}):F),B&&(T.className=T.className?T.className+" "+B:B),T.className===""&&delete T.className,T},{})}var v=function(b,C){return C===void 0&&(C={}),function(E){return E===void 0&&(E={}),[].concat(b,[E]).reduce(function(T,L){return function F(B,W,Z){return typeof W=="function"?F({},W(B,Z)):Array.isArray(W)?g.apply(void 0,[B].concat(W)):g(B,W)}(T,L,a({},C,{userProps:E}))},{})}},x=function(b,C,E,T){return E===void 0&&(E={}),b.reduce(function(L,F){return F(L,E)},C)},y=function(b,C,E){return E===void 0&&(E={}),b.forEach(function(T){T(C,E)})};function w(b,C,E,T){b.findIndex(function(L){return L.pluginName===E}),C.forEach(function(L){b.findIndex(function(F){return F.pluginName===L})})}function k(b,C){return typeof b=="function"?b(C):b}function _(b){var C=r.useRef();return C.current=b,r.useCallback(function(){return C.current},[])}var R=typeof document!="undefined"?r.useLayoutEffect:r.useEffect;function M(b,C){var E=r.useRef(!1);R(function(){E.current&&b(),E.current=!0},C)}function N(b,C,E){return E===void 0&&(E={}),function(T,L){L===void 0&&(L={});var F=typeof T=="string"?C[T]:T;if(F===void 0)throw console.info(C),new Error("Renderer Error \u261D\uFE0F");return H(F,a({},b,{column:C},E,{},L))}}function H(b,C){return function(T){return typeof T=="function"&&(L=Object.getPrototypeOf(T)).prototype&&L.prototype.isReactComponent;var L}(E=b)||typeof E=="function"||function(T){return typeof T=="object"&&typeof T.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(T.$$typeof.description)}(E)?r.createElement(b,C):b;var E}function A(b,C,E){return E===void 0&&(E=0),b.map(function(T){return z(T=a({},T,{parent:C,depth:E})),T.columns&&(T.columns=A(T.columns,T,E+1)),T})}function D(b){return ue(b,"columns")}function z(b){var C=b.id,E=b.accessor,T=b.Header;if(typeof E=="string"){C=C||E;var L=E.split(".");E=function(F){return function(B,W,Z){if(!W)return B;var q,se=typeof W=="function"?W:JSON.stringify(W),te=oe.get(se)||function(){var ne=function(J){return function ee(de,le){if(le===void 0&&(le=[]),Array.isArray(de))for(var Se=0;Se<de.length;Se+=1)ee(de[Se],le);else le.push(de);return le}(J).map(function(ee){return String(ee).replace(".","_")}).join(".").replace(nt,".").replace(Ft,"").split(".")}(W);return oe.set(se,ne),ne}();try{q=te.reduce(function(ne,J){return ne[J]},B)}catch{}return q!==void 0?q:Z}(F,L)}}if(!C&&typeof T=="string"&&T&&(C=T),!C&&b.columns)throw console.error(b),new Error('A column ID (or unique "Header" value) is required!');if(!C)throw console.error(b),new Error("A column ID (or string accessor) is required!");return Object.assign(b,{id:C,accessor:E}),b}function U(b,C){if(!C)throw new Error;return Object.assign(b,a({Header:p,Footer:p},f,{},C,{},b)),Object.assign(b,{originalWidth:b.width}),b}function Y(b,C,E){E===void 0&&(E=function(){return{}});for(var T=[],L=b,F=0,B=function(){return F++},W=function(){var Z={headers:[]},q=[],se=L.some(function(te){return te.parent});L.forEach(function(te){var ne,J=[].concat(q).reverse()[0];se&&(te.parent?ne=a({},te.parent,{originalId:te.parent.id,id:te.parent.id+"_"+B(),headers:[te]},E(te)):ne=U(a({originalId:te.id+"_placeholder",id:te.id+"_placeholder_"+B(),placeholderOf:te,headers:[te]},E(te)),C),J&&J.originalId===ne.originalId?J.headers.push(te):q.push(ne)),Z.headers.push(te)}),T.push(Z),L=q};L.length;)W();return T.reverse()}var oe=new Map;function ae(){for(var b=arguments.length,C=new Array(b),E=0;E<b;E++)C[E]=arguments[E];for(var T=0;T<C.length;T+=1)if(C[T]!==void 0)return C[T]}function je(b){if(typeof b=="function")return b}function ue(b,C){var E=[];return function T(L){L.forEach(function(F){F[C]?T(F[C]):E.push(F)})}(b),E}function me(b,C){var E=C.manualExpandedKey,T=C.expanded,L=C.expandSubRows,F=L===void 0||L,B=[];return b.forEach(function(W){return function Z(q,se){se===void 0&&(se=!0),q.isExpanded=q.original&&q.original[E]||T[q.id],q.canExpand=q.subRows&&!!q.subRows.length,se&&B.push(q),q.subRows&&q.subRows.length&&q.isExpanded&&q.subRows.forEach(function(te){return Z(te,F)})}(W)}),B}function $e(b,C,E){return je(b)||C[b]||E[b]||E.text}function He(b,C,E){return b?b(C,E):C===void 0}function Pe(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var St=null,nt=/\[/g,Ft=/\]/g,Ht=function(b){return a({role:"table"},b)},at=function(b){return a({role:"rowgroup"},b)},zt=function(b,C){var E=C.column;return a({key:"header_"+E.id,colSpan:E.totalVisibleHeaderCount,role:"columnheader"},b)},Kt=function(b,C){var E=C.column;return a({key:"footer_"+E.id,colSpan:E.totalVisibleHeaderCount},b)},Jn=function(b,C){return a({key:"headerGroup_"+C.index,role:"row"},b)},Ot=function(b,C){return a({key:"footerGroup_"+C.index},b)},ln=function(b,C){return a({key:"row_"+C.row.id,role:"row"},b)},ko=function(b,C){var E=C.cell;return a({key:"cell_"+E.row.id+"_"+E.column.id,role:"cell"},b)};function Ri(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[Ht],getTableBodyProps:[at],getHeaderGroupProps:[Jn],getFooterGroupProps:[Ot],getHeaderProps:[zt],getFooterProps:[Kt],getRowProps:[ln],getCellProps:[ko],useFinalInstance:[]}}l.resetHiddenColumns="resetHiddenColumns",l.toggleHideColumn="toggleHideColumn",l.setHiddenColumns="setHiddenColumns",l.toggleHideAllColumns="toggleHideAllColumns";var O=function(b){b.getToggleHiddenProps=[j],b.getToggleHideAllColumnsProps=[I],b.stateReducers.push(Q),b.useInstanceBeforeDimensions.push(pe),b.headerGroupsDeps.push(function(C,E){var T=E.instance;return[].concat(C,[T.state.hiddenColumns])}),b.useInstance.push(fe)};O.pluginName="useColumnVisibility";var j=function(b,C){var E=C.column;return[b,{onChange:function(T){E.toggleHidden(!T.target.checked)},style:{cursor:"pointer"},checked:E.isVisible,title:"Toggle Column Visible"}]},I=function(b,C){var E=C.instance;return[b,{onChange:function(T){E.toggleHideAllColumns(!T.target.checked)},style:{cursor:"pointer"},checked:!E.allColumnsHidden&&!E.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!E.allColumnsHidden&&E.state.hiddenColumns.length}]};function Q(b,C,E,T){if(C.type===l.init)return a({hiddenColumns:[]},b);if(C.type===l.resetHiddenColumns)return a({},b,{hiddenColumns:T.initialState.hiddenColumns||[]});if(C.type===l.toggleHideColumn){var L=(C.value!==void 0?C.value:!b.hiddenColumns.includes(C.columnId))?[].concat(b.hiddenColumns,[C.columnId]):b.hiddenColumns.filter(function(F){return F!==C.columnId});return a({},b,{hiddenColumns:L})}return C.type===l.setHiddenColumns?a({},b,{hiddenColumns:k(C.value,b.hiddenColumns)}):C.type===l.toggleHideAllColumns?a({},b,{hiddenColumns:(C.value!==void 0?C.value:!b.hiddenColumns.length)?T.allColumns.map(function(F){return F.id}):[]}):void 0}function pe(b){var C=b.headers,E=b.state.hiddenColumns;r.useRef(!1).current;var T=0;C.forEach(function(L){return T+=function F(B,W){B.isVisible=W&&!E.includes(B.id);var Z=0;return B.headers&&B.headers.length?B.headers.forEach(function(q){return Z+=F(q,B.isVisible)}):Z=B.isVisible?1:0,B.totalVisibleHeaderCount=Z,Z}(L,!0)})}function fe(b){var C=b.columns,E=b.flatHeaders,T=b.dispatch,L=b.allColumns,F=b.getHooks,B=b.state.hiddenColumns,W=b.autoResetHiddenColumns,Z=W===void 0||W,q=_(b),se=L.length===B.length,te=r.useCallback(function(le,Se){return T({type:l.toggleHideColumn,columnId:le,value:Se})},[T]),ne=r.useCallback(function(le){return T({type:l.setHiddenColumns,value:le})},[T]),J=r.useCallback(function(le){return T({type:l.toggleHideAllColumns,value:le})},[T]),ee=v(F().getToggleHideAllColumnsProps,{instance:q()});E.forEach(function(le){le.toggleHidden=function(Se){T({type:l.toggleHideColumn,columnId:le.id,value:Se})},le.getToggleHiddenProps=v(F().getToggleHiddenProps,{instance:q(),column:le})});var de=_(Z);M(function(){de()&&T({type:l.resetHiddenColumns})},[T,C]),Object.assign(b,{allColumnsHidden:se,toggleHideColumn:te,setHiddenColumns:ne,toggleHideAllColumns:J,getToggleHideAllColumnsProps:ee})}var We={},V={},ie=function(b,C,E){return b},ge=function(b,C){return b.subRows||[]},xe=function(b,C,E){return""+(E?[E.id,C].join("."):C)},Ee=function(b){return b};function Ze(b){var C=b.initialState,E=C===void 0?We:C,T=b.defaultColumn,L=T===void 0?V:T,F=b.getSubRows,B=F===void 0?ge:F,W=b.getRowId,Z=W===void 0?xe:W,q=b.stateReducer,se=q===void 0?ie:q,te=b.useControlledState,ne=te===void 0?Ee:te;return a({},s(b,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:E,defaultColumn:L,getSubRows:B,getRowId:Z,stateReducer:se,useControlledState:ne})}function yt(b,C){C===void 0&&(C=0);var E=0,T=0,L=0,F=0;return b.forEach(function(B){var W=B.headers;if(B.totalLeft=C,W&&W.length){var Z=yt(W,C),q=Z[0],se=Z[1],te=Z[2],ne=Z[3];B.totalMinWidth=q,B.totalWidth=se,B.totalMaxWidth=te,B.totalFlexWidth=ne}else B.totalMinWidth=B.minWidth,B.totalWidth=Math.min(Math.max(B.minWidth,B.width),B.maxWidth),B.totalMaxWidth=B.maxWidth,B.totalFlexWidth=B.canResize?B.totalWidth:0;B.isVisible&&(C+=B.totalWidth,E+=B.totalMinWidth,T+=B.totalWidth,L+=B.totalMaxWidth,F+=B.totalFlexWidth)}),[E,T,L,F]}function Rn(b){var C=b.data,E=b.rows,T=b.flatRows,L=b.rowsById,F=b.column,B=b.getRowId,W=b.getSubRows,Z=b.accessValueHooks,q=b.getInstance;C.forEach(function(se,te){return function ne(J,ee,de,le,Se){de===void 0&&(de=0);var Ie=J,De=B(J,ee,le),be=L[De];if(be)be.subRows&&be.originalSubRows.forEach(function(Me,Fe){return ne(Me,Fe,de+1,be)});else if((be={id:De,original:Ie,index:ee,depth:de,cells:[{}]}).cells.map=Pe,be.cells.filter=Pe,be.cells.forEach=Pe,be.cells[0].getCellProps=Pe,be.values={},Se.push(be),T.push(be),L[De]=be,be.originalSubRows=W(J,ee),be.originalSubRows){var Je=[];be.originalSubRows.forEach(function(Me,Fe){return ne(Me,Fe,de+1,be,Je)}),be.subRows=Je}F.accessor&&(be.values[F.id]=F.accessor(J,ee,be,Se,C)),be.values[F.id]=x(Z,be.values[F.id],{row:be,column:F,instance:q()})}(se,te,0,void 0,E)})}l.resetExpanded="resetExpanded",l.toggleRowExpanded="toggleRowExpanded",l.toggleAllRowsExpanded="toggleAllRowsExpanded";var Eo=function(b){b.getToggleAllRowsExpandedProps=[Ai],b.getToggleRowExpandedProps=[mc],b.stateReducers.push(tf),b.useInstance.push(ws),b.prepareRow.push(bc)};Eo.pluginName="useExpanded";var Ai=function(b,C){var E=C.instance;return[b,{onClick:function(T){E.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},mc=function(b,C){var E=C.row;return[b,{onClick:function(){E.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function tf(b,C,E,T){if(C.type===l.init)return a({expanded:{}},b);if(C.type===l.resetExpanded)return a({},b,{expanded:T.initialState.expanded||{}});if(C.type===l.toggleAllRowsExpanded){var L=C.value,F=T.isAllRowsExpanded,B=T.rowsById;if(L!==void 0?L:!F){var W={};return Object.keys(B).forEach(function(ee){W[ee]=!0}),a({},b,{expanded:W})}return a({},b,{expanded:{}})}if(C.type===l.toggleRowExpanded){var Z,q=C.id,se=C.value,te=b.expanded[q],ne=se!==void 0?se:!te;if(!te&&ne)return a({},b,{expanded:a({},b.expanded,(Z={},Z[q]=!0,Z))});if(te&&!ne){var J=b.expanded;return J[q],a({},b,{expanded:s(J,[q].map(c))})}return b}}function ws(b){var C=b.data,E=b.rows,T=b.rowsById,L=b.manualExpandedKey,F=L===void 0?"expanded":L,B=b.paginateExpandedRows,W=B===void 0||B,Z=b.expandSubRows,q=Z===void 0||Z,se=b.autoResetExpanded,te=se===void 0||se,ne=b.getHooks,J=b.plugins,ee=b.state.expanded,de=b.dispatch;w(J,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var le=_(te),Se=Boolean(Object.keys(T).length&&Object.keys(ee).length);Se&&Object.keys(T).some(function(ze){return!ee[ze]})&&(Se=!1),M(function(){le()&&de({type:l.resetExpanded})},[de,C]);var Ie=r.useCallback(function(ze,_e){de({type:l.toggleRowExpanded,id:ze,value:_e})},[de]),De=r.useCallback(function(ze){return de({type:l.toggleAllRowsExpanded,value:ze})},[de]),be=r.useMemo(function(){return W?me(E,{manualExpandedKey:F,expanded:ee,expandSubRows:q}):E},[W,E,F,ee,q]),Je=r.useMemo(function(){return function(ze){var _e=0;return Object.keys(ze).forEach(function(Ae){var Ye=Ae.split(".");_e=Math.max(_e,Ye.length)}),_e}(ee)},[ee]),Me=_(b),Fe=v(ne().getToggleAllRowsExpandedProps,{instance:Me()});Object.assign(b,{preExpandedRows:E,expandedRows:be,rows:be,expandedDepth:Je,isAllRowsExpanded:Se,toggleRowExpanded:Ie,toggleAllRowsExpanded:De,getToggleAllRowsExpandedProps:Fe})}function bc(b,C){var E=C.instance.getHooks,T=C.instance;b.toggleRowExpanded=function(L){return T.toggleRowExpanded(b.id,L)},b.getToggleRowExpandedProps=v(E().getToggleRowExpandedProps,{instance:T,row:b})}var nf=function(b,C,E){return b=b.filter(function(T){return C.some(function(L){var F=T.values[L];return String(F).toLowerCase().includes(String(E).toLowerCase())})})};nf.autoRemove=function(b){return!b};var rf=function(b,C,E){return b.filter(function(T){return C.some(function(L){var F=T.values[L];return F===void 0||String(F).toLowerCase()===String(E).toLowerCase()})})};rf.autoRemove=function(b){return!b};var of=function(b,C,E){return b.filter(function(T){return C.some(function(L){var F=T.values[L];return F===void 0||String(F)===String(E)})})};of.autoRemove=function(b){return!b};var af=function(b,C,E){return b.filter(function(T){return C.some(function(L){return T.values[L].includes(E)})})};af.autoRemove=function(b){return!b||!b.length};var sf=function(b,C,E){return b.filter(function(T){return C.some(function(L){var F=T.values[L];return F&&F.length&&E.every(function(B){return F.includes(B)})})})};sf.autoRemove=function(b){return!b||!b.length};var lf=function(b,C,E){return b.filter(function(T){return C.some(function(L){var F=T.values[L];return F&&F.length&&E.some(function(B){return F.includes(B)})})})};lf.autoRemove=function(b){return!b||!b.length};var cf=function(b,C,E){return b.filter(function(T){return C.some(function(L){var F=T.values[L];return E.includes(F)})})};cf.autoRemove=function(b){return!b||!b.length};var uf=function(b,C,E){return b.filter(function(T){return C.some(function(L){return T.values[L]===E})})};uf.autoRemove=function(b){return b===void 0};var df=function(b,C,E){return b.filter(function(T){return C.some(function(L){return T.values[L]==E})})};df.autoRemove=function(b){return b==null};var pf=function(b,C,E){var T=E||[],L=T[0],F=T[1];if((L=typeof L=="number"?L:-1/0)>(F=typeof F=="number"?F:1/0)){var B=L;L=F,F=B}return b.filter(function(W){return C.some(function(Z){var q=W.values[Z];return q>=L&&q<=F})})};pf.autoRemove=function(b){return!b||typeof b[0]!="number"&&typeof b[1]!="number"};var Pi=Object.freeze({__proto__:null,text:nf,exactText:rf,exactTextCase:of,includes:af,includesAll:sf,includesSome:lf,includesValue:cf,exact:uf,equals:df,between:pf});l.resetFilters="resetFilters",l.setFilter="setFilter",l.setAllFilters="setAllFilters";var ff=function(b){b.stateReducers.push(w2),b.useInstance.push(S2)};function w2(b,C,E,T){if(C.type===l.init)return a({filters:[]},b);if(C.type===l.resetFilters)return a({},b,{filters:T.initialState.filters||[]});if(C.type===l.setFilter){var L=C.columnId,F=C.filterValue,B=T.allColumns,W=T.filterTypes,Z=B.find(function(de){return de.id===L});if(!Z)throw new Error("React-Table: Could not find a column with id: "+L);var q=$e(Z.filter,W||{},Pi),se=b.filters.find(function(de){return de.id===L}),te=k(F,se&&se.value);return He(q.autoRemove,te,Z)?a({},b,{filters:b.filters.filter(function(de){return de.id!==L})}):a({},b,se?{filters:b.filters.map(function(de){return de.id===L?{id:L,value:te}:de})}:{filters:[].concat(b.filters,[{id:L,value:te}])})}if(C.type===l.setAllFilters){var ne=C.filters,J=T.allColumns,ee=T.filterTypes;return a({},b,{filters:k(ne,b.filters).filter(function(de){var le=J.find(function(Se){return Se.id===de.id});return!He($e(le.filter,ee||{},Pi).autoRemove,de.value,le)})})}}function S2(b){var C=b.data,E=b.rows,T=b.flatRows,L=b.rowsById,F=b.allColumns,B=b.filterTypes,W=b.manualFilters,Z=b.defaultCanFilter,q=Z!==void 0&&Z,se=b.disableFilters,te=b.state.filters,ne=b.dispatch,J=b.autoResetFilters,ee=J===void 0||J,de=r.useCallback(function(Me,Fe){ne({type:l.setFilter,columnId:Me,filterValue:Fe})},[ne]),le=r.useCallback(function(Me){ne({type:l.setAllFilters,filters:Me})},[ne]);F.forEach(function(Me){var Fe=Me.id,ze=Me.accessor,_e=Me.defaultCanFilter,Ae=Me.disableFilters;Me.canFilter=ze?ae(Ae!==!0&&void 0,se!==!0&&void 0,!0):ae(_e,q,!1),Me.setFilter=function(Oe){return de(Me.id,Oe)};var Ye=te.find(function(Oe){return Oe.id===Fe});Me.filterValue=Ye&&Ye.value});var Se=r.useMemo(function(){if(W||!te.length)return[E,T,L];var Me=[],Fe={};return[function ze(_e,Ae){Ae===void 0&&(Ae=0);var Ye=_e;return(Ye=te.reduce(function(Oe,Ue){var Ve=Ue.id,Qe=Ue.value,ye=F.find(function(vt){return vt.id===Ve});if(!ye)return Oe;Ae===0&&(ye.preFilteredRows=Oe);var Be=$e(ye.filter,B||{},Pi);return Be?(ye.filteredRows=Be(Oe,[Ve],Qe),ye.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+ye.id+"."),Oe)},_e)).forEach(function(Oe){Me.push(Oe),Fe[Oe.id]=Oe,Oe.subRows&&(Oe.subRows=Oe.subRows&&Oe.subRows.length>0?ze(Oe.subRows,Ae+1):Oe.subRows)}),Ye}(E),Me,Fe]},[W,te,E,T,L,F,B]),Ie=Se[0],De=Se[1],be=Se[2];r.useMemo(function(){F.filter(function(Me){return!te.find(function(Fe){return Fe.id===Me.id})}).forEach(function(Me){Me.preFilteredRows=Ie,Me.filteredRows=Ie})},[Ie,te,F]);var Je=_(ee);M(function(){Je()&&ne({type:l.resetFilters})},[ne,W?null:C]),Object.assign(b,{preFilteredRows:E,preFilteredFlatRows:T,preFilteredRowsById:L,filteredRows:Ie,filteredFlatRows:De,filteredRowsById:be,rows:Ie,flatRows:De,rowsById:be,setFilter:de,setAllFilters:le})}ff.pluginName="useFilters",l.resetGlobalFilter="resetGlobalFilter",l.setGlobalFilter="setGlobalFilter";var hf=function(b){b.stateReducers.push(C2),b.useInstance.push(k2)};function C2(b,C,E,T){if(C.type===l.resetGlobalFilter)return a({},b,{globalFilter:T.initialState.globalFilter||void 0});if(C.type===l.setGlobalFilter){var L=C.filterValue,F=T.userFilterTypes,B=$e(T.globalFilter,F||{},Pi),W=k(L,b.globalFilter);return He(B.autoRemove,W)?(b.globalFilter,s(b,["globalFilter"])):a({},b,{globalFilter:W})}}function k2(b){var C=b.data,E=b.rows,T=b.flatRows,L=b.rowsById,F=b.allColumns,B=b.filterTypes,W=b.globalFilter,Z=b.manualGlobalFilter,q=b.state.globalFilter,se=b.dispatch,te=b.autoResetGlobalFilter,ne=te===void 0||te,J=b.disableGlobalFilter,ee=r.useCallback(function(be){se({type:l.setGlobalFilter,filterValue:be})},[se]),de=r.useMemo(function(){if(Z||q===void 0)return[E,T,L];var be=[],Je={},Me=$e(W,B||{},Pi);if(!Me)return console.warn("Could not find a valid 'globalFilter' option."),E;F.forEach(function(ze){var _e=ze.disableGlobalFilter;ze.canFilter=ae(_e!==!0&&void 0,J!==!0&&void 0,!0)});var Fe=F.filter(function(ze){return ze.canFilter===!0});return[function ze(_e){return(_e=Me(_e,Fe.map(function(Ae){return Ae.id}),q)).forEach(function(Ae){be.push(Ae),Je[Ae.id]=Ae,Ae.subRows=Ae.subRows&&Ae.subRows.length?ze(Ae.subRows):Ae.subRows}),_e}(E),be,Je]},[Z,q,W,B,F,E,T,L,J]),le=de[0],Se=de[1],Ie=de[2],De=_(ne);M(function(){De()&&se({type:l.resetGlobalFilter})},[se,Z?null:C]),Object.assign(b,{preGlobalFilteredRows:E,preGlobalFilteredFlatRows:T,preGlobalFilteredRowsById:L,globalFilteredRows:le,globalFilteredFlatRows:Se,globalFilteredRowsById:Ie,rows:le,flatRows:Se,rowsById:Ie,setGlobalFilter:ee,disableGlobalFilter:J})}function gf(b,C){return C.reduce(function(E,T){return E+(typeof T=="number"?T:0)},0)}hf.pluginName="useGlobalFilter";var mf=Object.freeze({__proto__:null,sum:gf,min:function(b){var C=b[0]||0;return b.forEach(function(E){typeof E=="number"&&(C=Math.min(C,E))}),C},max:function(b){var C=b[0]||0;return b.forEach(function(E){typeof E=="number"&&(C=Math.max(C,E))}),C},minMax:function(b){var C=b[0]||0,E=b[0]||0;return b.forEach(function(T){typeof T=="number"&&(C=Math.min(C,T),E=Math.max(E,T))}),C+".."+E},average:function(b){return gf(0,b)/b.length},median:function(b){if(!b.length)return null;var C=Math.floor(b.length/2),E=[].concat(b).sort(function(T,L){return T-L});return b.length%2!=0?E[C]:(E[C-1]+E[C])/2},unique:function(b){return Array.from(new Set(b).values())},uniqueCount:function(b){return new Set(b).size},count:function(b){return b.length}}),E2=[],_2={};l.resetGroupBy="resetGroupBy",l.setGroupBy="setGroupBy",l.toggleGroupBy="toggleGroupBy";var bf=function(b){b.getGroupByToggleProps=[T2],b.stateReducers.push(R2),b.visibleColumnsDeps.push(function(C,E){var T=E.instance;return[].concat(C,[T.state.groupBy])}),b.visibleColumns.push(A2),b.useInstance.push(M2),b.prepareRow.push(F2)};bf.pluginName="useGroupBy";var T2=function(b,C){var E=C.header;return[b,{onClick:E.canGroupBy?function(T){T.persist(),E.toggleGroupBy()}:void 0,style:{cursor:E.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function R2(b,C,E,T){if(C.type===l.init)return a({groupBy:[]},b);if(C.type===l.resetGroupBy)return a({},b,{groupBy:T.initialState.groupBy||[]});if(C.type===l.setGroupBy)return a({},b,{groupBy:C.value});if(C.type===l.toggleGroupBy){var L=C.columnId,F=C.value,B=F!==void 0?F:!b.groupBy.includes(L);return a({},b,B?{groupBy:[].concat(b.groupBy,[L])}:{groupBy:b.groupBy.filter(function(W){return W!==L})})}}function A2(b,C){var E=C.instance.state.groupBy,T=E.map(function(F){return b.find(function(B){return B.id===F})}).filter(Boolean),L=b.filter(function(F){return!E.includes(F.id)});return(b=[].concat(T,L)).forEach(function(F){F.isGrouped=E.includes(F.id),F.groupedIndex=E.indexOf(F.id)}),b}var P2={};function M2(b){var C=b.data,E=b.rows,T=b.flatRows,L=b.rowsById,F=b.allColumns,B=b.flatHeaders,W=b.groupByFn,Z=W===void 0?vf:W,q=b.manualGroupBy,se=b.aggregations,te=se===void 0?P2:se,ne=b.plugins,J=b.state.groupBy,ee=b.dispatch,de=b.autoResetGroupBy,le=de===void 0||de,Se=b.disableGroupBy,Ie=b.defaultCanGroupBy,De=b.getHooks;w(ne,["useColumnOrder","useFilters"],"useGroupBy");var be=_(b);F.forEach(function(ye){var Be=ye.accessor,vt=ye.defaultGroupBy,Gt=ye.disableGroupBy;ye.canGroupBy=Be?ae(ye.canGroupBy,Gt!==!0&&void 0,Se!==!0&&void 0,!0):ae(ye.canGroupBy,vt,Ie,!1),ye.canGroupBy&&(ye.toggleGroupBy=function(){return b.toggleGroupBy(ye.id)}),ye.Aggregated=ye.Aggregated||ye.Cell});var Je=r.useCallback(function(ye,Be){ee({type:l.toggleGroupBy,columnId:ye,value:Be})},[ee]),Me=r.useCallback(function(ye){ee({type:l.setGroupBy,value:ye})},[ee]);B.forEach(function(ye){ye.getGroupByToggleProps=v(De().getGroupByToggleProps,{instance:be(),header:ye})});var Fe=r.useMemo(function(){if(q||!J.length)return[E,T,L,E2,_2,T,L];var ye=J.filter(function(Pt){return F.find(function(cr){return cr.id===Pt})}),Be=[],vt={},Gt=[],Te={},st=[],Ct={},Wt=function Pt(cr,ur,If){if(ur===void 0&&(ur=0),ur===ye.length)return cr;var Cc=ye[ur],xw=Z(cr,Cc);return Object.entries(xw).map(function(Nf,yw){var Lf=Nf[0],Cs=Nf[1],ks=Cc+":"+Lf,Hf=Pt(Cs,ur+1,ks=If?If+">"+ks:ks),zf=ur?ue(Cs,"leafRows"):Cs,ww=function(mn,kc,Cw){var Es={};return F.forEach(function(kt){if(ye.includes(kt.id))Es[kt.id]=kc[0]?kc[0].values[kt.id]:null;else{var Bf=typeof kt.aggregate=="function"?kt.aggregate:te[kt.aggregate]||mf[kt.aggregate];if(Bf){var kw=kc.map(function(_s){return _s.values[kt.id]}),Ew=mn.map(function(_s){var Ec=_s.values[kt.id];if(!Cw&&kt.aggregateValue){var jf=typeof kt.aggregateValue=="function"?kt.aggregateValue:te[kt.aggregateValue]||mf[kt.aggregateValue];if(!jf)throw console.info({column:kt}),new Error("React Table: Invalid column.aggregateValue option for column listed above");Ec=jf(Ec,_s,kt)}return Ec});Es[kt.id]=Bf(Ew,kw)}else{if(kt.aggregate)throw console.info({column:kt}),new Error("React Table: Invalid column.aggregate option for column listed above");Es[kt.id]=null}}}),Es}(zf,Cs,ur),Sw={id:ks,isGrouped:!0,groupByID:Cc,groupByVal:Lf,values:ww,subRows:Hf,leafRows:zf,depth:ur,index:yw};return Hf.forEach(function(mn){Be.push(mn),vt[mn.id]=mn,mn.isGrouped?(Gt.push(mn),Te[mn.id]=mn):(st.push(mn),Ct[mn.id]=mn)}),Sw})}(E);return Wt.forEach(function(Pt){Be.push(Pt),vt[Pt.id]=Pt,Pt.isGrouped?(Gt.push(Pt),Te[Pt.id]=Pt):(st.push(Pt),Ct[Pt.id]=Pt)}),[Wt,Be,vt,Gt,Te,st,Ct]},[q,J,E,T,L,F,te,Z]),ze=Fe[0],_e=Fe[1],Ae=Fe[2],Ye=Fe[3],Oe=Fe[4],Ue=Fe[5],Ve=Fe[6],Qe=_(le);M(function(){Qe()&&ee({type:l.resetGroupBy})},[ee,q?null:C]),Object.assign(b,{preGroupedRows:E,preGroupedFlatRow:T,preGroupedRowsById:L,groupedRows:ze,groupedFlatRows:_e,groupedRowsById:Ae,onlyGroupedFlatRows:Ye,onlyGroupedRowsById:Oe,nonGroupedFlatRows:Ue,nonGroupedRowsById:Ve,rows:ze,flatRows:_e,rowsById:Ae,toggleGroupBy:Je,setGroupBy:Me})}function F2(b){b.allCells.forEach(function(C){var E;C.isGrouped=C.column.isGrouped&&C.column.id===b.groupByID,C.isPlaceholder=!C.isGrouped&&C.column.isGrouped,C.isAggregated=!C.isGrouped&&!C.isPlaceholder&&((E=b.subRows)==null?void 0:E.length)})}function vf(b,C){return b.reduce(function(E,T,L){var F=""+T.values[C];return E[F]=Array.isArray(E[F])?E[F]:[],E[F].push(T),E},{})}var xf=/([0-9]+)/gm;function vc(b,C){return b===C?0:b>C?1:-1}function Mi(b,C,E){return[b.values[E],C.values[E]]}function yf(b){return typeof b=="number"?isNaN(b)||b===1/0||b===-1/0?"":String(b):typeof b=="string"?b:""}var O2=Object.freeze({__proto__:null,alphanumeric:function(b,C,E){var T=Mi(b,C,E),L=T[0],F=T[1];for(L=yf(L),F=yf(F),L=L.split(xf).filter(Boolean),F=F.split(xf).filter(Boolean);L.length&&F.length;){var B=L.shift(),W=F.shift(),Z=parseInt(B,10),q=parseInt(W,10),se=[Z,q].sort();if(isNaN(se[0])){if(B>W)return 1;if(W>B)return-1}else{if(isNaN(se[1]))return isNaN(Z)?-1:1;if(Z>q)return 1;if(q>Z)return-1}}return L.length-F.length},datetime:function(b,C,E){var T=Mi(b,C,E),L=T[0],F=T[1];return vc(L=L.getTime(),F=F.getTime())},basic:function(b,C,E){var T=Mi(b,C,E);return vc(T[0],T[1])},string:function(b,C,E){var T=Mi(b,C,E),L=T[0],F=T[1];for(L=L.split("").filter(Boolean),F=F.split("").filter(Boolean);L.length&&F.length;){var B=L.shift(),W=F.shift(),Z=B.toLowerCase(),q=W.toLowerCase();if(Z>q)return 1;if(q>Z)return-1;if(B>W)return 1;if(W>B)return-1}return L.length-F.length},number:function(b,C,E){var T=Mi(b,C,E),L=T[0],F=T[1],B=/[^0-9.]/gi;return vc(L=Number(String(L).replace(B,"")),F=Number(String(F).replace(B,"")))}});l.resetSortBy="resetSortBy",l.setSortBy="setSortBy",l.toggleSortBy="toggleSortBy",l.clearSortBy="clearSortBy",f.sortType="alphanumeric",f.sortDescFirst=!1;var wf=function(b){b.getSortByToggleProps=[$2],b.stateReducers.push(D2),b.useInstance.push(I2)};wf.pluginName="useSortBy";var $2=function(b,C){var E=C.instance,T=C.column,L=E.isMultiSortEvent,F=L===void 0?function(B){return B.shiftKey}:L;return[b,{onClick:T.canSort?function(B){B.persist(),T.toggleSortBy(void 0,!E.disableMultiSort&&F(B))}:void 0,style:{cursor:T.canSort?"pointer":void 0},title:T.canSort?"Toggle SortBy":void 0}]};function D2(b,C,E,T){if(C.type===l.init)return a({sortBy:[]},b);if(C.type===l.resetSortBy)return a({},b,{sortBy:T.initialState.sortBy||[]});if(C.type===l.clearSortBy)return a({},b,{sortBy:b.sortBy.filter(function(be){return be.id!==C.columnId})});if(C.type===l.setSortBy)return a({},b,{sortBy:C.sortBy});if(C.type===l.toggleSortBy){var L,F=C.columnId,B=C.desc,W=C.multi,Z=T.allColumns,q=T.disableMultiSort,se=T.disableSortRemove,te=T.disableMultiRemove,ne=T.maxMultiSortColCount,J=ne===void 0?Number.MAX_SAFE_INTEGER:ne,ee=b.sortBy,de=Z.find(function(be){return be.id===F}).sortDescFirst,le=ee.find(function(be){return be.id===F}),Se=ee.findIndex(function(be){return be.id===F}),Ie=B!=null,De=[];return(L=!q&&W?le?"toggle":"add":Se!==ee.length-1||ee.length!==1?"replace":le?"toggle":"replace")!="toggle"||se||Ie||W&&te||!(le&&le.desc&&!de||!le.desc&&de)||(L="remove"),L==="replace"?De=[{id:F,desc:Ie?B:de}]:L==="add"?(De=[].concat(ee,[{id:F,desc:Ie?B:de}])).splice(0,De.length-J):L==="toggle"?De=ee.map(function(be){return be.id===F?a({},be,{desc:Ie?B:!le.desc}):be}):L==="remove"&&(De=ee.filter(function(be){return be.id!==F})),a({},b,{sortBy:De})}}function I2(b){var C=b.data,E=b.rows,T=b.flatRows,L=b.allColumns,F=b.orderByFn,B=F===void 0?Sf:F,W=b.sortTypes,Z=b.manualSortBy,q=b.defaultCanSort,se=b.disableSortBy,te=b.flatHeaders,ne=b.state.sortBy,J=b.dispatch,ee=b.plugins,de=b.getHooks,le=b.autoResetSortBy,Se=le===void 0||le;w(ee,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var Ie=r.useCallback(function(_e){J({type:l.setSortBy,sortBy:_e})},[J]),De=r.useCallback(function(_e,Ae,Ye){J({type:l.toggleSortBy,columnId:_e,desc:Ae,multi:Ye})},[J]),be=_(b);te.forEach(function(_e){var Ae=_e.accessor,Ye=_e.canSort,Oe=_e.disableSortBy,Ue=_e.id,Ve=Ae?ae(Oe!==!0&&void 0,se!==!0&&void 0,!0):ae(q,Ye,!1);_e.canSort=Ve,_e.canSort&&(_e.toggleSortBy=function(ye,Be){return De(_e.id,ye,Be)},_e.clearSortBy=function(){J({type:l.clearSortBy,columnId:_e.id})}),_e.getSortByToggleProps=v(de().getSortByToggleProps,{instance:be(),column:_e});var Qe=ne.find(function(ye){return ye.id===Ue});_e.isSorted=!!Qe,_e.sortedIndex=ne.findIndex(function(ye){return ye.id===Ue}),_e.isSortedDesc=_e.isSorted?Qe.desc:void 0});var Je=r.useMemo(function(){if(Z||!ne.length)return[E,T];var _e=[],Ae=ne.filter(function(Ye){return L.find(function(Oe){return Oe.id===Ye.id})});return[function Ye(Oe){var Ue=B(Oe,Ae.map(function(Ve){var Qe=L.find(function(vt){return vt.id===Ve.id});if(!Qe)throw new Error("React-Table: Could not find a column with id: "+Ve.id+" while sorting");var ye=Qe.sortType,Be=je(ye)||(W||{})[ye]||O2[ye];if(!Be)throw new Error("React-Table: Could not find a valid sortType of '"+ye+"' for column '"+Ve.id+"'.");return function(vt,Gt){return Be(vt,Gt,Ve.id,Ve.desc)}}),Ae.map(function(Ve){var Qe=L.find(function(ye){return ye.id===Ve.id});return Qe&&Qe.sortInverted?Ve.desc:!Ve.desc}));return Ue.forEach(function(Ve){_e.push(Ve),Ve.subRows&&Ve.subRows.length!==0&&(Ve.subRows=Ye(Ve.subRows))}),Ue}(E),_e]},[Z,ne,E,T,L,B,W]),Me=Je[0],Fe=Je[1],ze=_(Se);M(function(){ze()&&J({type:l.resetSortBy})},[Z?null:C]),Object.assign(b,{preSortedRows:E,preSortedFlatRows:T,sortedRows:Me,sortedFlatRows:Fe,rows:Me,flatRows:Fe,setSortBy:Ie,toggleSortBy:De})}function Sf(b,C,E){return[].concat(b).sort(function(T,L){for(var F=0;F<C.length;F+=1){var B=C[F],W=E[F]===!1||E[F]==="desc",Z=B(T,L);if(Z!==0)return W?-Z:Z}return E[0]?T.index-L.index:L.index-T.index})}l.resetPage="resetPage",l.gotoPage="gotoPage",l.setPageSize="setPageSize";var Cf=function(b){b.stateReducers.push(N2),b.useInstance.push(L2)};function N2(b,C,E,T){if(C.type===l.init)return a({pageSize:10,pageIndex:0},b);if(C.type===l.resetPage)return a({},b,{pageIndex:T.initialState.pageIndex||0});if(C.type===l.gotoPage){var L=T.pageCount,F=T.page,B=k(C.pageIndex,b.pageIndex),W=!1;return B>b.pageIndex?W=L===-1?F.length>=b.pageSize:B<L:B<b.pageIndex&&(W=B>-1),W?a({},b,{pageIndex:B}):b}if(C.type===l.setPageSize){var Z=C.pageSize,q=b.pageSize*b.pageIndex;return a({},b,{pageIndex:Math.floor(q/Z),pageSize:Z})}}function L2(b){var C=b.rows,E=b.autoResetPage,T=E===void 0||E,L=b.manualExpandedKey,F=L===void 0?"expanded":L,B=b.plugins,W=b.pageCount,Z=b.paginateExpandedRows,q=Z===void 0||Z,se=b.expandSubRows,te=se===void 0||se,ne=b.state,J=ne.pageSize,ee=ne.pageIndex,de=ne.expanded,le=ne.globalFilter,Se=ne.filters,Ie=ne.groupBy,De=ne.sortBy,be=b.dispatch,Je=b.data,Me=b.manualPagination;w(B,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var Fe=_(T);M(function(){Fe()&&be({type:l.resetPage})},[be,Me?null:Je,le,Se,Ie,De]);var ze=Me?W:Math.ceil(C.length/J),_e=r.useMemo(function(){return ze>0?[].concat(new Array(ze)).fill(null).map(function(Be,vt){return vt}):[]},[ze]),Ae=r.useMemo(function(){var Be;if(Me)Be=C;else{var vt=J*ee,Gt=vt+J;Be=C.slice(vt,Gt)}return q?Be:me(Be,{manualExpandedKey:F,expanded:de,expandSubRows:te})},[te,de,F,Me,ee,J,q,C]),Ye=ee>0,Oe=ze===-1?Ae.length>=J:ee<ze-1,Ue=r.useCallback(function(Be){be({type:l.gotoPage,pageIndex:Be})},[be]),Ve=r.useCallback(function(){return Ue(function(Be){return Be-1})},[Ue]),Qe=r.useCallback(function(){return Ue(function(Be){return Be+1})},[Ue]),ye=r.useCallback(function(Be){be({type:l.setPageSize,pageSize:Be})},[be]);Object.assign(b,{pageOptions:_e,pageCount:ze,page:Ae,canPreviousPage:Ye,canNextPage:Oe,gotoPage:Ue,previousPage:Ve,nextPage:Qe,setPageSize:ye})}Cf.pluginName="usePagination",l.resetPivot="resetPivot",l.togglePivot="togglePivot";var kf=function(b){b.getPivotToggleProps=[H2],b.stateReducers.push(z2),b.useInstanceAfterData.push(B2),b.allColumns.push(j2),b.accessValue.push(V2),b.materializedColumns.push(G2),b.materializedColumnsDeps.push(W2),b.visibleColumns.push(U2),b.visibleColumnsDeps.push(X2),b.useInstance.push(Y2),b.prepareRow.push(Z2)};kf.pluginName="usePivotColumns";var Ef=[],H2=function(b,C){var E=C.header;return[b,{onClick:E.canPivot?function(T){T.persist(),E.togglePivot()}:void 0,style:{cursor:E.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function z2(b,C,E,T){if(C.type===l.init)return a({pivotColumns:Ef},b);if(C.type===l.resetPivot)return a({},b,{pivotColumns:T.initialState.pivotColumns||Ef});if(C.type===l.togglePivot){var L=C.columnId,F=C.value,B=F!==void 0?F:!b.pivotColumns.includes(L);return a({},b,B?{pivotColumns:[].concat(b.pivotColumns,[L])}:{pivotColumns:b.pivotColumns.filter(function(W){return W!==L})})}}function B2(b){b.allColumns.forEach(function(C){C.isPivotSource=b.state.pivotColumns.includes(C.id)})}function j2(b,C){var E=C.instance;return b.forEach(function(T){T.isPivotSource=E.state.pivotColumns.includes(T.id),T.uniqueValues=new Set}),b}function V2(b,C){var E=C.column;return E.uniqueValues&&b!==void 0&&E.uniqueValues.add(b),b}function G2(b,C){var E=C.instance,T=E.allColumns,L=E.state;if(!L.pivotColumns.length||!L.groupBy||!L.groupBy.length)return b;var F=L.pivotColumns.map(function(Z){return T.find(function(q){return q.id===Z})}).filter(Boolean),B=T.filter(function(Z){return!Z.isPivotSource&&!L.groupBy.includes(Z.id)&&!L.pivotColumns.includes(Z.id)}),W=D(function Z(q,se,te){q===void 0&&(q=0),te===void 0&&(te=[]);var ne=F[q];return ne?Array.from(ne.uniqueValues).sort().map(function(J){var ee=a({},ne,{Header:ne.PivotHeader||typeof ne.header=="string"?ne.Header+": "+J:J,isPivotGroup:!0,parent:se,depth:q,id:se?se.id+"."+ne.id+"."+J:ne.id+"."+J,pivotValue:J});return ee.columns=Z(q+1,ee,[].concat(te,[function(de){return de.values[ne.id]===J}])),ee}):B.map(function(J){return a({},J,{canPivot:!1,isPivoted:!0,parent:se,depth:q,id:""+(se?se.id+"."+J.id:J.id),accessor:function(ee,de,le){if(te.every(function(Se){return Se(le)}))return le.values[J.id]}})})}());return[].concat(b,W)}function W2(b,C){var E=C.instance.state,T=E.pivotColumns,L=E.groupBy;return[].concat(b,[T,L])}function U2(b,C){var E=C.instance.state;return b=b.filter(function(T){return!T.isPivotSource}),E.pivotColumns.length&&E.groupBy&&E.groupBy.length&&(b=b.filter(function(T){return T.isGrouped||T.isPivoted})),b}function X2(b,C){var E=C.instance;return[].concat(b,[E.state.pivotColumns,E.state.groupBy])}function Y2(b){var C=b.columns,E=b.allColumns,T=b.flatHeaders,L=b.getHooks,F=b.plugins,B=b.dispatch,W=b.autoResetPivot,Z=W===void 0||W,q=b.manaulPivot,se=b.disablePivot,te=b.defaultCanPivot;w(F,["useGroupBy"],"usePivotColumns");var ne=_(b);E.forEach(function(ee){var de=ee.accessor,le=ee.defaultPivot,Se=ee.disablePivot;ee.canPivot=de?ae(ee.canPivot,Se!==!0&&void 0,se!==!0&&void 0,!0):ae(ee.canPivot,le,te,!1),ee.canPivot&&(ee.togglePivot=function(){return b.togglePivot(ee.id)}),ee.Aggregated=ee.Aggregated||ee.Cell}),T.forEach(function(ee){ee.getPivotToggleProps=v(L().getPivotToggleProps,{instance:ne(),header:ee})});var J=_(Z);M(function(){J()&&B({type:l.resetPivot})},[B,q?null:C]),Object.assign(b,{togglePivot:function(ee,de){B({type:l.togglePivot,columnId:ee,value:de})}})}function Z2(b){b.allCells.forEach(function(C){C.isPivoted=C.column.isPivoted})}l.resetSelectedRows="resetSelectedRows",l.toggleAllRowsSelected="toggleAllRowsSelected",l.toggleRowSelected="toggleRowSelected",l.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var _f=function(b){b.getToggleRowSelectedProps=[K2],b.getToggleAllRowsSelectedProps=[q2],b.getToggleAllPageRowsSelectedProps=[J2],b.stateReducers.push(Q2),b.useInstance.push(ew),b.prepareRow.push(tw)};_f.pluginName="useRowSelect";var K2=function(b,C){var E=C.instance,T=C.row,L=E.manualRowSelectedKey,F=L===void 0?"isSelected":L;return[b,{onChange:function(B){T.toggleRowSelected(B.target.checked)},style:{cursor:"pointer"},checked:!(!T.original||!T.original[F])||T.isSelected,title:"Toggle Row Selected",indeterminate:T.isSomeSelected}]},q2=function(b,C){var E=C.instance;return[b,{onChange:function(T){E.toggleAllRowsSelected(T.target.checked)},style:{cursor:"pointer"},checked:E.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!E.isAllRowsSelected&&Object.keys(E.state.selectedRowIds).length)}]},J2=function(b,C){var E=C.instance;return[b,{onChange:function(T){E.toggleAllPageRowsSelected(T.target.checked)},style:{cursor:"pointer"},checked:E.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!E.isAllPageRowsSelected&&E.page.some(function(T){var L=T.id;return E.state.selectedRowIds[L]}))}]};function Q2(b,C,E,T){if(C.type===l.init)return a({selectedRowIds:{}},b);if(C.type===l.resetSelectedRows)return a({},b,{selectedRowIds:T.initialState.selectedRowIds||{}});if(C.type===l.toggleAllRowsSelected){var L=C.value,F=T.isAllRowsSelected,B=T.rowsById,W=T.nonGroupedRowsById,Z=W===void 0?B:W,q=L!==void 0?L:!F,se=Object.assign({},b.selectedRowIds);return q?Object.keys(Z).forEach(function(Ue){se[Ue]=!0}):Object.keys(Z).forEach(function(Ue){delete se[Ue]}),a({},b,{selectedRowIds:se})}if(C.type===l.toggleRowSelected){var te=C.id,ne=C.value,J=T.rowsById,ee=T.selectSubRows,de=ee===void 0||ee,le=T.getSubRows,Se=b.selectedRowIds[te],Ie=ne!==void 0?ne:!Se;if(Se===Ie)return b;var De=a({},b.selectedRowIds);return function Ue(Ve){var Qe=J[Ve];if(Qe.isGrouped||(Ie?De[Ve]=!0:delete De[Ve]),de&&le(Qe))return le(Qe).forEach(function(ye){return Ue(ye.id)})}(te),a({},b,{selectedRowIds:De})}if(C.type===l.toggleAllPageRowsSelected){var be=C.value,Je=T.page,Me=T.rowsById,Fe=T.selectSubRows,ze=Fe===void 0||Fe,_e=T.isAllPageRowsSelected,Ae=T.getSubRows,Ye=be!==void 0?be:!_e,Oe=a({},b.selectedRowIds);return Je.forEach(function(Ue){return function Ve(Qe){var ye=Me[Qe];if(ye.isGrouped||(Ye?Oe[Qe]=!0:delete Oe[Qe]),ze&&Ae(ye))return Ae(ye).forEach(function(Be){return Ve(Be.id)})}(Ue.id)}),a({},b,{selectedRowIds:Oe})}return b}function ew(b){var C=b.data,E=b.rows,T=b.getHooks,L=b.plugins,F=b.rowsById,B=b.nonGroupedRowsById,W=B===void 0?F:B,Z=b.autoResetSelectedRows,q=Z===void 0||Z,se=b.state.selectedRowIds,te=b.selectSubRows,ne=te===void 0||te,J=b.dispatch,ee=b.page,de=b.getSubRows;w(L,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var le=r.useMemo(function(){var Ae=[];return E.forEach(function(Ye){var Oe=ne?function Ue(Ve,Qe,ye){if(Qe[Ve.id])return!0;var Be=ye(Ve);if(Be&&Be.length){var vt=!0,Gt=!1;return Be.forEach(function(Te){Gt&&!vt||(Ue(Te,Qe,ye)?Gt=!0:vt=!1)}),!!vt||!!Gt&&null}return!1}(Ye,se,de):!!se[Ye.id];Ye.isSelected=!!Oe,Ye.isSomeSelected=Oe===null,Oe&&Ae.push(Ye)}),Ae},[E,ne,se,de]),Se=Boolean(Object.keys(W).length&&Object.keys(se).length),Ie=Se;Se&&Object.keys(W).some(function(Ae){return!se[Ae]})&&(Se=!1),Se||ee&&ee.length&&ee.some(function(Ae){var Ye=Ae.id;return!se[Ye]})&&(Ie=!1);var De=_(q);M(function(){De()&&J({type:l.resetSelectedRows})},[J,C]);var be=r.useCallback(function(Ae){return J({type:l.toggleAllRowsSelected,value:Ae})},[J]),Je=r.useCallback(function(Ae){return J({type:l.toggleAllPageRowsSelected,value:Ae})},[J]),Me=r.useCallback(function(Ae,Ye){return J({type:l.toggleRowSelected,id:Ae,value:Ye})},[J]),Fe=_(b),ze=v(T().getToggleAllRowsSelectedProps,{instance:Fe()}),_e=v(T().getToggleAllPageRowsSelectedProps,{instance:Fe()});Object.assign(b,{selectedFlatRows:le,isAllRowsSelected:Se,isAllPageRowsSelected:Ie,toggleRowSelected:Me,toggleAllRowsSelected:be,getToggleAllRowsSelectedProps:ze,getToggleAllPageRowsSelectedProps:_e,toggleAllPageRowsSelected:Je})}function tw(b,C){var E=C.instance;b.toggleRowSelected=function(T){return E.toggleRowSelected(b.id,T)},b.getToggleRowSelectedProps=v(E.getHooks().getToggleRowSelectedProps,{instance:E,row:b})}var Tf=function(b){return{}},Rf=function(b){return{}};l.setRowState="setRowState",l.setCellState="setCellState",l.resetRowState="resetRowState";var Af=function(b){b.stateReducers.push(nw),b.useInstance.push(rw),b.prepareRow.push(ow)};function nw(b,C,E,T){var L=T.initialRowStateAccessor,F=L===void 0?Tf:L,B=T.initialCellStateAccessor,W=B===void 0?Rf:B,Z=T.rowsById;if(C.type===l.init)return a({rowState:{}},b);if(C.type===l.resetRowState)return a({},b,{rowState:T.initialState.rowState||{}});if(C.type===l.setRowState){var q,se=C.rowId,te=C.value,ne=b.rowState[se]!==void 0?b.rowState[se]:F(Z[se]);return a({},b,{rowState:a({},b.rowState,(q={},q[se]=k(te,ne),q))})}if(C.type===l.setCellState){var J,ee,de,le,Se,Ie=C.rowId,De=C.columnId,be=C.value,Je=b.rowState[Ie]!==void 0?b.rowState[Ie]:F(Z[Ie]),Me=(Je==null||(J=Je.cellState)==null?void 0:J[De])!==void 0?Je.cellState[De]:W((ee=Z[Ie])==null||(de=ee.cells)==null?void 0:de.find(function(Fe){return Fe.column.id===De}));return a({},b,{rowState:a({},b.rowState,(Se={},Se[Ie]=a({},Je,{cellState:a({},Je.cellState||{},(le={},le[De]=k(be,Me),le))}),Se))})}}function rw(b){var C=b.autoResetRowState,E=C===void 0||C,T=b.data,L=b.dispatch,F=r.useCallback(function(Z,q){return L({type:l.setRowState,rowId:Z,value:q})},[L]),B=r.useCallback(function(Z,q,se){return L({type:l.setCellState,rowId:Z,columnId:q,value:se})},[L]),W=_(E);M(function(){W()&&L({type:l.resetRowState})},[T]),Object.assign(b,{setRowState:F,setCellState:B})}function ow(b,C){var E=C.instance,T=E.initialRowStateAccessor,L=T===void 0?Tf:T,F=E.initialCellStateAccessor,B=F===void 0?Rf:F,W=E.state.rowState;b&&(b.state=W[b.id]!==void 0?W[b.id]:L(b),b.setState=function(Z){return E.setRowState(b.id,Z)},b.cells.forEach(function(Z){b.state.cellState||(b.state.cellState={}),Z.state=b.state.cellState[Z.column.id]!==void 0?b.state.cellState[Z.column.id]:B(Z),Z.setState=function(q){return E.setCellState(b.id,Z.column.id,q)}}))}Af.pluginName="useRowState",l.resetColumnOrder="resetColumnOrder",l.setColumnOrder="setColumnOrder";var Pf=function(b){b.stateReducers.push(iw),b.visibleColumnsDeps.push(function(C,E){var T=E.instance;return[].concat(C,[T.state.columnOrder])}),b.visibleColumns.push(aw),b.useInstance.push(sw)};function iw(b,C,E,T){return C.type===l.init?a({columnOrder:[]},b):C.type===l.resetColumnOrder?a({},b,{columnOrder:T.initialState.columnOrder||[]}):C.type===l.setColumnOrder?a({},b,{columnOrder:k(C.columnOrder,b.columnOrder)}):void 0}function aw(b,C){var E=C.instance.state.columnOrder;if(!E||!E.length)return b;for(var T=[].concat(E),L=[].concat(b),F=[],B=function(){var W=T.shift(),Z=L.findIndex(function(q){return q.id===W});Z>-1&&F.push(L.splice(Z,1)[0])};L.length&&T.length;)B();return[].concat(F,L)}function sw(b){var C=b.dispatch;b.setColumnOrder=r.useCallback(function(E){return C({type:l.setColumnOrder,columnOrder:E})},[C])}Pf.pluginName="useColumnOrder",f.canResize=!0,l.columnStartResizing="columnStartResizing",l.columnResizing="columnResizing",l.columnDoneResizing="columnDoneResizing",l.resetResize="resetResize";var Mf=function(b){b.getResizerProps=[lw],b.getHeaderProps.push({style:{position:"relative"}}),b.stateReducers.push(cw),b.useInstance.push(dw),b.useInstanceBeforeDimensions.push(uw)},lw=function(b,C){var E=C.instance,T=C.header,L=E.dispatch,F=function(B,W){var Z=!1;if(B.type==="touchstart"){if(B.touches&&B.touches.length>1)return;Z=!0}var q=function(le){var Se=[];return function Ie(De){De.columns&&De.columns.length&&De.columns.map(Ie),Se.push(De)}(le),Se}(W).map(function(le){return[le.id,le.totalWidth]}),se=Z?Math.round(B.touches[0].clientX):B.clientX,te=function(le){L({type:l.columnResizing,clientX:le})},ne=function(){return L({type:l.columnDoneResizing})},J={mouse:{moveEvent:"mousemove",moveHandler:function(le){return te(le.clientX)},upEvent:"mouseup",upHandler:function(le){document.removeEventListener("mousemove",J.mouse.moveHandler),document.removeEventListener("mouseup",J.mouse.upHandler),ne()}},touch:{moveEvent:"touchmove",moveHandler:function(le){return le.cancelable&&(le.preventDefault(),le.stopPropagation()),te(le.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(le){document.removeEventListener(J.touch.moveEvent,J.touch.moveHandler),document.removeEventListener(J.touch.upEvent,J.touch.moveHandler),ne()}}},ee=Z?J.touch:J.mouse,de=!!function(){if(typeof St=="boolean")return St;var le=!1;try{var Se={get passive(){return le=!0,!1}};window.addEventListener("test",null,Se),window.removeEventListener("test",null,Se)}catch{le=!1}return St=le}()&&{passive:!1};document.addEventListener(ee.moveEvent,ee.moveHandler,de),document.addEventListener(ee.upEvent,ee.upHandler,de),L({type:l.columnStartResizing,columnId:W.id,columnWidth:W.totalWidth,headerIdWidths:q,clientX:se})};return[b,{onMouseDown:function(B){return B.persist()||F(B,T)},onTouchStart:function(B){return B.persist()||F(B,T)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function cw(b,C){if(C.type===l.init)return a({columnResizing:{columnWidths:{}}},b);if(C.type===l.resetResize)return a({},b,{columnResizing:{columnWidths:{}}});if(C.type===l.columnStartResizing){var E=C.clientX,T=C.columnId,L=C.columnWidth,F=C.headerIdWidths;return a({},b,{columnResizing:a({},b.columnResizing,{startX:E,headerIdWidths:F,columnWidth:L,isResizingColumn:T})})}if(C.type===l.columnResizing){var B=C.clientX,W=b.columnResizing,Z=W.startX,q=W.columnWidth,se=W.headerIdWidths,te=(B-Z)/q,ne={};return(se===void 0?[]:se).forEach(function(J){var ee=J[0],de=J[1];ne[ee]=Math.max(de+de*te,0)}),a({},b,{columnResizing:a({},b.columnResizing,{columnWidths:a({},b.columnResizing.columnWidths,{},ne)})})}return C.type===l.columnDoneResizing?a({},b,{columnResizing:a({},b.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Mf.pluginName="useResizeColumns";var uw=function(b){var C=b.flatHeaders,E=b.disableResizing,T=b.getHooks,L=b.state.columnResizing,F=_(b);C.forEach(function(B){var W=ae(B.disableResizing!==!0&&void 0,E!==!0&&void 0,!0);B.canResize=W,B.width=L.columnWidths[B.id]||B.originalWidth||B.width,B.isResizing=L.isResizingColumn===B.id,W&&(B.getResizerProps=v(T().getResizerProps,{instance:F(),header:B}))})};function dw(b){var C=b.plugins,E=b.dispatch,T=b.autoResetResize,L=T===void 0||T,F=b.columns;w(C,["useAbsoluteLayout"],"useResizeColumns");var B=_(L);M(function(){B()&&E({type:l.resetResize})},[F]);var W=r.useCallback(function(){return E({type:l.resetResize})},[E]);Object.assign(b,{resetResizing:W})}var xc={position:"absolute",top:0},Ff=function(b){b.getTableBodyProps.push(Ss),b.getRowProps.push(Ss),b.getHeaderGroupProps.push(Ss),b.getFooterGroupProps.push(Ss),b.getHeaderProps.push(function(C,E){var T=E.column;return[C,{style:a({},xc,{left:T.totalLeft+"px",width:T.totalWidth+"px"})}]}),b.getCellProps.push(function(C,E){var T=E.cell;return[C,{style:a({},xc,{left:T.column.totalLeft+"px",width:T.column.totalWidth+"px"})}]}),b.getFooterProps.push(function(C,E){var T=E.column;return[C,{style:a({},xc,{left:T.totalLeft+"px",width:T.totalWidth+"px"})}]})};Ff.pluginName="useAbsoluteLayout";var Ss=function(b,C){return[b,{style:{position:"relative",width:C.instance.totalColumnsWidth+"px"}}]},yc={display:"inline-block",boxSizing:"border-box"},wc=function(b,C){return[b,{style:{display:"flex",width:C.instance.totalColumnsWidth+"px"}}]},Of=function(b){b.getRowProps.push(wc),b.getHeaderGroupProps.push(wc),b.getFooterGroupProps.push(wc),b.getHeaderProps.push(function(C,E){var T=E.column;return[C,{style:a({},yc,{width:T.totalWidth+"px"})}]}),b.getCellProps.push(function(C,E){var T=E.cell;return[C,{style:a({},yc,{width:T.column.totalWidth+"px"})}]}),b.getFooterProps.push(function(C,E){var T=E.column;return[C,{style:a({},yc,{width:T.totalWidth+"px"})}]})};function $f(b){b.getTableProps.push(pw),b.getRowProps.push(Sc),b.getHeaderGroupProps.push(Sc),b.getFooterGroupProps.push(Sc),b.getHeaderProps.push(fw),b.getCellProps.push(hw),b.getFooterProps.push(gw)}Of.pluginName="useBlockLayout",$f.pluginName="useFlexLayout";var pw=function(b,C){return[b,{style:{minWidth:C.instance.totalColumnsMinWidth+"px"}}]},Sc=function(b,C){return[b,{style:{display:"flex",flex:"1 0 auto",minWidth:C.instance.totalColumnsMinWidth+"px"}}]},fw=function(b,C){var E=C.column;return[b,{style:{boxSizing:"border-box",flex:E.totalFlexWidth?E.totalFlexWidth+" 0 auto":void 0,minWidth:E.totalMinWidth+"px",width:E.totalWidth+"px"}}]},hw=function(b,C){var E=C.cell;return[b,{style:{boxSizing:"border-box",flex:E.column.totalFlexWidth+" 0 auto",minWidth:E.column.totalMinWidth+"px",width:E.column.totalWidth+"px"}}]},gw=function(b,C){var E=C.column;return[b,{style:{boxSizing:"border-box",flex:E.totalFlexWidth?E.totalFlexWidth+" 0 auto":void 0,minWidth:E.totalMinWidth+"px",width:E.totalWidth+"px"}}]};function Df(b){b.stateReducers.push(vw),b.getTableProps.push(mw),b.getHeaderProps.push(bw)}Df.pluginName="useGridLayout";var mw=function(b,C){return[b,{style:{display:"grid",gridTemplateColumns:C.instance.state.gridLayout.columnWidths.map(function(E){return E}).join(" ")}}]},bw=function(b,C){return[b,{id:"header-cell-"+C.column.id,style:{position:"sticky"}}]};function vw(b,C,E,T){if(C.type==="init")return a({gridLayout:{columnWidths:T.columns.map(function(){return"auto"})}},b);if(C.type==="columnStartResizing"){var L=C.columnId,F=T.visibleColumns.findIndex(function(J){return J.id===L}),B=function(J){var ee,de=(ee=document.getElementById("header-cell-"+J))==null?void 0:ee.offsetWidth;if(de!==void 0)return de}(L);return B!==void 0?a({},b,{gridLayout:a({},b.gridLayout,{columnId:L,columnIndex:F,startingWidth:B})}):b}if(C.type==="columnResizing"){var W=b.gridLayout,Z=W.columnIndex,q=W.startingWidth,se=W.columnWidths,te=q-(b.columnResizing.startX-C.clientX),ne=[].concat(se);return ne[Z]=te+"px",a({},b,{gridLayout:a({},b.gridLayout,{columnWidths:ne})})}}n._UNSTABLE_usePivotColumns=kf,n.actions=l,n.defaultColumn=f,n.defaultGroupByFn=vf,n.defaultOrderByFn=Sf,n.defaultRenderer=u,n.emptyRenderer=p,n.ensurePluginOrder=w,n.flexRender=H,n.functionalUpdate=k,n.loopHooks=y,n.makePropGetter=v,n.makeRenderer=N,n.reduceHooks=x,n.safeUseLayoutEffect=R,n.useAbsoluteLayout=Ff,n.useAsyncDebounce=function(b,C){C===void 0&&(C=0);var E=r.useRef({}),T=_(b),L=_(C);return r.useCallback(function(){var F=i(regeneratorRuntime.mark(function B(){var W,Z,q,se=arguments;return regeneratorRuntime.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:for(W=se.length,Z=new Array(W),q=0;q<W;q++)Z[q]=se[q];return E.current.promise||(E.current.promise=new Promise(function(ne,J){E.current.resolve=ne,E.current.reject=J})),E.current.timeout&&clearTimeout(E.current.timeout),E.current.timeout=setTimeout(i(regeneratorRuntime.mark(function ne(){return regeneratorRuntime.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return delete E.current.timeout,J.prev=1,J.t0=E.current,J.next=5,T().apply(void 0,Z);case 5:J.t1=J.sent,J.t0.resolve.call(J.t0,J.t1),J.next=12;break;case 9:J.prev=9,J.t2=J.catch(1),E.current.reject(J.t2);case 12:return J.prev=12,delete E.current.promise,J.finish(12);case 15:case"end":return J.stop()}},ne,null,[[1,9,12,15]])})),L()),te.abrupt("return",E.current.promise);case 5:case"end":return te.stop()}},B)}));return function(){return F.apply(this,arguments)}}(),[T,L])},n.useBlockLayout=Of,n.useColumnOrder=Pf,n.useExpanded=Eo,n.useFilters=ff,n.useFlexLayout=$f,n.useGetLatest=_,n.useGlobalFilter=hf,n.useGridLayout=Df,n.useGroupBy=bf,n.useMountedLayoutEffect=M,n.usePagination=Cf,n.useResizeColumns=Mf,n.useRowSelect=_f,n.useRowState=Af,n.useSortBy=wf,n.useTable=function(b){for(var C=arguments.length,E=new Array(C>1?C-1:0),T=1;T<C;T++)E[T-1]=arguments[T];b=Ze(b),E=[O].concat(E);var L=r.useRef({}),F=_(L.current);Object.assign(F(),a({},b,{plugins:E,hooks:Ri()})),E.filter(Boolean).forEach(function(Te){Te(F().hooks)});var B=_(F().hooks);F().getHooks=B,delete F().hooks,Object.assign(F(),x(B().useOptions,Ze(b)));var W=F(),Z=W.data,q=W.columns,se=W.initialState,te=W.defaultColumn,ne=W.getSubRows,J=W.getRowId,ee=W.stateReducer,de=W.useControlledState,le=_(ee),Se=r.useCallback(function(Te,st){if(!st.type)throw console.info({action:st}),new Error("Unknown Action \u{1F446}");return[].concat(B().stateReducers,Array.isArray(le())?le():[le()]).reduce(function(Ct,Wt){return Wt(Ct,st,Te,F())||Ct},Te)},[B,le,F]),Ie=r.useReducer(Se,void 0,function(){return Se(se,{type:l.init})}),De=Ie[0],be=Ie[1],Je=x([].concat(B().useControlledState,[de]),De,{instance:F()});Object.assign(F(),{state:Je,dispatch:be});var Me=r.useMemo(function(){return A(x(B().columns,q,{instance:F()}))},[B,F,q].concat(x(B().columnsDeps,[],{instance:F()})));F().columns=Me;var Fe=r.useMemo(function(){return x(B().allColumns,D(Me),{instance:F()}).map(z)},[Me,B,F].concat(x(B().allColumnsDeps,[],{instance:F()})));F().allColumns=Fe;var ze=r.useMemo(function(){for(var Te=[],st=[],Ct={},Wt=[].concat(Fe);Wt.length;){var Pt=Wt.shift();Rn({data:Z,rows:Te,flatRows:st,rowsById:Ct,column:Pt,getRowId:J,getSubRows:ne,accessValueHooks:B().accessValue,getInstance:F})}return[Te,st,Ct]},[Fe,Z,J,ne,B,F]),_e=ze[0],Ae=ze[1],Ye=ze[2];Object.assign(F(),{rows:_e,initialRows:[].concat(_e),flatRows:Ae,rowsById:Ye}),y(B().useInstanceAfterData,F());var Oe=r.useMemo(function(){return x(B().visibleColumns,Fe,{instance:F()}).map(function(Te){return U(Te,te)})},[B,Fe,F,te].concat(x(B().visibleColumnsDeps,[],{instance:F()})));Fe=r.useMemo(function(){var Te=[].concat(Oe);return Fe.forEach(function(st){Te.find(function(Ct){return Ct.id===st.id})||Te.push(st)}),Te},[Fe,Oe]),F().allColumns=Fe;var Ue=r.useMemo(function(){return x(B().headerGroups,Y(Oe,te),F())},[B,Oe,te,F].concat(x(B().headerGroupsDeps,[],{instance:F()})));F().headerGroups=Ue;var Ve=r.useMemo(function(){return Ue.length?Ue[0].headers:[]},[Ue]);F().headers=Ve,F().flatHeaders=Ue.reduce(function(Te,st){return[].concat(Te,st.headers)},[]),y(B().useInstanceBeforeDimensions,F());var Qe=Oe.filter(function(Te){return Te.isVisible}).map(function(Te){return Te.id}).sort().join("_");Oe=r.useMemo(function(){return Oe.filter(function(Te){return Te.isVisible})},[Oe,Qe]),F().visibleColumns=Oe;var ye=yt(Ve),Be=ye[0],vt=ye[1],Gt=ye[2];return F().totalColumnsMinWidth=Be,F().totalColumnsWidth=vt,F().totalColumnsMaxWidth=Gt,y(B().useInstance,F()),[].concat(F().flatHeaders,F().allColumns).forEach(function(Te){Te.render=N(F(),Te),Te.getHeaderProps=v(B().getHeaderProps,{instance:F(),column:Te}),Te.getFooterProps=v(B().getFooterProps,{instance:F(),column:Te})}),F().headerGroups=r.useMemo(function(){return Ue.filter(function(Te,st){return Te.headers=Te.headers.filter(function(Ct){return Ct.headers?function Wt(Pt){return Pt.filter(function(cr){return cr.headers?Wt(cr.headers):cr.isVisible}).length}(Ct.headers):Ct.isVisible}),!!Te.headers.length&&(Te.getHeaderGroupProps=v(B().getHeaderGroupProps,{instance:F(),headerGroup:Te,index:st}),Te.getFooterGroupProps=v(B().getFooterGroupProps,{instance:F(),headerGroup:Te,index:st}),!0)})},[Ue,F,B]),F().footerGroups=[].concat(F().headerGroups).reverse(),F().prepareRow=r.useCallback(function(Te){Te.getRowProps=v(B().getRowProps,{instance:F(),row:Te}),Te.allCells=Fe.map(function(st){var Ct=Te.values[st.id],Wt={column:st,row:Te,value:Ct};return Wt.getCellProps=v(B().getCellProps,{instance:F(),cell:Wt}),Wt.render=N(F(),st,{row:Te,cell:Wt,value:Ct}),Wt}),Te.cells=Oe.map(function(st){return Te.allCells.find(function(Ct){return Ct.column.id===st.id})}),y(B().prepareRow,Te,{instance:F()})},[B,F,Fe,Oe]),F().getTableProps=v(B().getTableProps,{instance:F()}),F().getTableBodyProps=v(B().getTableBodyProps,{instance:F()}),y(B().useFinalInstance,F()),F()},Object.defineProperty(n,"__esModule",{value:!0})})})(Mu,Mu.exports);Xo.exports=Mu.exports;const fF=X`
  background-color: #ff6f0057;
`,hF=X`
  background-color: #f5f5dc;
`,ax=X`
  border-spacing: 0;
  border: 1px solid #dedede;
  width: 100%;
  max-height: 100%;
  font-size: 12px;

  .react-contextmenu-wrapper {
    display: contents;
  }

  tr {
    :last-child {
      td {
        border-bottom: 0;
      }
    }
  }

  th {
    position: sticky;
    background-color: white;
    z-index: 0;
    top: 0;
  }
  th,
  td {
    margin: 0;
    padding: 0.15rem 0.4rem;
    border-bottom: 1px solid #dedede;
    border-right: 1px solid #dedede;

    // :last-child {
    //   border-right: 0;
    // }
    button {
      background-color: transparent;
      border: none;
    }
  }
`;function gF({data:e,columns:t,onMouseDown:n=()=>null}){const{getTableProps:r,getTableBodyProps:o,headerGroups:i,rows:a,prepareRow:s}=Xo.exports.useTable({columns:t,data:e},Xo.exports.useSortBy,Xo.exports.useFlexLayout);return $("table",P(S({},r()),{css:ax,style:{height:"100%"},children:[h("thead",{children:i.map(c=>h("tr",P(S({},c.getHeaderGroupProps()),{children:c.headers.map(l=>$("th",P(S({},l.getHeaderProps(l.getSortByToggleProps())),{children:[l.render("Header"),h("span",{children:l.isSorted?l.isSortedDesc?" \u25BC":" \u25B2":""})]}),l.getHeaderProps().key))}),c.getHeaderGroupProps().key))}),h("tbody",P(S({},o()),{style:{display:"block",height:"100%",overflowY:"auto"},children:a.map(c=>(s(c),h("tr",P(S({},c.getRowProps()),{onMouseDown:n,children:c.cells.map(l=>h("td",P(S({},l.getCellProps()),{style:P(S({},l.getCellProps().style),{padding:"0px"}),children:l.render("Cell")}),l.getCellProps().key))}),c.getRowProps().key)))}))]}))}var mF=d.exports.memo(gF);const Lc={container:{height:"100%",flexDirection:"column",display:"flex",width:"100%"},tableContainer:{height:"calc(100% - 30px)",overflow:"auto",display:"block"},searchInput:{width:"100%",borderRadius:"5px",border:"0.55px solid gray",padding:"5px",marginBottom:"2px"}};function bF({info:e,meta:t}){const[n,r]=d.exports.useState({}),[o,i]=d.exports.useState([]),a=d.exports.useRef(null),s=d.exports.useCallback(l=>{const u=Object.keys(n).filter(p=>p.toLowerCase().includes(l.target?l.target.value.toLowerCase():l.toLowerCase()));i(u)},[n]);d.exports.useEffect(()=>{a.current&&s(a.current.value)},[s,a]),d.exports.useEffect(()=>{if(e&&t){const l=Object.keys(e).concat(Object.keys(t));i(l),r(S(S({},e),t))}},[e,t]);const c=d.exports.useMemo(()=>[{Header:"Parameter",sortType:"basic",minWidth:100,width:20,maxWidth:20,Cell:({row:l})=>m("p",{style:{padding:"5px",backgroundColor:"white"},children:l.original})},{Header:"Value",sortType:"basic",resizable:!0,Cell:({row:l})=>m("p",{style:{backgroundColor:"#efefef",height:"100%",padding:"5px",fontFamily:"monospace",whiteSpace:"pre",overflow:"hidden"},children:`${n[l.original]}`})}],[n]);return G("div",{style:Lc.container,children:[m("div",{children:m("input",{type:"text",style:Lc.searchInput,placeholder:"Search for parameter...",onChange:s,ref:a})}),m("div",{style:Lc.tableContainer,children:m(mF,{data:o,columns:c})})]})}const vF=d.exports.memo(bF),xF={info:{},meta:{}};function yF(){const{info:e,meta:t}=Vt(xF);return m(vF,{info:e,meta:t})}function sx(e){return pa({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.879 9.934c-0.208 0-0.416-0.079-0.575-0.238-1.486-1.486-1.486-3.905 0-5.392l3-3c0.72-0.72 1.678-1.117 2.696-1.117s1.976 0.397 2.696 1.117c1.486 1.487 1.486 3.905 0 5.392l-1.371 1.371c-0.317 0.317-0.832 0.317-1.149 0s-0.317-0.832 0-1.149l1.371-1.371c0.853-0.853 0.853-2.241 0-3.094-0.413-0.413-0.963-0.641-1.547-0.641s-1.134 0.228-1.547 0.641l-3 3c-0.853 0.853-0.853 2.241 0 3.094 0.317 0.317 0.317 0.832 0 1.149-0.159 0.159-0.367 0.238-0.575 0.238z"}},{tag:"path",attr:{d:"M4 15.813c-1.018 0-1.976-0.397-2.696-1.117-1.486-1.486-1.486-3.905 0-5.392l1.371-1.371c0.317-0.317 0.832-0.317 1.149 0s0.317 0.832 0 1.149l-1.371 1.371c-0.853 0.853-0.853 2.241 0 3.094 0.413 0.413 0.962 0.641 1.547 0.641s1.134-0.228 1.547-0.641l3-3c0.853-0.853 0.853-2.241 0-3.094-0.317-0.317-0.317-0.832 0-1.149s0.832-0.317 1.149 0c1.486 1.486 1.486 3.905 0 5.392l-3 3c-0.72 0.72-1.678 1.117-2.696 1.117z"}}]})(e)}var Fu;try{Fu=Map}catch{}var Ou;try{Ou=Set}catch{}function lx(e,t,n){if(!e||typeof e!="object"||typeof e=="function")return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map($u);if(Fu&&e instanceof Fu)return new Map(Array.from(e.entries()));if(Ou&&e instanceof Ou)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var r=Object.create(e);n.push(r);for(var o in e){var i=t.findIndex(function(a){return a===e[o]});r[o]=i>-1?n[i]:lx(e[o],t,n)}return r}return e}function $u(e){return lx(e,[],[])}const wF=Object.prototype.toString,SF=Error.prototype.toString,CF=RegExp.prototype.toString,kF=typeof Symbol!="undefined"?Symbol.prototype.toString:()=>"",EF=/^Symbol\((.*)\)(.*)$/;function _F(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function hg(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return _F(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return kF.call(e).replace(EF,"Symbol($1)");const r=wF.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+SF.call(e)+"]":r==="RegExp"?CF.call(e):null}function oi(e,t){let n=hg(e,t);return n!==null?n:JSON.stringify(e,function(r,o){let i=hg(this[r],t);return i!==null?i:o},2)}let Zr={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{let o=r!=null&&r!==n,i=`${e} must be a \`${t}\` type, but the final value was: \`${oi(n,!0)}\``+(o?` (cast from the value \`${oi(r,!0)}\`).`:".");return n===null&&(i+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),i},defined:"${path} must be defined"},Mn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},mr={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Du={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Iu={isValue:"${path} field must be ${value}"},Nu={noUnknown:"${path} field has unspecified keys: ${unknown}"},Zs={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:Zr,string:Mn,number:mr,date:Du,object:Nu,array:Zs,boolean:Iu});var TF=Object.prototype,RF=TF.hasOwnProperty;function AF(e,t){return e!=null&&RF.call(e,t)}var PF=AF,MF=PF,FF=vS;function OF(e,t){return e!=null&&FF(e,t,MF)}var gl=OF;const dp=e=>e&&e.__isYupSchema__;class $F{constructor(t,n){if(this.fn=void 0,this.refs=t,this.refs=t,typeof n=="function"){this.fn=n;return}if(!gl(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:o,otherwise:i}=n,a=typeof r=="function"?r:(...s)=>s.every(c=>c===r);this.fn=function(...s){let c=s.pop(),l=s.pop(),u=a(...s)?o:i;if(!!u)return typeof u=="function"?u(l):l.concat(u.resolve(c))}}resolve(t,n){let r=this.refs.map(i=>i.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),o=this.fn.apply(t,r.concat(t,n));if(o===void 0||o===t)return t;if(!dp(o))throw new TypeError("conditions must return a schema object");return o.resolve(n)}}function cx(e){return e==null?[]:[].concat(e)}function Lu(){return Lu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lu.apply(this,arguments)}let DF=/\$\{\s*(\w+)\s*\}/g;class nn extends Error{static formatError(t,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Lu({},n,{path:r})),typeof t=="string"?t.replace(DF,(o,i)=>oi(n[i])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,o){super();this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=o,this.errors=[],this.inner=[],cx(t).forEach(i=>{nn.isError(i)?(this.errors.push(...i.errors),this.inner=this.inner.concat(i.inner.length?i.inner:i)):this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,nn)}}const IF=e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}};function ml(e,t){let{endEarly:n,tests:r,args:o,value:i,errors:a,sort:s,path:c}=e,l=IF(t),u=r.length;const p=[];if(a=a||[],!u)return a.length?l(new nn(a,i,c)):l(null,i);for(let f=0;f<r.length;f++)r[f](o,function(x){if(x){if(!nn.isError(x))return l(x,i);if(n)return x.value=i,l(x,i);p.push(x)}if(--u<=0){if(p.length&&(s&&p.sort(s),a.length&&p.push(...a),a=p),a.length){l(new nn(a,i,c),i);return}l(null,i)}})}var NF=L0,LF=ad,HF=N0;function zF(e,t){var n={};return t=HF(t),LF(e,function(r,o,i){NF(n,o,t(r,o,i))}),n}var ux=zF;function vo(e){this._maxSize=e,this.clear()}vo.prototype.clear=function(){this._size=0,this._values=Object.create(null)};vo.prototype.get=function(e){return this._values[e]};vo.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var BF=/[^.^\]^[]+|(?=\[\]|\.\.)/g,dx=/^\d+$/,jF=/^\d/,VF=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,GF=/^\s*(['"]?)(.*?)(\1)\s*$/,pp=512,gg=new vo(pp),mg=new vo(pp),bg=new vo(pp),tc={Cache:vo,split:Hu,normalizePath:Hc,setter:function(e){var t=Hc(e);return mg.get(e)||mg.set(e,function(r,o){for(var i=0,a=t.length,s=r;i<a-1;){var c=t[i];if(c==="__proto__"||c==="constructor"||c==="prototype")return r;s=s[t[i++]]}s[t[i]]=o})},getter:function(e,t){var n=Hc(e);return bg.get(e)||bg.set(e,function(o){for(var i=0,a=n.length;i<a;)if(o!=null||!t)o=o[n[i++]];else return;return o})},join:function(e){return e.reduce(function(t,n){return t+(fp(n)||dx.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){WF(Array.isArray(e)?e:Hu(e),t,n)}};function Hc(e){return gg.get(e)||gg.set(e,Hu(e).map(function(t){return t.replace(GF,"$2")}))}function Hu(e){return e.match(BF)||[""]}function WF(e,t,n){var r=e.length,o,i,a,s;for(i=0;i<r;i++)o=e[i],o&&(YF(o)&&(o='"'+o+'"'),s=fp(o),a=!s&&/^\d+$/.test(o),t.call(n,o,s,a,i,e))}function fp(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function UF(e){return e.match(jF)&&!e.match(dx)}function XF(e){return VF.test(e)}function YF(e){return!fp(e)&&(UF(e)||XF(e))}const Fs={context:"$",value:"."};class Sr{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Fs.context,this.isValue=this.key[0]===Fs.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Fs.context:this.isValue?Fs.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&tc.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let o=this.isContext?r:this.isValue?t:n;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}Sr.prototype.__isYupRef=!0;function bl(){return bl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bl.apply(this,arguments)}function ZF(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Os(e){function t(n,r){let{value:o,path:i="",label:a,options:s,originalValue:c,sync:l}=n,u=ZF(n,["value","path","label","options","originalValue","sync"]);const{name:p,test:f,params:g,message:v}=e;let{parent:x,context:y}=s;function w(N){return Sr.isRef(N)?N.getValue(o,x,y):N}function k(N={}){const H=ux(bl({value:o,originalValue:c,label:a,path:N.path||i},g,N.params),w),A=new nn(nn.formatError(N.message||v,H),o,H.path,N.type||p);return A.params=H,A}let _=bl({path:i,parent:x,type:p,createError:k,resolve:w,options:s,originalValue:c},u);if(!l){try{Promise.resolve(f.call(_,o,_)).then(N=>{nn.isError(N)?r(N):N?r(null,N):r(k())}).catch(r)}catch(N){r(N)}return}let R;try{var M;if(R=f.call(_,o,_),typeof((M=R)==null?void 0:M.then)=="function")throw new Error(`Validation test of type: "${_.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(N){r(N);return}nn.isError(R)?r(R):R?r(null,R):r(k())}return t.OPTIONS=e,t}let KF=e=>e.substr(0,e.length-1).substr(1);function qF(e,t,n,r=n){let o,i,a;return t?(tc.forEach(t,(s,c,l)=>{let u=c?KF(s):s;if(e=e.resolve({context:r,parent:o,value:n}),e.innerType){let p=l?parseInt(u,10):0;if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${t}. because there is no value at that index. `);o=n,n=n&&n[p],e=e.innerType}if(!l){if(!e.fields||!e.fields[u])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${a} which is a type: "${e._type}")`);o=n,n=n&&n[u],e=e.fields[u]}i=u,a=c?"["+s+"]":"."+s}),{schema:e,parent:o,parentPath:i}):{parent:o,parentPath:t,schema:e}}class vl{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const t=[];for(const n of this.list)t.push(n);for(const[,n]of this.refs)t.push(n.describe());return t}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(t){return this.toArray().reduce((n,r)=>n.concat(Sr.isRef(r)?t(r):r),[])}add(t){Sr.isRef(t)?this.refs.set(t.key,t):this.list.add(t)}delete(t){Sr.isRef(t)?this.refs.delete(t.key):this.list.delete(t)}clone(){const t=new vl;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}merge(t,n){const r=this.clone();return t.list.forEach(o=>r.add(o)),t.refs.forEach(o=>r.add(o)),n.list.forEach(o=>r.delete(o)),n.refs.forEach(o=>r.delete(o)),r}}function yn(){return yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yn.apply(this,arguments)}class Lt{constructor(t){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new vl,this._blacklist=new vl,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Zr.notType)}),this.type=(t==null?void 0:t.type)||"mixed",this.spec=yn({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},t==null?void 0:t.spec)}get _type(){return this.type}_typeCheck(t){return!0}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeError=this._typeError,n._whitelistError=this._whitelistError,n._blacklistError=this._blacklistError,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.exclusiveTests=yn({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=$u(yn({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const o=yn({},n.spec,r.spec);return r.spec=o,r._typeError||(r._typeError=n._typeError),r._whitelistError||(r._whitelistError=n._whitelistError),r._blacklistError||(r._blacklistError=n._blacklistError),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{t.tests.forEach(a=>{i.test(a.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return this.spec.nullable&&t===null?!0:this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((o,i)=>i.resolve(o,t),n),n=n.resolve(t)}return n}cast(t,n={}){let r=this.resolve(yn({value:t},n)),o=r._cast(t,n);if(t!==void 0&&n.assert!==!1&&r.isType(o)!==!0){let i=oi(t),a=oi(o);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r._type}". 

attempted value: ${i} 
`+(a!==i?`result of cast: ${a}`:""))}return o}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((o,i)=>i.call(this,o,t,this),t);return r===void 0&&(r=this.getDefault()),r}_validate(t,n={},r){let{sync:o,path:i,from:a=[],originalValue:s=t,strict:c=this.spec.strict,abortEarly:l=this.spec.abortEarly}=n,u=t;c||(u=this._cast(u,yn({assert:!1},n)));let p={value:u,path:i,options:n,originalValue:s,schema:this,label:this.spec.label,sync:o,from:a},f=[];this._typeError&&f.push(this._typeError);let g=[];this._whitelistError&&g.push(this._whitelistError),this._blacklistError&&g.push(this._blacklistError),ml({args:p,value:u,path:i,sync:o,tests:f,endEarly:l},v=>{if(v)return void r(v,u);ml({tests:this.tests.concat(g),args:p,path:i,sync:o,value:u,endEarly:l},r)})}validate(t,n,r){let o=this.resolve(yn({},n,{value:t}));return typeof r=="function"?o._validate(t,n,r):new Promise((i,a)=>o._validate(t,n,(s,c)=>{s?a(s):i(c)}))}validateSync(t,n){let r=this.resolve(yn({},n,{value:t})),o;return r._validate(t,yn({},n,{sync:!0}),(i,a)=>{if(i)throw i;o=a}),o}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(nn.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(nn.isError(r))return!1;throw r}}_getDefault(){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this):$u(t)}getDefault(t){return this.resolve(t||{})._getDefault()}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){let n=this.clone();return n.spec.strict=t,n}_isPresent(t){return t!=null}defined(t=Zr.defined){return this.test({message:t,name:"defined",exclusive:!0,test(n){return n!==void 0}})}required(t=Zr.required){return this.clone({presence:"required"}).withMutation(n=>n.test({message:t,name:"required",exclusive:!0,test(r){return this.schema._isPresent(r)}}))}notRequired(){let t=this.clone({presence:"optional"});return t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t}nullable(t=!0){return this.clone({nullable:t!==!1})}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=Zr.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),o=Os(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(a=>!(a.OPTIONS.name===n.name&&(i||a.OPTIONS.test===o.OPTIONS.test))),r.tests.push(o),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),o=cx(t).map(i=>new Sr(i));return o.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(new $F(o,n)),r}typeError(t){let n=this.clone();return n._typeError=Os({message:t,name:"typeError",test(r){return r!==void 0&&!this.schema.isType(r)?this.createError({params:{type:this.schema._type}}):!0}}),n}oneOf(t,n=Zr.oneOf){let r=this.clone();return t.forEach(o=>{r._whitelist.add(o),r._blacklist.delete(o)}),r._whitelistError=Os({message:n,name:"oneOf",test(o){if(o===void 0)return!0;let i=this.schema._whitelist,a=i.resolveAll(this.resolve);return a.includes(o)?!0:this.createError({params:{values:i.toArray().join(", "),resolved:a}})}}),r}notOneOf(t,n=Zr.notOneOf){let r=this.clone();return t.forEach(o=>{r._blacklist.add(o),r._whitelist.delete(o)}),r._blacklistError=Os({message:n,name:"notOneOf",test(o){let i=this.schema._blacklist,a=i.resolveAll(this.resolve);return a.includes(o)?this.createError({params:{values:i.toArray().join(", "),resolved:a}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(){const t=this.clone(),{label:n,meta:r}=t.spec;return{meta:r,label:n,type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(i=>({name:i.OPTIONS.name,params:i.OPTIONS.params})).filter((i,a,s)=>s.findIndex(c=>c.name===i.name)===a)}}}Lt.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Lt.prototype[`${e}At`]=function(t,n,r={}){const{parent:o,parentPath:i,schema:a}=qF(this,t,n,r.context);return a[e](o&&o[i],yn({},r,{parent:o,path:t}))};for(const e of["equals","is"])Lt.prototype[e]=Lt.prototype.oneOf;for(const e of["not","nope"])Lt.prototype[e]=Lt.prototype.notOneOf;Lt.prototype.optional=Lt.prototype.notRequired;const px=Lt;function fx(){return new px}fx.prototype=px.prototype;const ht=e=>e==null;function Ho(){return new hx}class hx extends Lt{constructor(){super({type:"boolean"});this.withMutation(()=>{this.transform(function(t){if(!this.isType(t)){if(/^(true|1)$/i.test(String(t)))return!0;if(/^(false|0)$/i.test(String(t)))return!1}return t})})}_typeCheck(t){return t instanceof Boolean&&(t=t.valueOf()),typeof t=="boolean"}isTrue(t=Iu.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return ht(n)||n===!0}})}isFalse(t=Iu.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return ht(n)||n===!1}})}}Ho.prototype=hx.prototype;let JF=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,QF=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,e7=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,t7=e=>ht(e)||e===e.trim(),n7={}.toString();function Yo(){return new gx}class gx extends Lt{constructor(){super({type:"string"});this.withMutation(()=>{this.transform(function(t){if(this.isType(t)||Array.isArray(t))return t;const n=t!=null&&t.toString?t.toString():t;return n===n7?t:n})})}_typeCheck(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}_isPresent(t){return super._isPresent(t)&&!!t.length}length(t,n=Mn.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},test(r){return ht(r)||r.length===this.resolve(t)}})}min(t,n=Mn.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(r){return ht(r)||r.length>=this.resolve(t)}})}max(t,n=Mn.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},test(r){return ht(r)||r.length<=this.resolve(t)}})}matches(t,n){let r=!1,o,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:o,name:i}=n:o=n),this.test({name:i||"matches",message:o||Mn.matches,params:{regex:t},test:a=>ht(a)||a===""&&r||a.search(t)!==-1})}email(t=Mn.email){return this.matches(JF,{name:"email",message:t,excludeEmptyString:!0})}url(t=Mn.url){return this.matches(QF,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Mn.uuid){return this.matches(e7,{name:"uuid",message:t,excludeEmptyString:!1})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Mn.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:t7})}lowercase(t=Mn.lowercase){return this.transform(n=>ht(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,test:n=>ht(n)||n===n.toLowerCase()})}uppercase(t=Mn.uppercase){return this.transform(n=>ht(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,test:n=>ht(n)||n===n.toUpperCase()})}}Yo.prototype=gx.prototype;let r7=e=>e!=+e;function ft(){return new mx}class mx extends Lt{constructor(){super({type:"number"});this.withMutation(()=>{this.transform(function(t){let n=t;if(typeof n=="string"){if(n=n.replace(/\s/g,""),n==="")return NaN;n=+n}return this.isType(n)?n:parseFloat(n)})})}_typeCheck(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!r7(t)}min(t,n=mr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(r){return ht(r)||r>=this.resolve(t)}})}max(t,n=mr.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:t},test(r){return ht(r)||r<=this.resolve(t)}})}lessThan(t,n=mr.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:t},test(r){return ht(r)||r<this.resolve(t)}})}moreThan(t,n=mr.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:t},test(r){return ht(r)||r>this.resolve(t)}})}positive(t=mr.positive){return this.moreThan(0,t)}negative(t=mr.negative){return this.lessThan(0,t)}integer(t=mr.integer){return this.test({name:"integer",message:t,test:n=>ht(n)||Number.isInteger(n)})}truncate(){return this.transform(t=>ht(t)?t:t|0)}round(t){var n;let r=["ceil","floor","round","trunc"];if(t=((n=t)==null?void 0:n.toLowerCase())||"round",t==="trunc")return this.truncate();if(r.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(o=>ht(o)?o:Math[t](o))}}ft.prototype=mx.prototype;var o7=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function i7(e){var t=[1,4,5,6,7,10,11],n=0,r,o;if(o=o7.exec(e)){for(var i=0,a;a=t[i];++i)o[a]=+o[a]||0;o[2]=(+o[2]||1)-1,o[3]=+o[3]||1,o[7]=o[7]?String(o[7]).substr(0,3):0,(o[8]===void 0||o[8]==="")&&(o[9]===void 0||o[9]==="")?r=+new Date(o[1],o[2],o[3],o[4],o[5],o[6],o[7]):(o[8]!=="Z"&&o[9]!==void 0&&(n=o[10]*60+o[11],o[9]==="+"&&(n=0-n)),r=Date.UTC(o[1],o[2],o[3],o[4],o[5]+n,o[6],o[7]))}else r=Date.parse?Date.parse(e):NaN;return r}let bx=new Date(""),a7=e=>Object.prototype.toString.call(e)==="[object Date]";class s7 extends Lt{constructor(){super({type:"date"});this.withMutation(()=>{this.transform(function(t){return this.isType(t)?t:(t=i7(t),isNaN(t)?bx:new Date(t))})})}_typeCheck(t){return a7(t)&&!isNaN(t.getTime())}prepareParam(t,n){let r;if(Sr.isRef(t))r=t;else{let o=this.cast(t);if(!this._typeCheck(o))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=o}return r}min(t,n=Du.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(o){return ht(o)||o>=this.resolve(r)}})}max(t,n=Du.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},test(o){return ht(o)||o<=this.resolve(r)}})}}s7.INVALID_DATE=bx;function l7(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}var c7=l7;function u7(e){return function(t){return e==null?void 0:e[t]}}var d7=u7,p7=d7,f7={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},h7=p7(f7),g7=h7,m7=g7,b7=Rl,v7=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,x7="\\u0300-\\u036f",y7="\\ufe20-\\ufe2f",w7="\\u20d0-\\u20ff",S7=x7+y7+w7,C7="["+S7+"]",k7=RegExp(C7,"g");function E7(e){return e=b7(e),e&&e.replace(v7,m7).replace(k7,"")}var _7=E7,T7=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function R7(e){return e.match(T7)||[]}var A7=R7,P7=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function M7(e){return P7.test(e)}var F7=M7,vx="\\ud800-\\udfff",O7="\\u0300-\\u036f",$7="\\ufe20-\\ufe2f",D7="\\u20d0-\\u20ff",I7=O7+$7+D7,xx="\\u2700-\\u27bf",yx="a-z\\xdf-\\xf6\\xf8-\\xff",N7="\\xac\\xb1\\xd7\\xf7",L7="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",H7="\\u2000-\\u206f",z7=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wx="A-Z\\xc0-\\xd6\\xd8-\\xde",B7="\\ufe0e\\ufe0f",Sx=N7+L7+H7+z7,Cx="['\u2019]",vg="["+Sx+"]",j7="["+I7+"]",kx="\\d+",V7="["+xx+"]",Ex="["+yx+"]",_x="[^"+vx+Sx+kx+xx+yx+wx+"]",G7="\\ud83c[\\udffb-\\udfff]",W7="(?:"+j7+"|"+G7+")",U7="[^"+vx+"]",Tx="(?:\\ud83c[\\udde6-\\uddff]){2}",Rx="[\\ud800-\\udbff][\\udc00-\\udfff]",zo="["+wx+"]",X7="\\u200d",xg="(?:"+Ex+"|"+_x+")",Y7="(?:"+zo+"|"+_x+")",yg="(?:"+Cx+"(?:d|ll|m|re|s|t|ve))?",wg="(?:"+Cx+"(?:D|LL|M|RE|S|T|VE))?",Ax=W7+"?",Px="["+B7+"]?",Z7="(?:"+X7+"(?:"+[U7,Tx,Rx].join("|")+")"+Px+Ax+")*",K7="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",q7="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",J7=Px+Ax+Z7,Q7="(?:"+[V7,Tx,Rx].join("|")+")"+J7,eO=RegExp([zo+"?"+Ex+"+"+yg+"(?="+[vg,zo,"$"].join("|")+")",Y7+"+"+wg+"(?="+[vg,zo+xg,"$"].join("|")+")",zo+"?"+xg+"+"+yg,zo+"+"+wg,q7,K7,kx,Q7].join("|"),"g");function tO(e){return e.match(eO)||[]}var nO=tO,rO=A7,oO=F7,iO=Rl,aO=nO;function sO(e,t,n){return e=iO(e),t=n?void 0:t,t===void 0?oO(e)?aO(e):rO(e):e.match(t)||[]}var lO=sO,cO=c7,uO=_7,dO=lO,pO="['\u2019]",fO=RegExp(pO,"g");function hO(e){return function(t){return cO(dO(uO(t).replace(fO,"")),e,"")}}var Mx=hO,gO=Mx,mO=gO(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Sg=mO;function bO(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var vO=bO,xO=vO;function yO(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:xO(e,t,n)}var wO=yO,SO="\\ud800-\\udfff",CO="\\u0300-\\u036f",kO="\\ufe20-\\ufe2f",EO="\\u20d0-\\u20ff",_O=CO+kO+EO,TO="\\ufe0e\\ufe0f",RO="\\u200d",AO=RegExp("["+RO+SO+_O+TO+"]");function PO(e){return AO.test(e)}var Fx=PO;function MO(e){return e.split("")}var FO=MO,Ox="\\ud800-\\udfff",OO="\\u0300-\\u036f",$O="\\ufe20-\\ufe2f",DO="\\u20d0-\\u20ff",IO=OO+$O+DO,NO="\\ufe0e\\ufe0f",LO="["+Ox+"]",zu="["+IO+"]",Bu="\\ud83c[\\udffb-\\udfff]",HO="(?:"+zu+"|"+Bu+")",$x="[^"+Ox+"]",Dx="(?:\\ud83c[\\udde6-\\uddff]){2}",Ix="[\\ud800-\\udbff][\\udc00-\\udfff]",zO="\\u200d",Nx=HO+"?",Lx="["+NO+"]?",BO="(?:"+zO+"(?:"+[$x,Dx,Ix].join("|")+")"+Lx+Nx+")*",jO=Lx+Nx+BO,VO="(?:"+[$x+zu+"?",zu,Dx,Ix,LO].join("|")+")",GO=RegExp(Bu+"(?="+Bu+")|"+VO+jO,"g");function WO(e){return e.match(GO)||[]}var UO=WO,XO=FO,YO=Fx,ZO=UO;function KO(e){return YO(e)?ZO(e):XO(e)}var qO=KO,JO=wO,QO=Fx,e$=qO,t$=Rl;function n$(e){return function(t){t=t$(t);var n=QO(t)?e$(t):void 0,r=n?n[0]:t.charAt(0),o=n?JO(n,1).join(""):t.slice(1);return r[e]()+o}}var r$=n$,o$=r$,i$=o$("toUpperCase"),a$=i$,s$=Rl,l$=a$;function c$(e){return l$(s$(e).toLowerCase())}var u$=c$,d$=u$,p$=Mx,f$=p$(function(e,t,n){return t=t.toLowerCase(),e+(n?d$(t):t)}),h$=f$,g$=L0,m$=ad,b$=N0;function v$(e,t){var n={};return t=b$(t),m$(e,function(r,o,i){g$(n,t(r,o,i),r)}),n}var x$=v$,hp={exports:{}};hp.exports=function(e){return Hx(y$(e),e)};hp.exports.array=Hx;function Hx(e,t){var n=e.length,r=new Array(n),o={},i=n,a=w$(t),s=S$(e);for(t.forEach(function(l){if(!s.has(l[0])||!s.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)o[i]||c(e[i],i,new Set);return r;function c(l,u,p){if(p.has(l)){var f;try{f=", node was:"+JSON.stringify(l)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!s.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!o[u]){o[u]=!0;var g=a.get(l)||new Set;if(g=Array.from(g),u=g.length){p.add(l);do{var v=g[--u];c(v,s.get(v),p)}while(u);p.delete(l)}r[--n]=l}}}function y$(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var o=e[n];t.add(o[0]),t.add(o[1])}return Array.from(t)}function w$(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var o=e[n];t.has(o[0])||t.set(o[0],new Set),t.has(o[1])||t.set(o[1],new Set),t.get(o[0]).add(o[1])}return t}function S$(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}var C$=hp.exports;function k$(e,t=[]){let n=[],r=new Set,o=new Set(t.map(([a,s])=>`${a}-${s}`));function i(a,s){let c=tc.split(a)[0];r.add(c),o.has(`${s}-${c}`)||n.push([s,c])}for(const a in e)if(gl(e,a)){let s=e[a];r.add(a),Sr.isRef(s)&&s.isSibling?i(s.path,a):dp(s)&&"deps"in s&&s.deps.forEach(c=>i(c,a))}return C$.array(Array.from(r),n).reverse()}function Cg(e,t){let n=1/0;return e.some((r,o)=>{var i;if(((i=t.path)==null?void 0:i.indexOf(r))!==-1)return n=o,!0}),n}function zx(e){return(t,n)=>Cg(e,t)-Cg(e,n)}function Go(){return Go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Go.apply(this,arguments)}let kg=e=>Object.prototype.toString.call(e)==="[object Object]";function E$(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const _$=zx([]);class Bx extends Lt{constructor(t){super({type:"object"});this.fields=Object.create(null),this._sortErrors=_$,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(r){if(typeof r=="string")try{r=JSON.parse(r)}catch{r=null}return this.isType(r)?r:null}),t&&this.shape(t)})}_typeCheck(t){return kg(t)||typeof t=="function"}_cast(t,n={}){var r;let o=super._cast(t,n);if(o===void 0)return this.getDefault();if(!this._typeCheck(o))return o;let i=this.fields,a=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,s=this._nodes.concat(Object.keys(o).filter(p=>this._nodes.indexOf(p)===-1)),c={},l=Go({},n,{parent:c,__validating:n.__validating||!1}),u=!1;for(const p of s){let f=i[p],g=gl(o,p);if(f){let v,x=o[p];l.path=(n.path?`${n.path}.`:"")+p,f=f.resolve({value:x,context:n.context,parent:c});let y="spec"in f?f.spec:void 0,w=y==null?void 0:y.strict;if(y==null?void 0:y.strip){u=u||p in o;continue}v=!n.__validating||!w?f.cast(o[p],l):o[p],v!==void 0&&(c[p]=v)}else g&&!a&&(c[p]=o[p]);c[p]!==o[p]&&(u=!0)}return u?c:o}_validate(t,n={},r){let o=[],{sync:i,from:a=[],originalValue:s=t,abortEarly:c=this.spec.abortEarly,recursive:l=this.spec.recursive}=n;a=[{schema:this,value:s},...a],n.__validating=!0,n.originalValue=s,n.from=a,super._validate(t,n,(u,p)=>{if(u){if(!nn.isError(u)||c)return void r(u,p);o.push(u)}if(!l||!kg(p)){r(o[0]||null,p);return}s=s||p;let f=this._nodes.map(g=>(v,x)=>{let y=g.indexOf(".")===-1?(n.path?`${n.path}.`:"")+g:`${n.path||""}["${g}"]`,w=this.fields[g];if(w&&"validate"in w){w.validate(p[g],Go({},n,{path:y,from:a,strict:!0,parent:p,originalValue:s[g]}),x);return}x(null)});ml({sync:i,tests:f,value:p,errors:o,endEarly:c,sort:this._sortErrors,path:n.path},r)})}clone(t){const n=super.clone(t);return n.fields=Go({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[o,i]of Object.entries(this.fields)){const a=r[o];a===void 0?r[o]=i:a instanceof Lt&&i instanceof Lt&&(r[o]=i.concat(a))}return n.withMutation(()=>n.shape(r,this._excludedEdges))}getDefaultFromShape(){let t={};return this._nodes.forEach(n=>{const r=this.fields[n];t[n]="default"in r?r.getDefault():void 0}),t}_getDefault(){if("default"in this.spec)return super._getDefault();if(!!this._nodes.length)return this.getDefaultFromShape()}shape(t,n=[]){let r=this.clone(),o=Object.assign(r.fields,t);return r.fields=o,r._sortErrors=zx(Object.keys(o)),n.length&&(Array.isArray(n[0])||(n=[n]),r._excludedEdges=[...r._excludedEdges,...n]),r._nodes=k$(o,r._excludedEdges),r}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.clone().withMutation(r=>(r.fields={},r.shape(n)))}omit(t){const n=this.clone(),r=n.fields;n.fields={};for(const o of t)delete r[o];return n.withMutation(()=>n.shape(r))}from(t,n,r){let o=tc.getter(t,!0);return this.transform(i=>{if(i==null)return i;let a=i;return gl(i,t)&&(a=Go({},i),r||delete a[t],a[n]=o(i)),a})}noUnknown(t=!0,n=Nu.noUnknown){typeof t=="string"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(o){if(o==null)return!0;const i=E$(this.schema,o);return!t||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=Nu.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>n&&x$(n,(r,o)=>t(o)))}camelCase(){return this.transformKeys(h$)}snakeCase(){return this.transformKeys(Sg)}constantCase(){return this.transformKeys(t=>Sg(t).toUpperCase())}describe(){let t=super.describe();return t.fields=ux(this.fields,n=>n.describe()),t}}function Ke(e){return new Bx(e)}Ke.prototype=Bx.prototype;function xl(){return xl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xl.apply(this,arguments)}function yl(e){return new jx(e)}class jx extends Lt{constructor(t){super({type:"array"});this.innerType=void 0,this.innerType=t,this.withMutation(()=>{this.transform(function(n){if(typeof n=="string")try{n=JSON.parse(n)}catch{n=null}return this.isType(n)?n:null})})}_typeCheck(t){return Array.isArray(t)}get _subType(){return this.innerType}_cast(t,n){const r=super._cast(t,n);if(!this._typeCheck(r)||!this.innerType)return r;let o=!1;const i=r.map((a,s)=>{const c=this.innerType.cast(a,xl({},n,{path:`${n.path||""}[${s}]`}));return c!==a&&(o=!0),c});return o?i:r}_validate(t,n={},r){var o,i;let a=[],s=n.sync,c=n.path,l=this.innerType,u=(o=n.abortEarly)!=null?o:this.spec.abortEarly,p=(i=n.recursive)!=null?i:this.spec.recursive,f=n.originalValue!=null?n.originalValue:t;super._validate(t,n,(g,v)=>{if(g){if(!nn.isError(g)||u)return void r(g,v);a.push(g)}if(!p||!l||!this._typeCheck(v)){r(a[0]||null,v);return}f=f||v;let x=new Array(v.length);for(let y=0;y<v.length;y++){let w=v[y],k=`${n.path||""}[${y}]`,_=xl({},n,{path:k,strict:!0,parent:v,index:y,originalValue:f[y]});x[y]=(R,M)=>l.validate(w,_,M)}ml({sync:s,path:c,value:v,errors:a,endEarly:u,tests:x},r)})}clone(t){const n=super.clone(t);return n.innerType=this.innerType,n}concat(t){let n=super.concat(t);return n.innerType=this.innerType,t.innerType&&(n.innerType=n.innerType?n.innerType.concat(t.innerType):t.innerType),n}of(t){let n=this.clone();if(!dp(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+oi(t));return n.innerType=t,n}length(t,n=Zs.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},test(r){return ht(r)||r.length===this.resolve(t)}})}min(t,n){return n=n||Zs.min,this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(r){return ht(r)||r.length>=this.resolve(t)}})}max(t,n){return n=n||Zs.max,this.test({message:n,name:"max",exclusive:!0,params:{max:t},test(r){return ht(r)||r.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,n)=>this._typeCheck(t)?t:n==null?[]:[].concat(n))}compact(t){let n=t?(r,o,i)=>!t(r,o,i):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(){let t=super.describe();return this.innerType&&(t.innerType=this.innerType.describe()),t}nullable(t=!0){return super.nullable(t)}defined(){return super.defined()}required(t){return super.required(t)}}yl.prototype=jx.prototype;const T$=X`
  border-radius: 50%;
  width: 16px;
  height: 16px;
  background-color: transparent;
  border: none;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;

  :hover {
    background-color: red;
    border-radius: 50%;

    .icon {
      color: white;
    }
  }

  .icon {
    color: #252525;
    width: 8px;
  }
`;function Vx({onDelete:e,className:t="delete"}){return h("button",{css:T$,className:t,type:"button",onClick:e,children:h(id,{className:"icon"})})}const R$=e=>X`
  position: relative;

  .delete {
    position: absolute;
    top: 2px;
    left: 2px;
  }

  ${e}
`;function A$({tabid:e,tablabel:t,isActive:n,onClick:r=()=>null,canDelete:o,onDelete:i=()=>null,tabstyles:a,render:s}){let c="tab-list-item";n&&(c+=" tab-list-active");const l=d.exports.useCallback(p=>{r(P(S({},p),{tablabel:t,tabid:e}))},[r,t,e]),u=d.exports.useCallback(p=>{p.stopPropagation(),i(P(S({},p),{tablabel:t,tabid:e}))},[i,t,e]);return $("li",{className:c,onClick:l,css:R$(a),"data-test-id":`tab-${e}`,children:[o&&h(Vx,{onDelete:u}),s?s({isActive:n,title:t||"",id:e}):t]})}function fn(e){return h(Xn,{children:e.children})}const Eg=X`
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: column;

  .tab-list {
    border-bottom: 1px solid #ccc;
    padding-left: 0;
    margin: 0;
  }

  .tab-list li:first-of-type {
    margin-left: 5px;
  }

  .tab-list li:hover {
    background-color: #f7f7f7;
  }

  .tab-list-item {
    display: inline-block;
    list-style: none;
    padding: 0.5rem 2rem;
  }

  .tab-list-active {
    background-color: white;
    border: solid #ccc;
    border-width: 1px 1px 0 1px;
  }

  .tab-content {
    height: 100%;
    overflow: auto;
  }
`,P$=X`
  display: flex;
  height: 100%;
  width: 100%;
  .tab-list {
    border-right: 1px solid #ccc;
    padding-left: 0;
    margin: 0;
  }

  .tab-list li:hover {
    background-color: #f7f7f7;
  }

  .tab-list li:first-of-type {
    margin-top: 10px;
  }

  .tab-list-item {
    display: block;
    list-style: none;
    margin-right: -1px;
    padding: 0.5rem 0.75rem;
  }

  .tab-list-active {
    background-color: white;
    border: solid #ccc;
    border-width: 1px 0px 1px 1px;
  }

  .tab-content {
    height: 100%;
    overflow: auto;
  }
`;var gp=(e=>(e.TOP="TOP",e.LEFT="LEFT",e))(gp||{});function M$({children:e,onClick:t,position:n,onDelete:r=()=>null,activeTab:o}){const i=d.exports.useCallback(l=>{const{tablabel:u,tabid:p}=l;t({tablabel:u,tabid:p})},[t]);let a;const s=d.exports.Children.map(e,l=>{if(!d.exports.isValidElement(l))return null;const{tabid:u}=l.props;return u===o&&(a=l.props.children),h(A$,P(S({},l.props),{isActive:u===o,onClick:i,onDelete:r}))}),c=d.exports.useMemo(()=>{switch(n){case"TOP":return Eg;case"LEFT":return P$;default:return Eg}},[n]);return $("div",{className:"tabs",css:c,children:[h("ol",{className:"tab-list",children:s}),h("div",{className:"tab-content",children:a})]})}var vi=d.exports.memo(M$),mp={};Object.defineProperty(mp,"__esModule",{value:!0});var Gx=mp.default=void 0,zc=nc(Ki),F$=nc(Jv),O$=nc(Qv),Bc=nc(an.exports),xr=$$(d.exports);function Wx(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return Wx=function(){return e},e}function $$(e){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var t=Wx();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function nc(e){return e&&e.__esModule?e:{default:e}}const D$={flexDirection:"column",display:"inline-flex",justifyContent:"center",textAlign:"left",verticalAlign:"middle"},_g={lineHeight:.8,fontSize:"80%"};class Ux extends xr.PureComponent{render(){const i=this.props,{mf:t}=i,n=he(i,["mf"]);let r;try{r=(0,F$.default)(t)}catch{return xr.default.createElement("span",n,t)}let o=(0,O$.default)(r);return xr.default.createElement("span",n,o.map(I$))}}Gx=mp.default=Ux;Ux.propTypes={mf:Bc.default.string.isRequired,className:Bc.default.string,style:Bc.default.object};function I$(e,t){switch(e.kind){case zc.default.SUBSCRIPT:return xr.default.createElement("sub",{key:t},e.value);case zc.default.SUPERSCRIPT:return xr.default.createElement("sup",{key:t},e.value);case zc.default.SUPERIMPOSE:return xr.default.createElement("span",{key:t,style:D$},xr.default.createElement("span",{style:_g},e.over),xr.default.createElement("span",{style:_g},e.under));default:return e.value}}function Xx(e,t){const[n,r]=d.exports.useMemo(()=>{try{return[!1,e()]}catch(o){return[!0,o]}},t);return n?[r,null]:[null,r]}function bp(e){const{width:t,height:n,value:r,error:o,ErrorComponent:i}=e;return Bn.createElement("div",{style:{width:t,height:n}},Bn.createElement(i,{width:t,height:n,value:r,error:o}))}bp.defaultProps={width:300,height:150};function Yx(e){return Bn.createElement("div",{style:{lineHeight:`${e.height}px`,textAlign:"center",verticalAlign:"middle"}},e.message)}const N$="react-ocl-";let L$=0;function rc(e){const D=e,{width:t,height:n,id:r,atomHighlight:o,atomHighlightOpacity:i,atomHighlightColor:a,onAtomEnter:s,onAtomLeave:c,onAtomClick:l,bondHighlight:u,bondHighlightOpacity:p,bondHighlightColor:f,onBondEnter:g,onBondLeave:v,onBondClick:x,mol:y}=D,w=he(D,["width","height","id","atomHighlight","atomHighlightOpacity","atomHighlightColor","onAtomEnter","onAtomLeave","onAtomClick","bondHighlight","bondHighlightOpacity","bondHighlightColor","onBondEnter","onBondLeave","onBondClick","mol"]),[k]=d.exports.useState(()=>N$+L$++),_=d.exports.useRef(null),R=r||k,M=JSON.stringify(w),N=d.exports.useMemo(()=>y.toSVG(t,n,R,JSON.parse(M)),[y,t,n,R,M]),H=`${R}:Atom:`,A=`${R}:Bond:`;return Tg(_,H,s,c,l),Tg(_,A,g,v,x),Rg(_,H,o,a,i,"fill"),Rg(_,A,u,f,p,"stroke"),m("div",{style:{userSelect:"none"},ref:_,dangerouslySetInnerHTML:{__html:N}})}function Tg(e,t,n,r,o){d.exports.useEffect(()=>{const i=e.current;if(!i)return;const a=i.firstChild,s=u=>{if(!n)return;const{target:p}=u;p.className.baseVal==="event"&&p.id.startsWith(t)&&n(Number(p.id.replace(t,"")),u)},c=u=>{if(!r)return;const{target:p}=u;p.className.baseVal==="event"&&p.id.startsWith(t)&&r(Number(p.id.replace(t,"")),u)},l=u=>{if(!o)return;const{target:p}=u;p.className.baseVal==="event"&&p.id.startsWith(t)&&o(Number(p.id.replace(t,"")),u)};return a.addEventListener("mouseover",s),a.addEventListener("mouseout",c),a.addEventListener("click",l),()=>{a.removeEventListener("mouseover",s),a.removeEventListener("mouseout",c),a.removeEventListener("click",l)}},[e,t,n,r,o])}function Rg(e,t,n,r,o,i){d.exports.useEffect(()=>{const a=e.current;if(!a)return;const c=a.firstChild.querySelectorAll(`[id^="${t}"]`);for(const l of c){const u=Number(l.id.replace(t,""));n&&n.includes(u)?(l.setAttribute("opacity",o),l.setAttribute(i,r)):l.setAttribute("opacity",0)}})}rc.propTypes={width:Ce.number,height:Ce.number,id:Ce.string,atomHighlight:Ce.arrayOf(Ce.number),atomHighlightColor:Ce.string,atomHighlightOpacity:Ce.number,bondHighlight:Ce.arrayOf(Ce.number),bondHighlightColor:Ce.string,bondHighlightOpacity:Ce.number,factorTextSize:Ce.number,fontWeight:Ce.string,strokeWidth:Ce.oneOf([Ce.string,Ce.number]),inflateToMaxAVBL:Ce.bool,inflateToHighResAVBL:Ce.bool,chiralTextBelowMolecule:Ce.bool,chiralTextAboveMolecule:Ce.bool,chiralTextOnFrameTop:Ce.bool,chiralTextOnFrameBottom:Ce.bool,noTabus:Ce.bool,showAtomNumber:Ce.bool,showBondNumber:Ce.bool,highlightQueryFeatures:Ce.bool,showMapping:Ce.bool,suppressChiralText:Ce.bool,suppressCIPParity:Ce.bool,suppressESR:Ce.bool,showSymmetrySimple:Ce.bool,showSymmetryDiastereotopic:Ce.bool,showSymmetryEnantiotopic:Ce.bool,noImplicitAtomLabelColors:Ce.bool,noStereoProblem:Ce.bool};rc.defaultProps={width:300,height:150,atomHighlightColor:"yellow",atomHighlightOpacity:.5,bondHighlightColor:"yellow",bondHighlightOpacity:.5,suppressChiralText:!0,suppressESR:!0,suppressCIPParity:!0,noStereoProblem:!0,factorTextSize:1,inflateToMaxAVBL:!1,inflateToHighResAVBL:!1,chiralTextBelowMolecule:!1,chiralTextAboveMolecule:!1,chiralTextOnFrameTop:!1,chiralTextOnFrameBottom:!1,noTabus:!1,showAtomNumber:!1,showBondNumber:!1,highlightQueryFeatures:!1,showMapping:!1,showSymmetrySimple:!1,showSymmetryDiastereotopic:!1,showSymmetryEnantiotopic:!1,noImplicitAtomLabelColors:!1};Ce.string.isRequired,Ce.string,Ce.elementType;function vp(e){const a=e,{OCL:t,molfile:n}=a,r=he(a,["OCL","molfile"]),[o,i]=Xx(()=>t.Molecule.fromMolfile(n),[t,n]);return o?m(bp,{width:e.width,height:e.height,ErrorComponent:e.ErrorComponent,value:n,error:o}):m(rc,S({mol:i},r))}vp.propTypes={molfile:Ce.string.isRequired,ErrorComponent:Ce.elementType};vp.defaultProps={ErrorComponent:H$};var Zx=d.exports.memo(vp);function H$(e){return m(Yx,{height:e.height,message:"Invalid Molfile"})}function xp(e){const a=e,{OCL:t,smiles:n}=a,r=he(a,["OCL","smiles"]),[o,i]=Xx(()=>t.Molecule.fromSmiles(n),[t,n]);return o?m(bp,{width:e.width,height:e.height,ErrorComponent:e.ErrorComponent,value:n,error:o}):m(rc,S({mol:i},r))}xp.propTypes={smiles:Ce.string.isRequired,ErrorComponent:Ce.elementType};xp.defaultProps={ErrorComponent:B$};var z$=d.exports.memo(xp);function B$(e){return m(Yx,{height:e.height,message:"Invalid SMILES"})}function yp(e){const{width:t,height:n,initialMolfile:r,fragment:o,svgMenu:i,onChange:a,onAtomEnter:s,onAtomLeave:c,onBondEnter:l,onBondLeave:u}=e,p=d.exports.useRef(),f=d.exports.useRef({editor:null,hadFirstChange:!1}),g=d.exports.useRef({});return d.exports.useEffect(()=>{p.current.innerHTML="";const v=new Un.StructureEditor(p.current,i,1);f.current={editor:v,hadFirstChange:!1},v.setMolFile(r),v.setFragment(o),v.setChangeListenerCallback((...x)=>{g.current.onChange&&g.current.onChange(...x)}),v.setAtomHightlightCallback((...x)=>{g.current.onAtomHighlight&&g.current.onAtomHighlight(...x)}),v.setBondHightlightCallback((...x)=>{g.current.onBondHighlight&&g.current.onBondHighlight(...x)})},[t,n,i]),d.exports.useEffect(()=>{g.current.onChange=()=>{if(!f.current.hadFirstChange)f.current.hadFirstChange=!0;else if(a){const v=f.current.editor.getMolFileV3(),x=f.current.editor.getMolecule();a(v,x)}},g.current.onAtomHighlight=(v,x)=>{x&&s?s(v):!x&&c&&c(v)},g.current.onBondHighlight=(v,x)=>{x&&l?l(v):!x&&u&&u(v)}},[a,s,c,l,u]),d.exports.useEffect(()=>{f.current.editor&&f.current.editor.setFragment(o)},[o]),m("div",{ref:p,style:{width:t,height:n}})}yp.propTypes={initialMolfile:Ce.string,fragment:Ce.bool,svgMenu:Ce.bool,width:Ce.number,height:Ce.number,onChange:Ce.func,onAtomEnter:Ce.func,onAtomLeave:Ce.func,onBondEnter:Ce.func,onBondLeave:Ce.func};yp.defaultProps={initialMolfile:"",fragment:!1,svgMenu:!0,width:675,height:450};function j$(e){return Bn.createElement(z$,S({OCL:Un},e))}function V$(e){return Bn.createElement(Zx,S({OCL:Un},e))}function Ag({direction:e,onClick:t}){return h("div",{onClick:t,css:X`
        display: flex;
        position: absolute;
        top: calc(50% - 20px);
        ${e==="right"?"right: 25px":"left: 25px"};
        height: 40px;
        width: 40px;
        justify-content: center;
        background: white;
        border-radius: 50%;
        cursor: pointer;
        align-items: center;
        border: none;
        transition: transform ease-in 0.1s;
        background-color: #f7f7f7;

        &:hover {
          transform: scale(1.1);
          background-color: #607d8b !important;
          color: white;
        }
        img {
          transform: translateX(${e==="left"?"-2":"2"}px);
          &:focus {
            outline: 0;
          }
        }
      `,children:h(xS,{style:{transform:`scaleX(${e==="right"?"-1":"1"})`}})})}const G$=.45;function W$({children:e,loop:t=!1,defaultIndex:n=0,onChange:r=()=>null}){const[o,{width:i}]=H0(),[a,s]=d.exports.useState(0);d.exports.useEffect(()=>{s(n)},[n]);const c=d.exports.useMemo(()=>d.exports.Children.map(e,p=>h("div",{css:X`
              width: ${i}px;
              height: 100%;
            `,children:p},p.key)),[e,i]),l=d.exports.useCallback(()=>{s(p=>{if(c&&p===c.length-1)return r(p),t?0:p;const f=p+1;return r(f),f})},[c,t,r]),u=d.exports.useCallback(()=>{s(p=>{if(p===0)return r(p),t?0:p;const f=p-1;return r(f),f})},[t,r]);return!i&&!c?null:$("div",{css:X`
        position: relative;
        height: 100%;
        width: 100%;
        margin: 0 auto;
        overflow: hidden;
        display: block;
      `,ref:o,children:[h("div",{css:X`
          transform: translateX(-${i*a}px);
          transition: transform ease-out ${G$}s;
          height: 100%;
          width: ${i*(c?c.length:1)}px;
          display: flex;
        `,children:c}),a!==0&&h(Ag,{direction:"left",onClick:u}),c&&a!==c.length-1&&h(Ag,{direction:"right",onClick:l})]})}var Kx=d.exports.memo(W$);const U$=X`
  display: flex;
  flex-direction: row;
  border-top: 0.55px solid rgb(240, 240, 240);
  border-bottom: 0.55px solid rgb(240, 240, 240);
  padding: 0px 5px;

  p {
    margin: 0;
    text-align: right;
    width: 100%;
    line-height: 22px;
    padding: 0px 10px;
  }
`,X$=X`
  width: 100%;
  position: relative;
  .slider {
    height: 180px;
    width: 100%;
    padding: 0px;
    padding: 0px;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
  }
  .slider p {
    width: 100%;
    margin: 0 auto;
    display: block;
    position: relative;
    text-align: center;
  }
  .slider svg polygon {
    fill: gray !important;
  }
  button {
    flex: 2;
    padding: 5px;
    border: 1px solid gray;
    border-radius: 5px;
    height: 36px;
    margin: 0 auto;
    margin-top: 15px;
    display: block;
    width: 20%;

    color: white;
    background-color: gray;
  }
`;function qx(e){const{molecules:t,onChange:n=()=>null,index:r}=e,[o,i]=d.exports.useState(0);d.exports.useEffect(()=>{const s=r&&r<t.length?r:0;t&&t.length>0&&i(s)},[r,t]);const a=d.exports.useCallback(s=>{i(s),n(s)},[n]);return $("div",{children:[h("div",{css:U$,children:$("p",{children:[t&&t.length>0&&`${+(o+1)} / ${t.length}`," "]})}),h("div",{css:X$,children:h(Kx,{defaultIndex:o,onChange:a,children:t==null?void 0:t.map((s,c)=>{var l;return $("div",{className:"slider",children:[h("div",{children:s.molfile&&h(V$,{id:`molSVG${c}`,width:120,molfile:s.molfile})}),$("p",{children:[h(Gx,{mf:s.mf})," - ",(l=s.mw)==null?void 0:l.toFixed(2)]})]},s.key)})})})]})}const Y$=X`
  .molecule-container {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    .title {
      padding: 0px 10px;
      width: 100%;
      text-align: center;
    }

    .molecule-selection-container {
      width: 450px;
      display: block;
      margin: 0 auto;
    }

    .newSumText {
      margin-top: 15px;
      padding: 0px 10px;
      width: 100%;

      text-align: center;
    }
  }

  .empty {
    width: 100%;
    padding: 20%;
    text-align: center;
  }
`;function Z$(e){const[t,n]=d.exports.useState(),{setFieldValue:r,errors:o,values:i}=xt(),{molecules:a,activeTab:s}=ce(),c=Fm(s),l=d.exports.useMemo(()=>c&&a&&a.length>0&&t!==void 0&&a[t].atoms[c]?a[t].atoms[c]:0,[t,c,a]),u=d.exports.useCallback(f=>{n(f),r(e.name,a[f])},[a,e.name,r]);d.exports.useEffect(()=>{if(a&&a.length>0){const f=i[e.name]?a.findIndex(g=>g.key===i[e.name].key):-1;u(f!==-1?f:0)}},[a,e.name,u,i]);const p=d.exports.useCallback(f=>{u(f)},[u]);return h("div",{css:Y$,children:c&&a&&a.length>0?$("div",{className:"molecule-container",children:[h("p",{className:"title",children:"Select a molecule as reference!"}),$("div",{className:"molecule-selection-container",children:[h(qx,{index:t,molecules:a,onChange:p}),$("p",{className:"newSumText",children:["New sum for ",c," will be ",l,"!"]})]})]}):h("p",{className:"empty",style:{color:o[e.name]?"red":"black"},children:"Add a molecule first from Structure panel to select as a reference!"})})}const K$=X`
  width: 450px;
  height: 400px;
  .header {
    display: flex;
    padding: 10px;
    span {
      font-size: 14px;
      flex: 1;
    }
  }

  .tab-content {
    flex: 1;
  }

  .manual-container {
    padding: 30px 5px;

    .input {
      width: 80% !important;
      height: 36px;
      margin: 0 auto;
    }
    .input Input {
      padding: 5px;
      text-align: center;
    }
  }

  .footer-container {
    button {
      width: 20%;
      color: white;
      background-color: gray !important;
    }
    button:hover {
      border: 1px solid gray;
      color: gray;
      background-color: white !important;
    }
  }
`;function Jx({onSave:e,onClose:t,header:n,sumOptions:r}){const{display:{general:o,panels:i}}=dt(),[a,s]=d.exports.useState("auto"),c=d.exports.useRef(null),l=d.exports.useCallback(g=>{g.key==="Enter"&&c.current.submitForm()},[]),u=d.exports.useCallback(g=>{s(g.tabid)},[]);d.exports.useEffect(()=>{if(r.sumAuto&&!o.hideSetSumFromMolecule&&!i.hideStructuresPanel){s("auto");const{mf:g,moleculeKey:v}=r;c.current.setValues({sum:null,molecule:v&&g?{mf:g,key:v}:null})}else s("manual"),c.current.setValues({sum:r.sum,molecule:null})},[o.hideSetSumFromMolecule,i.hideStructuresPanel,r]);const p=d.exports.useCallback(g=>{switch(a){case"auto":{const{molecule:{mf:v,key:x}}=g;e({sumAuto:!0,mf:v,moleculeKey:x});break}case"manual":{const{sum:v}=g;e({sum:v,sumAuto:!1});break}default:return}t()},[t,e,a]),f=d.exports.useMemo(()=>{switch(a){case"auto":return Ke({molecule:Ke().required()});case"manual":return Ke({sum:ft().required()});default:return null}},[a]);return $("div",{css:[$r,K$],children:[$("div",{className:"header handle",children:[h("span",{children:n}),h(At,{onClick:t})]}),h("div",{className:"tab-content",children:h(bt,{ref:c,onSubmit:p,initialValues:{sum:null,molecule:null},validationSchema:f,children:$(vi,{activeTab:a,onClick:u,children:[!o.hideSetSumFromMolecule&&!i.hideStructuresPanel&&h(fn,{tablabel:"Auto",tabid:"auto",children:h(Z$,{name:"molecule"})}),h(fn,{tablabel:"Manual",tabid:"manual",children:h("div",{className:"manual-container",children:h(Le,{name:"sum",type:"number",placeholder:"Enter the new value",onKeyDown:l})})})]})})}),h("div",{className:"footer-container",children:h("button",{type:"button",onClick:()=>c.current.submitForm(),className:"btn",children:"Set"})})]})}const q$=X`
  background-color: transparent;
  border: none;
  height: 100%;
  svg {
    fill: green;
    font-size: 16px;
  }
`;function J$(e){const{className:t="",disabled:n=!1,popupPlacement:r="left",popupTitle:o="Save",onClick:i}=e;return h("div",{className:t,children:h(rn,{title:o,popupPlacement:r,children:h("button",{css:q$,type:"button",onClick:i,disabled:n,className:t,children:h(yS,{})})})})}var wp=d.exports.memo(J$);const Q$=X`
  display: flex;
  flex-direction: row-reverse;
  border-bottom: 0.55px solid rgb(240, 240, 240);

  button {
    background-color: transparent;
    border: none;
    padding: 5px;
  }
  button:disabled {
    opacity: 0.6;
  }
`;function eD({onClose:e,onSave:t}){return $("div",{css:Q$,children:[h(At,{onClick:e,popupTitle:"close Preferences"}),h(wp,{onClick:t,popupTitle:"save Preferences"})]})}var xi=d.exports.memo(eD);function tD(e,t){const{onSave:n=()=>null,value:r,type:o="text",style:i,onEditStart:a=()=>null,editStatus:s=!1}=e,[c,l]=d.exports.useState();d.exports.useEffect(()=>{l(s)},[s]),d.exports.useImperativeHandle(t,()=>({startEdit:()=>{l(!0)},closeEdit:()=>{l(!1)}}));const u=d.exports.useCallback(f=>{f.target.classList.contains("editable-column")||(l(!1),window.removeEventListener("mousedown",u))},[]),p=d.exports.useCallback((f,g=null)=>{f?(window.addEventListener("mousedown",u),a(g),l(f)):(["Enter","Tab"].includes(g.key)&&n(g),["Enter","Tab","Escape"].includes(g.key)&&(l(f),window.removeEventListener("mousedown",u)))},[u,a,n]);return G("div",{style:S({display:"table",width:"100%",height:"100%"},i),onDoubleClick:f=>p(!0,f),children:[!c&&m("span",{style:{display:"table-cell",verticalAlign:"middle"},children:r}),c&&m("div",{style:{display:"table-cell",verticalAlign:"middle"},children:m(Tr,{enableAutoSelect:!0,className:"editable-column",value:r,type:o,onKeyDown:f=>p(!1,f)})})]})}var tr=d.exports.forwardRef(tD);const nD=X`
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);
  padding: 0px;
  margin: 0px;
  border-radius: 2px;
  display: flex;
  flex-direction: column;
  position: fixed;
  z-index: 99999;
  padding: 2px;
  background-color: white;
  width: 150px;
  pointer-events: all;

  button {
    background-color: transparent;
    border: none;
    border-bottom: 0.55px solid #f0f0f0;
    font-size: 11px;
    padding: 5px;
    text-align: left;
    outline: none;
  }
  button:hover {
    background-color: #fafafa;
    outline: none;
  }

  button:active {
    background-color: #eaeaea;
    outline: none;
  }

  button:last-of-type {
    border: none;
  }
`;function rD({context:e},t){const[n,r]=d.exports.useState({left:0,top:0}),{rootRef:o,elementsWraperRef:i}=Yd(),[a,s]=d.exports.useState(),[c,l]=d.exports.useState(),[u,p]=d.exports.useState(null),f=d.exports.useRef();d.exports.useEffect(()=>(f.current=document.createElement("div"),i&&i.appendChild(f.current),()=>{f.current&&i&&i.removeChild(f.current)}),[i]);const g=x=>{x.preventDefault(),p(x.target.parentElement),l(!0);const y=x.clientX,w=x.clientY,k=window.innerWidth,_=window.innerHeight,R=150,M=0,N=k-y>R;let H=!N,A=_-w>M;const D=!A;N&&(H=`${y+5}px`),H&&(H=`${y-R-5}px`),A&&(A=`${w+5}px`),D&&(A=`${w-M-5}px`),r({left:H,top:A})};d.exports.useImperativeHandle(t,()=>({handleContextMenu:(x,y)=>{s(y),g(x)}}));const v=d.exports.useCallback((x,y)=>{x.preventDefault(),y(a),l(!1)},[a]);return d.exports.useEffect(()=>{const x=y=>{u&&y.target.parentElement&&!y.target.parentElement.isSameNode(u)&&c&&l(!1)};return o&&o.addEventListener("click",x),()=>{o&&o.removeEventListener("click",x)}},[c,t,o,u]),c?f.current&&Tl.exports.createPortal(e&&h("div",{ref:t,css:[nD,n],children:e.map((x,y)=>h("button",{type:"button",onClick:w=>v(w,x.onClick),children:x.label},y))}),f.current):null}var xo=d.exports.forwardRef(rD);function oD({headerGroups:e}){return m("thead",{children:e.map(t=>m("tr",P(S({},t.getHeaderGroupProps()),{children:t.headers.map(n=>G("th",P(S({},n.getHeaderProps(n.getSortByToggleProps())),{style:n.style,children:[n.render("Header"),m("span",{children:n.isSorted?n.isSortedDesc?" \u25BC":" \u25B2":""})]}),n.getHeaderProps().key))}),t.getHeaderGroupProps().key))})}var iD=d.exports.memo(oD);function aD(e){const t=e.original.id;return t?t instanceof Array?t:[String(t)]:[""]}function sD(e,t){const{row:n,highlightedSource:r=wt.UNKNOWN,onContextMenu:o}=e,i=d.exports.useMemo(()=>({type:r,extra:n.original}),[r,n]),a=gt(aD(n),i);return d.exports.useEffect(()=>()=>{a.hide()},[]),d.exports.useMemo(()=>h("tr",P(S(S({ref:t,onContextMenu:o,css:a.isActive?fF:Object.prototype.hasOwnProperty.call(n.original,"isConstantlyHighlighted")&&n.original.isConstantlyHighlighted===!0?hF:null},n.getRowProps()),a.onHover),{children:n.cells.map(s=>{const{style:c,padding:l}=s.column;return s.isRowSpanned?null:h("td",P(S({rowSpan:s.rowSpan},s.getCellProps()),{onContextMenu:u=>(u.preventDefault(),!1),style:S({padding:l},c),children:s.render("Cell")}),s.key)})}),n.getRowProps().key),[a.isActive,a.onHover,o,t,n])}var lD=d.exports.forwardRef(sD);const Qx=d.exports.createContext(null),cD=Qx.Provider;function uD(){const e=d.exports.useContext(Qx);if(!e)throw new Error("react table context was not found ");return e}function dD(e){e.useInstance.push(pD)}function pD(e){const{allColumns:t}=e;let n=[];t.forEach(r=>{const{id:o,enableRowSpan:i}=r;i!==void 0&&i!==!1&&n.push({id:o,cellValue:null,cellIndex:0})}),Object.assign(e,{rowSpanHeaders:n})}function fD(e,t,n,r){const o=e[t];for(let i=0;i<o.allCells.length;i++){const a=o.allCells[i],s=n.find(c=>c.id===a.column.id);if(s!==void 0){const c=r?`${a.value}-${o.original[r]}`:a.value;s.cellValue===null||s.cellValue!==c?(a.isRowSpanned=!1,s.cellValue=c,s.cellIndex=t,a.rowSpan=1):(e[s.cellIndex].allCells[i].rowSpan++,a.isRowSpanned=!0)}}}const hD={table:e=>{if(e)return{position:"sticky",top:0}}},gD=d.exports.forwardRef(function(t,n){const{data:r,columns:o,highlightedSource:i,context:a=null,onScroll:s,approxItemHeight:c=40,enableVirtualScroll:l=!1,groupKey:u}=t,p=d.exports.useRef(null),{index:f}=uD(),{getTableProps:g,getTableBodyProps:v,headerGroups:x,rows:y,prepareRow:w,rowSpanHeaders:k}=Xo.exports.useTable({columns:o,data:r},Xo.exports.useSortBy,dD),_=d.exports.useCallback((M,N)=>{co(M)||(M.preventDefault(),p.current.handleContextMenu(M,N.original))},[p]),R=l?y.slice(f.start,f.end):y;return $("div",P(S({ref:n,className:"table-container",style:{overflowY:"auto",position:"relative",height:"100%"}},l&&{onScroll:s}),{children:[l&&h("div",{style:{height:c*r.length,position:"absolute",width:"100%",pointerEvents:"none"}}),$("table",P(S({},g()),{css:ax,style:hD.table(l),children:[h(iD,{headerGroups:x}),h("tbody",P(S({},v()),{children:R.map((M,N)=>(w(M),fD(y,l?N+f.start:N,k,u),h(lD,P(S({row:M},M.getRowProps()),{onContextMenu:H=>_(H,M),highlightedSource:i}),M.key)))}))]})),h(xo,{ref:p,context:a})]}))});function mD(e){const{data:t,approxItemHeight:n=40,groupKey:r}=e,o=d.exports.useRef(null),[i,{height:a}]=H0(),s=K1([i,o]),[c,l]=d.exports.useState({offsetHeight:0,scrollHeight:0,numberOfVisibleRows:0,index:{start:0,end:0}});d.exports.useEffect(()=>{if(s.current){const{scrollHeight:v}=s.current,x=Math.ceil(a/n);l(y=>P(S({},y),{offsetHeight:a,scrollHeight:v,numberOfVisibleRows:x,index:{start:0,end:x+1}}))}},[n,s,a]);const u=d.exports.useCallback((v,x)=>{const y=t[v];if(y.index&&r)switch(x){case-1:{let w=v-1;for(;w>0;){if(t[w][r]!==y[r])return w+1;w--}return v}case 1:{let w=v+1;for(;w<t.length;){if(t[w][r]!==y[r])return w-1;w++}return v}default:return v}return v},[t,r]),p=d.exports.useCallback((v,x)=>{const y=v-x,w=y>=t.length?y:v;return u(w,-1)},[t.length,u]),f=d.exports.useCallback((v,x)=>{const y=v+x,w=y>=t.length?t.length-1:y;return u(w,1)},[t.length,u]),g=d.exports.useCallback(()=>{if(o.current&&c){const{scrollTop:v}=o.current,{numberOfVisibleRows:x,index:y}=c,w=Math.ceil(v/n),k=p(w,x);if(w!==y.start){const _=f(w,x);l(P(S({},c),{index:{start:k,end:_+1}}))}}},[n,f,p,c]);return h(cD,{value:c,children:h(gD,S({onScroll:g,ref:s},e))})}var oc=d.exports.memo(mD);function ic(e,t){const{index:n,Header:r=()=>null,extraParams:o,accessor:i=null,Cell:a=null,sortType:s="basic",enableRowSpan:c=!1,style:l={},id:u}=t||{};e.push(S(P(S(S(S({index:n},S({},u&&{id:u})),S({},i?{accessor:i}:{})),S({},a?{Cell:a}:{})),{Header:r,sortType:s,enableRowSpan:c,style:l}),o))}const bD=`url('data:image/svg+xml;utf8,<svg  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="960px" height="560px" viewBox="0 0 960 560" enable-background="new 0 0 960 560" xml:space="preserve"><g id="Rounded_Rectangle_33_copy_4_1_"><path d="M480,344.181L268.869,131.889c-15.756-15.859-41.3-15.859-57.054,0c-15.754,15.857-15.754,41.57,0,57.431l237.632,238.937c8.395,8.451,19.562,12.254,30.553,11.698c10.993,0.556,22.159-3.247,30.555-11.698l237.631-238.937c15.756-15.86,15.756-41.571,0-57.431s-41.299-15.859-57.051,0L480,344.181z"/></g></svg>')`,hn=d.exports.forwardRef(function(t,n){const{data:r,style:o={width:100},onChange:i=()=>null,defaultValue:a,name:s="",className:c=""}=t,l=d.exports.useCallback(p=>{let f=p.target.value;isNaN(f)||(f=Number(f)),i(f)},[i]),u=X`
    padding: 0px 5px;
    border: 0.55px solid #cacaca;
    font-size: 14px;
    width: ${o.width?Number(o.width)-5:115}px;
    margin: 0;
    height: 100%;
    background: ${bD} no-repeat right white;
    -webkit-appearance: none;
    background-position-x: calc(100% - 5px);
    background-size: 15px 15px;
    border-radius: 5px;
    margin: 0px 5px;
    align-self: center;
    :focus,
    input:focus {
      outline: none;
    }
  `;return h("select",{ref:n,css:u,name:s,onChange:l,defaultValue:a,className:c,style:o,children:r.map(p=>h("option",{value:p.value,children:p.label},`${p.key}`))})}),Pg={container:{height:"100%",backgroundColor:"white"},label:{textAlign:"center",width:"100%",fontSize:"11px",padding:"5px",color:"gray"}};function yo(){return m("div",{style:Pg.container,children:m("p",{style:Pg.label,children:"No Data"})})}const vD={marginLeft:10,marginRight:10,border:"none"};function xD({activeTab:e,data:t,preferences:n}){const r=Re(),o=d.exports.useCallback((p,f)=>{p.preventDefault(),p.stopPropagation();const g=f.original;r({type:Hl,integralID:g.id})},[r]),i=d.exports.useCallback((p,f)=>{const g=P(S({},f.original),{kind:p});r({type:zb,payload:{data:g}})},[r]),a=d.exports.useMemo(()=>[{index:1,Header:"#",Cell:({row:p})=>p.index+1,width:10},{index:2,Header:"From",sortType:"basic",resizable:!0,accessor:p=>p.from.toFixed(2)},{index:3,Header:"To",sortType:"basic",resizable:!0,accessor:p=>p.to.toFixed(2)},{index:6,Header:"Kind",sortType:"basic",resizable:!0,accessor:p=>p.kind,Cell:({row:p})=>m(hn,{onChange:f=>i(f,p),data:cd,style:vD,defaultValue:p.original.kind})},{index:7,style:{width:"1%",maxWidth:"24px",minWidth:"24px"},id:"delete-button",Cell:({row:p})=>m("button",{type:"button",className:"delete-button",onClick:f=>o(f,p),children:m(Rr,{})})}],[i,o]),s=d.exports.useCallback((p,f)=>{const g={value:p.target.value,id:f.id};r({type:av,payload:{data:g}})},[r]),c=d.exports.useMemo(()=>ar(n,`formatting.panels.integrals.[${e}]`,qr),[e,n]),l=d.exports.useMemo(()=>[{showWhen:"showAbsolute",index:4,Header:"Absolute",accessor:p=>Fn(p.absolute,ve(c,"absoluteFormat",qr.absoluteFormat))},{showWhen:"showRelative",index:5,id:"relative",Header:()=>{const p=e==null?void 0:e.replace(/[0-9]/g,"");return m("span",{children:`Relative ${p}`})},accessor:p=>Fn(p.integral,ve(c,"relativeFormat",qr.relativeFormat)),Cell:({row:p})=>{const f=Fn(p.original.integral,ve(c,"relativeFormat",qr.relativeFormat)),v=Am(p.original)?f:`[ ${f} ]`;return m(tr,{value:v,onSave:x=>s(x,p.original),type:"number"})}}],[e,c,s]),u=d.exports.useMemo(()=>{let p=[...a];for(const g of l){const f=g,{showWhen:v}=f,x=he(f,["showWhen"]);c[v]&&ic(p,x)}return p.sort((g,v)=>g.index-v.index)},[l,a,c]);return t&&t.length>0?m(oc,{data:t,columns:u}):m(yo,{})}var yD=d.exports.memo(xD),Sp={},Ra={},ke={},Aa={},wD=wS,SD=z0,CD=SS,kD="[object String]";function ED(e){return typeof e=="string"||!SD(e)&&CD(e)&&wD(e)==kD}var _D=ED,TD=CS;function RD(e){return typeof e=="function"?e:TD}var ey=RD,AD=ad,PD=ey;function MD(e,t){return e&&AD(e,PD(t))}var Cp=MD;Object.defineProperty(Aa,"__esModule",{value:!0});Aa.flattenNames=void 0;var FD=_D,OD=ac(FD),$D=Cp,DD=ac($D),ID=kS,ND=ac(ID),LD=Wn,HD=ac(LD);function ac(e){return e&&e.__esModule?e:{default:e}}var zD=Aa.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,HD.default)(t,function(r){Array.isArray(r)?e(r).map(function(o){return n.push(o)}):(0,ND.default)(r)?(0,DD.default)(r,function(o,i){o===!0&&n.push(i),n.push(i+"-"+o)}):(0,OD.default)(r)&&n.push(r)}),n};Aa.default=zD;var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.mergeClasses=void 0;var BD=Cp,jD=ty(BD),VD=gn,GD=ty(VD),WD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ty(e){return e&&e.__esModule?e:{default:e}}var UD=Pa.mergeClasses=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=t.default&&(0,GD.default)(t.default)||{};return n.map(function(o){var i=t[o];return i&&(0,jD.default)(i,function(a,s){r[s]||(r[s]={}),r[s]=WD({},r[s],i[s])}),o}),r};Pa.default=UD;var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});Ma.autoprefix=void 0;var XD=Cp,Mg=ZD(XD),YD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ZD(e){return e&&e.__esModule?e:{default:e}}var KD={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var n=t&&t.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(t,n){var r=n[t];return r||{extend:t}}},qD=Ma.autoprefix=function(t){var n={};return(0,Mg.default)(t,function(r,o){var i={};(0,Mg.default)(r,function(a,s){var c=KD[s];c?i=YD({},i,c(a)):i[s]=a}),n[o]=i}),n};Ma.default=qD;var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.hover=void 0;var JD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QD=d.exports,jc=eI(QD);function eI(e){return e&&e.__esModule?e:{default:e}}function tI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fg(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function nI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var rI=Fa.hover=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){nI(o,r);function o(){var i,a,s,c;tI(this,o);for(var l=arguments.length,u=Array(l),p=0;p<l;p++)u[p]=arguments[p];return c=(a=(s=Fg(this,(i=o.__proto__||Object.getPrototypeOf(o)).call.apply(i,[this].concat(u))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return jc.default.createElement(n,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},jc.default.createElement(t,JD({},s.props,s.state)))},a),Fg(s,c)}return o}(jc.default.Component)};Fa.default=rI;var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});Oa.active=void 0;var oI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iI=d.exports,Vc=aI(iI);function aI(e){return e&&e.__esModule?e:{default:e}}function sI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Og(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function lI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var cI=Oa.active=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){lI(o,r);function o(){var i,a,s,c;sI(this,o);for(var l=arguments.length,u=Array(l),p=0;p<l;p++)u[p]=arguments[p];return c=(a=(s=Og(this,(i=o.__proto__||Object.getPrototypeOf(o)).call.apply(i,[this].concat(u))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return Vc.default.createElement(n,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},Vc.default.createElement(t,oI({},s.props,s.state)))},a),Og(s,c)}return o}(Vc.default.Component)};Oa.default=cI;var kp={};Object.defineProperty(kp,"__esModule",{value:!0});var uI=function(t,n){var r={},o=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[a]=s};return t===0&&o("first-child"),t===n-1&&o("last-child"),(t===0||t%2===0)&&o("even"),Math.abs(t%2)===1&&o("odd"),o("nth-child",t),r};kp.default=uI;Object.defineProperty(ke,"__esModule",{value:!0});ke.ReactCSS=ke.loop=ke.handleActive=ke.handleHover=ke.hover=void 0;var dI=Aa,pI=yi(dI),fI=Pa,hI=yi(fI),gI=Ma,mI=yi(gI),bI=Fa,ny=yi(bI),vI=Oa,xI=yi(vI),yI=kp,wI=yi(yI);function yi(e){return e&&e.__esModule?e:{default:e}}ke.hover=ny.default;ke.handleHover=ny.default;ke.handleActive=xI.default;ke.loop=wI.default;var SI=ke.ReactCSS=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=(0,pI.default)(r),a=(0,hI.default)(t,i);return(0,mI.default)(a)};ke.default=SI;var pt={},$a={},Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});Ep.calculateChange=function(t,n,r,o,i){t.preventDefault();var a=i.clientWidth,s=i.clientHeight,c=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,l=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,u=c-(i.getBoundingClientRect().left+window.pageXOffset),p=l-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var f=void 0;if(p<0?f=0:p>s?f=1:f=Math.round(p*100/s)/100,n.a!==f)return{h:n.h,s:n.s,l:n.l,a:f,source:"rgb"}}else{var g=void 0;if(u<0?g=0:u>a?g=1:g=Math.round(u*100/a)/100,o!==g)return{h:n.h,s:n.s,l:n.l,a:g,source:"rgb"}}return null};var wo={},sc={};Object.defineProperty(sc,"__esModule",{value:!0});var Gc={},CI=sc.render=function(t,n,r,o){if(typeof document=="undefined"&&!o)return null;var i=o?new o:document.createElement("canvas");i.width=r*2,i.height=r*2;var a=i.getContext("2d");return a?(a.fillStyle=t,a.fillRect(0,0,i.width,i.height),a.fillStyle=n,a.fillRect(0,0,r,r),a.translate(r,r),a.fillRect(0,0,r,r),i.toDataURL()):null};sc.get=function(t,n,r,o){var i=t+"-"+n+"-"+r+(o?"-server":"");if(Gc[i])return Gc[i];var a=CI(t,n,r,o);return Gc[i]=a,a};Object.defineProperty(wo,"__esModule",{value:!0});wo.Checkboard=void 0;var kI=d.exports,EI=ry(kI),_I=ke,TI=ry(_I),RI=sc,AI=PI(RI);function PI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function ry(e){return e&&e.__esModule?e:{default:e}}var oy=wo.Checkboard=function(t){var n=t.white,r=t.grey,o=t.size,i=t.renderers,a=t.borderRadius,s=t.boxShadow,c=(0,TI.default)({default:{grid:{borderRadius:a,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+AI.get(n,r,o,i.canvas)+") center left"}}});return EI.default.createElement("div",{style:c.grid})};oy.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};wo.default=oy;Object.defineProperty($a,"__esModule",{value:!0});$a.Alpha=void 0;var MI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FI=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ju=d.exports,pr=_p(ju),OI=ke,$I=_p(OI),DI=Ep,II=HI(DI),NI=wo,LI=_p(NI);function HI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _p(e){return e&&e.__esModule?e:{default:e}}function zI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function BI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jI=$a.Alpha=function(e){BI(t,e);function t(){var n,r,o,i;zI(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return i=(r=(o=$g(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),o),o.handleChange=function(l){var u=II.calculateChange(l,o.props.hsl,o.props.direction,o.props.a,o.container);u&&typeof o.props.onChange=="function"&&o.props.onChange(u,l)},o.handleMouseDown=function(l){o.handleChange(l),window.addEventListener("mousemove",o.handleChange),window.addEventListener("mouseup",o.handleMouseUp)},o.handleMouseUp=function(){o.unbindEventListeners()},o.unbindEventListeners=function(){window.removeEventListener("mousemove",o.handleChange),window.removeEventListener("mouseup",o.handleMouseUp)},r),$g(o,i)}return FI(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,o=this.props.rgb,i=(0,$I.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+o.r+","+o.g+","+o.b+`, 0) 0%,
           rgba(`+o.r+","+o.g+","+o.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:o.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+o.r+","+o.g+","+o.b+`, 0) 0%,
           rgba(`+o.r+","+o.g+","+o.b+", 1) 100%)"},pointer:{left:0,top:o.a*100+"%"}},overwrite:MI({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return pr.default.createElement("div",{style:i.alpha},pr.default.createElement("div",{style:i.checkboard},pr.default.createElement(LI.default,{renderers:this.props.renderers})),pr.default.createElement("div",{style:i.gradient}),pr.default.createElement("div",{style:i.container,ref:function(s){return r.container=s},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},pr.default.createElement("div",{style:i.pointer},this.props.pointer?pr.default.createElement(this.props.pointer,this.props):pr.default.createElement("div",{style:i.slider}))))}}]),t}(ju.PureComponent||ju.Component);$a.default=jI;var Da={};Object.defineProperty(Da,"__esModule",{value:!0});Da.EditableInput=void 0;var VI=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vu=d.exports,Wc=iy(Vu),GI=ke,WI=iy(GI);function iy(e){return e&&e.__esModule?e:{default:e}}function UI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YI(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ZI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var KI=1,ay=38,qI=40,JI=[ay,qI],QI=function(t){return JI.indexOf(t)>-1},eN=function(t){return t+"%"},tN=function(t){return Number(String(t).replace(/%/g,""))},nN=function(t){return String(t).indexOf("%")>-1},rN=Da.EditableInput=function(e){ZI(t,e);function t(n){XI(this,t);var r=YI(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(o){r.setUpdatedValue(o.target.value,o)},r.handleKeyDown=function(o){var i=tN(o.target.value);if(!isNaN(i)&&QI(o.keyCode)){var a=r.getArrowOffset(),s=o.keyCode===ay?i+a:i-a;r.setUpdatedValue(s,o)}},r.handleDrag=function(o){if(r.props.dragLabel){var i=Math.round(r.props.value+o.movementX);i>=0&&i<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(i),o)}},r.handleMouseDown=function(o){r.props.dragLabel&&(o.preventDefault(),r.handleDrag(o),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r}return VI(t,[{key:"componentWillReceiveProps",value:function(r){var o=this.input;r.value!==this.state.value&&(o===document.activeElement?this.setState({blurValue:String(r.value).toUpperCase()}):this.setState({value:String(r.value).toUpperCase(),blurValue:!this.state.blurValue&&String(r.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return UI({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||KI}},{key:"setUpdatedValue",value:function(r,o){var i=this.props.label!==null?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(i,o);var a=nN(o.target.value);this.setState({value:a?eN(r):r})}},{key:"render",value:function(){var r=this,o=(0,WI.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return Wc.default.createElement("div",{style:o.wrap},Wc.default.createElement("input",{style:o.input,ref:function(a){return r.input=a},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?Wc.default.createElement("span",{style:o.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(Vu.PureComponent||Vu.Component);Da.default=rN;var Ia={},Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});Tp.calculateChange=function(t,n,r,o){t.preventDefault();var i=o.clientWidth,a=o.clientHeight,s=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,c=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,l=s-(o.getBoundingClientRect().left+window.pageXOffset),u=c-(o.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var p=void 0;if(u<0)p=359;else if(u>a)p=0;else{var f=-(u*100/a)+100;p=360*f/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"rgb"}}else{var g=void 0;if(l<0)g=0;else if(l>i)g=359;else{var v=l*100/i;g=360*v/100}if(r.h!==g)return{h:g,s:r.s,l:r.l,a:r.a,source:"rgb"}}return null};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.Hue=void 0;var oN=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Gu=d.exports,To=sy(Gu),iN=ke,aN=sy(iN),sN=Tp,lN=cN(sN);function cN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function sy(e){return e&&e.__esModule?e:{default:e}}function uN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dg(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function dN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var pN=Ia.Hue=function(e){dN(t,e);function t(){var n,r,o,i;uN(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return i=(r=(o=Dg(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),o),o.handleChange=function(l){var u=lN.calculateChange(l,o.props.direction,o.props.hsl,o.container);u&&typeof o.props.onChange=="function"&&o.props.onChange(u,l)},o.handleMouseDown=function(l){o.handleChange(l),window.addEventListener("mousemove",o.handleChange),window.addEventListener("mouseup",o.handleMouseUp)},o.handleMouseUp=function(){o.unbindEventListeners()},r),Dg(o,i)}return oN(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,o=this.props.direction,i=o===void 0?"horizontal":o,a=(0,aN.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:i==="vertical"});return To.default.createElement("div",{style:a.hue},To.default.createElement("div",{className:"hue-"+i,style:a.container,ref:function(c){return r.container=c},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},To.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),To.default.createElement("div",{style:a.pointer},this.props.pointer?To.default.createElement(this.props.pointer,this.props):To.default.createElement("div",{style:a.slider}))))}}]),t}(Gu.PureComponent||Gu.Component);Ia.default=pN;var Na={};Object.defineProperty(Na,"__esModule",{value:!0});Na.Raised=void 0;var fN=d.exports,Uc=lc(fN),hN=an.exports,$s=lc(hN),gN=ke,mN=lc(gN),bN=_t,vN=lc(bN);function lc(e){return e&&e.__esModule?e:{default:e}}var Rp=Na.Raised=function(t){var n=t.zDepth,r=t.radius,o=t.background,i=t.children,a=t.styles,s=a===void 0?{}:a,c=(0,mN.default)((0,vN.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:o}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":n===1});return Uc.default.createElement("div",{style:c.wrap},Uc.default.createElement("div",{style:c.bg}),Uc.default.createElement("div",{style:c.content},i))};Rp.propTypes={background:$s.default.string,zDepth:$s.default.oneOf([0,1,2,3,4,5]),radius:$s.default.number,styles:$s.default.object};Rp.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};Na.default=Rp;var La={},xN=si,yN=ES,wN="Expected a function";function SN(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(wN);return yN(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),xN(e,t,{leading:r,maxWait:t,trailing:o})}var CN=SN,Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});Ap.calculateChange=function(t,n,r){t.preventDefault();var o=r.getBoundingClientRect(),i=o.width,a=o.height,s=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,c=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,l=s-(r.getBoundingClientRect().left+window.pageXOffset),u=c-(r.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>i?l=i:u<0?u=0:u>a&&(u=a);var p=l*100/i,f=-(u*100/a)+100;return{h:n.h,s:p,v:f,a:n.a,source:"rgb"}};Object.defineProperty(La,"__esModule",{value:!0});La.Saturation=void 0;var kN=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Wu=d.exports,zr=Pp(Wu),EN=ke,_N=Pp(EN),TN=CN,RN=Pp(TN),AN=Ap,PN=MN(AN);function MN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Pp(e){return e&&e.__esModule?e:{default:e}}function FN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ON(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function $N(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var DN=La.Saturation=function(e){$N(t,e);function t(n){FN(this,t);var r=ON(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.handleChange=function(o){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,PN.calculateChange(o,r.props.hsl,r.container),o)},r.handleMouseDown=function(o){r.handleChange(o),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=(0,RN.default)(function(o,i,a){o(i,a)},50),r}return kN(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,o=this.props.style||{},i=o.color,a=o.white,s=o.black,c=o.pointer,l=o.circle,u=(0,_N.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:i,white:a,black:s,pointer:c,circle:l}},{custom:!!this.props.style});return zr.default.createElement("div",{style:u.color,ref:function(f){return r.container=f},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},zr.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),zr.default.createElement("div",{style:u.white,className:"saturation-white"},zr.default.createElement("div",{style:u.black,className:"saturation-black"}),zr.default.createElement("div",{style:u.pointer},this.props.pointer?zr.default.createElement(this.props.pointer,this.props):zr.default.createElement("div",{style:u.circle}))))}}]),t}(Wu.PureComponent||Wu.Component);La.default=DN;var wi={},Zt={},IN=_S,NN=TS,LN=ey,HN=z0;function zN(e,t){var n=HN(e)?IN:NN;return n(e,LN(t))}var BN=zN,jN=BN,ly={exports:{}};(function(e){(function(t){var n=/^\s+/,r=/\s+$/,o=0,i=t.round,a=t.min,s=t.max,c=t.random;function l(O,j){if(O=O||"",j=j||{},O instanceof l)return O;if(!(this instanceof l))return new l(O,j);var I=u(O);this._originalInput=O,this._r=I.r,this._g=I.g,this._b=I.b,this._a=I.a,this._roundA=i(100*this._a)/100,this._format=j.format||I.format,this._gradientType=j.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=I.ok,this._tc_id=o++}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var O=this.toRgb();return(O.r*299+O.g*587+O.b*114)/1e3},getLuminance:function(){var O=this.toRgb(),j,I,Q,pe,fe,We;return j=O.r/255,I=O.g/255,Q=O.b/255,j<=.03928?pe=j/12.92:pe=t.pow((j+.055)/1.055,2.4),I<=.03928?fe=I/12.92:fe=t.pow((I+.055)/1.055,2.4),Q<=.03928?We=Q/12.92:We=t.pow((Q+.055)/1.055,2.4),.2126*pe+.7152*fe+.0722*We},setAlpha:function(O){return this._a=He(O),this._roundA=i(100*this._a)/100,this},toHsv:function(){var O=v(this._r,this._g,this._b);return{h:O.h*360,s:O.s,v:O.v,a:this._a}},toHsvString:function(){var O=v(this._r,this._g,this._b),j=i(O.h*360),I=i(O.s*100),Q=i(O.v*100);return this._a==1?"hsv("+j+", "+I+"%, "+Q+"%)":"hsva("+j+", "+I+"%, "+Q+"%, "+this._roundA+")"},toHsl:function(){var O=f(this._r,this._g,this._b);return{h:O.h*360,s:O.s,l:O.l,a:this._a}},toHslString:function(){var O=f(this._r,this._g,this._b),j=i(O.h*360),I=i(O.s*100),Q=i(O.l*100);return this._a==1?"hsl("+j+", "+I+"%, "+Q+"%)":"hsla("+j+", "+I+"%, "+Q+"%, "+this._roundA+")"},toHex:function(O){return y(this._r,this._g,this._b,O)},toHexString:function(O){return"#"+this.toHex(O)},toHex8:function(O){return w(this._r,this._g,this._b,this._a,O)},toHex8String:function(O){return"#"+this.toHex8(O)},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(Pe(this._r,255)*100)+"%",g:i(Pe(this._g,255)*100)+"%",b:i(Pe(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+i(Pe(this._r,255)*100)+"%, "+i(Pe(this._g,255)*100)+"%, "+i(Pe(this._b,255)*100)+"%)":"rgba("+i(Pe(this._r,255)*100)+"%, "+i(Pe(this._g,255)*100)+"%, "+i(Pe(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:me[y(this._r,this._g,this._b,!0)]||!1},toFilter:function(O){var j="#"+k(this._r,this._g,this._b,this._a),I=j,Q=this._gradientType?"GradientType = 1, ":"";if(O){var pe=l(O);I="#"+k(pe._r,pe._g,pe._b,pe._a)}return"progid:DXImageTransform.Microsoft.gradient("+Q+"startColorstr="+j+",endColorstr="+I+")"},toString:function(O){var j=!!O;O=O||this._format;var I=!1,Q=this._a<1&&this._a>=0,pe=!j&&Q&&(O==="hex"||O==="hex6"||O==="hex3"||O==="hex4"||O==="hex8"||O==="name");return pe?O==="name"&&this._a===0?this.toName():this.toRgbString():(O==="rgb"&&(I=this.toRgbString()),O==="prgb"&&(I=this.toPercentageRgbString()),(O==="hex"||O==="hex6")&&(I=this.toHexString()),O==="hex3"&&(I=this.toHexString(!0)),O==="hex4"&&(I=this.toHex8String(!0)),O==="hex8"&&(I=this.toHex8String()),O==="name"&&(I=this.toName()),O==="hsl"&&(I=this.toHslString()),O==="hsv"&&(I=this.toHsvString()),I||this.toHexString())},clone:function(){return l(this.toString())},_applyModification:function(O,j){var I=O.apply(null,[this].concat([].slice.call(j)));return this._r=I._r,this._g=I._g,this._b=I._b,this.setAlpha(I._a),this},lighten:function(){return this._applyModification(N,arguments)},brighten:function(){return this._applyModification(H,arguments)},darken:function(){return this._applyModification(A,arguments)},desaturate:function(){return this._applyModification(_,arguments)},saturate:function(){return this._applyModification(R,arguments)},greyscale:function(){return this._applyModification(M,arguments)},spin:function(){return this._applyModification(D,arguments)},_applyCombination:function(O,j){return O.apply(null,[this].concat([].slice.call(j)))},analogous:function(){return this._applyCombination(ae,arguments)},complement:function(){return this._applyCombination(z,arguments)},monochromatic:function(){return this._applyCombination(je,arguments)},splitcomplement:function(){return this._applyCombination(oe,arguments)},triad:function(){return this._applyCombination(U,arguments)},tetrad:function(){return this._applyCombination(Y,arguments)}},l.fromRatio=function(O,j){if(typeof O=="object"){var I={};for(var Q in O)O.hasOwnProperty(Q)&&(Q==="a"?I[Q]=O[Q]:I[Q]=zt(O[Q]));O=I}return l(O,j)};function u(O){var j={r:0,g:0,b:0},I=1,Q=null,pe=null,fe=null,We=!1,V=!1;return typeof O=="string"&&(O=ko(O)),typeof O=="object"&&(ln(O.r)&&ln(O.g)&&ln(O.b)?(j=p(O.r,O.g,O.b),We=!0,V=String(O.r).substr(-1)==="%"?"prgb":"rgb"):ln(O.h)&&ln(O.s)&&ln(O.v)?(Q=zt(O.s),pe=zt(O.v),j=x(O.h,Q,pe),We=!0,V="hsv"):ln(O.h)&&ln(O.s)&&ln(O.l)&&(Q=zt(O.s),fe=zt(O.l),j=g(O.h,Q,fe),We=!0,V="hsl"),O.hasOwnProperty("a")&&(I=O.a)),I=He(I),{ok:We,format:O.format||V,r:a(255,s(j.r,0)),g:a(255,s(j.g,0)),b:a(255,s(j.b,0)),a:I}}function p(O,j,I){return{r:Pe(O,255)*255,g:Pe(j,255)*255,b:Pe(I,255)*255}}function f(O,j,I){O=Pe(O,255),j=Pe(j,255),I=Pe(I,255);var Q=s(O,j,I),pe=a(O,j,I),fe,We,V=(Q+pe)/2;if(Q==pe)fe=We=0;else{var ie=Q-pe;switch(We=V>.5?ie/(2-Q-pe):ie/(Q+pe),Q){case O:fe=(j-I)/ie+(j<I?6:0);break;case j:fe=(I-O)/ie+2;break;case I:fe=(O-j)/ie+4;break}fe/=6}return{h:fe,s:We,l:V}}function g(O,j,I){var Q,pe,fe;O=Pe(O,360),j=Pe(j,100),I=Pe(I,100);function We(ge,xe,Ee){return Ee<0&&(Ee+=1),Ee>1&&(Ee-=1),Ee<1/6?ge+(xe-ge)*6*Ee:Ee<1/2?xe:Ee<2/3?ge+(xe-ge)*(2/3-Ee)*6:ge}if(j===0)Q=pe=fe=I;else{var V=I<.5?I*(1+j):I+j-I*j,ie=2*I-V;Q=We(ie,V,O+1/3),pe=We(ie,V,O),fe=We(ie,V,O-1/3)}return{r:Q*255,g:pe*255,b:fe*255}}function v(O,j,I){O=Pe(O,255),j=Pe(j,255),I=Pe(I,255);var Q=s(O,j,I),pe=a(O,j,I),fe,We,V=Q,ie=Q-pe;if(We=Q===0?0:ie/Q,Q==pe)fe=0;else{switch(Q){case O:fe=(j-I)/ie+(j<I?6:0);break;case j:fe=(I-O)/ie+2;break;case I:fe=(O-j)/ie+4;break}fe/=6}return{h:fe,s:We,v:V}}function x(O,j,I){O=Pe(O,360)*6,j=Pe(j,100),I=Pe(I,100);var Q=t.floor(O),pe=O-Q,fe=I*(1-j),We=I*(1-pe*j),V=I*(1-(1-pe)*j),ie=Q%6,ge=[I,We,fe,fe,V,I][ie],xe=[V,I,I,We,fe,fe][ie],Ee=[fe,fe,V,I,I,We][ie];return{r:ge*255,g:xe*255,b:Ee*255}}function y(O,j,I,Q){var pe=[at(i(O).toString(16)),at(i(j).toString(16)),at(i(I).toString(16))];return Q&&pe[0].charAt(0)==pe[0].charAt(1)&&pe[1].charAt(0)==pe[1].charAt(1)&&pe[2].charAt(0)==pe[2].charAt(1)?pe[0].charAt(0)+pe[1].charAt(0)+pe[2].charAt(0):pe.join("")}function w(O,j,I,Q,pe){var fe=[at(i(O).toString(16)),at(i(j).toString(16)),at(i(I).toString(16)),at(Kt(Q))];return pe&&fe[0].charAt(0)==fe[0].charAt(1)&&fe[1].charAt(0)==fe[1].charAt(1)&&fe[2].charAt(0)==fe[2].charAt(1)&&fe[3].charAt(0)==fe[3].charAt(1)?fe[0].charAt(0)+fe[1].charAt(0)+fe[2].charAt(0)+fe[3].charAt(0):fe.join("")}function k(O,j,I,Q){var pe=[at(Kt(Q)),at(i(O).toString(16)),at(i(j).toString(16)),at(i(I).toString(16))];return pe.join("")}l.equals=function(O,j){return!O||!j?!1:l(O).toRgbString()==l(j).toRgbString()},l.random=function(){return l.fromRatio({r:c(),g:c(),b:c()})};function _(O,j){j=j===0?0:j||10;var I=l(O).toHsl();return I.s-=j/100,I.s=St(I.s),l(I)}function R(O,j){j=j===0?0:j||10;var I=l(O).toHsl();return I.s+=j/100,I.s=St(I.s),l(I)}function M(O){return l(O).desaturate(100)}function N(O,j){j=j===0?0:j||10;var I=l(O).toHsl();return I.l+=j/100,I.l=St(I.l),l(I)}function H(O,j){j=j===0?0:j||10;var I=l(O).toRgb();return I.r=s(0,a(255,I.r-i(255*-(j/100)))),I.g=s(0,a(255,I.g-i(255*-(j/100)))),I.b=s(0,a(255,I.b-i(255*-(j/100)))),l(I)}function A(O,j){j=j===0?0:j||10;var I=l(O).toHsl();return I.l-=j/100,I.l=St(I.l),l(I)}function D(O,j){var I=l(O).toHsl(),Q=(I.h+j)%360;return I.h=Q<0?360+Q:Q,l(I)}function z(O){var j=l(O).toHsl();return j.h=(j.h+180)%360,l(j)}function U(O){var j=l(O).toHsl(),I=j.h;return[l(O),l({h:(I+120)%360,s:j.s,l:j.l}),l({h:(I+240)%360,s:j.s,l:j.l})]}function Y(O){var j=l(O).toHsl(),I=j.h;return[l(O),l({h:(I+90)%360,s:j.s,l:j.l}),l({h:(I+180)%360,s:j.s,l:j.l}),l({h:(I+270)%360,s:j.s,l:j.l})]}function oe(O){var j=l(O).toHsl(),I=j.h;return[l(O),l({h:(I+72)%360,s:j.s,l:j.l}),l({h:(I+216)%360,s:j.s,l:j.l})]}function ae(O,j,I){j=j||6,I=I||30;var Q=l(O).toHsl(),pe=360/I,fe=[l(O)];for(Q.h=(Q.h-(pe*j>>1)+720)%360;--j;)Q.h=(Q.h+pe)%360,fe.push(l(Q));return fe}function je(O,j){j=j||6;for(var I=l(O).toHsv(),Q=I.h,pe=I.s,fe=I.v,We=[],V=1/j;j--;)We.push(l({h:Q,s:pe,v:fe})),fe=(fe+V)%1;return We}l.mix=function(O,j,I){I=I===0?0:I||50;var Q=l(O).toRgb(),pe=l(j).toRgb(),fe=I/100,We={r:(pe.r-Q.r)*fe+Q.r,g:(pe.g-Q.g)*fe+Q.g,b:(pe.b-Q.b)*fe+Q.b,a:(pe.a-Q.a)*fe+Q.a};return l(We)},l.readability=function(O,j){var I=l(O),Q=l(j);return(t.max(I.getLuminance(),Q.getLuminance())+.05)/(t.min(I.getLuminance(),Q.getLuminance())+.05)},l.isReadable=function(O,j,I){var Q=l.readability(O,j),pe,fe;switch(fe=!1,pe=Ri(I),pe.level+pe.size){case"AAsmall":case"AAAlarge":fe=Q>=4.5;break;case"AAlarge":fe=Q>=3;break;case"AAAsmall":fe=Q>=7;break}return fe},l.mostReadable=function(O,j,I){var Q=null,pe=0,fe,We,V,ie;I=I||{},We=I.includeFallbackColors,V=I.level,ie=I.size;for(var ge=0;ge<j.length;ge++)fe=l.readability(O,j[ge]),fe>pe&&(pe=fe,Q=l(j[ge]));return l.isReadable(O,Q,{level:V,size:ie})||!We?Q:(I.includeFallbackColors=!1,l.mostReadable(O,["#fff","#000"],I))};var ue=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},me=l.hexNames=$e(ue);function $e(O){var j={};for(var I in O)O.hasOwnProperty(I)&&(j[O[I]]=I);return j}function He(O){return O=parseFloat(O),(isNaN(O)||O<0||O>1)&&(O=1),O}function Pe(O,j){Ft(O)&&(O="100%");var I=Ht(O);return O=a(j,s(0,parseFloat(O))),I&&(O=parseInt(O*j,10)/100),t.abs(O-j)<1e-6?1:O%j/parseFloat(j)}function St(O){return a(1,s(0,O))}function nt(O){return parseInt(O,16)}function Ft(O){return typeof O=="string"&&O.indexOf(".")!=-1&&parseFloat(O)===1}function Ht(O){return typeof O=="string"&&O.indexOf("%")!=-1}function at(O){return O.length==1?"0"+O:""+O}function zt(O){return O<=1&&(O=O*100+"%"),O}function Kt(O){return t.round(parseFloat(O)*255).toString(16)}function Jn(O){return nt(O)/255}var Ot=function(){var O="[-\\+]?\\d+%?",j="[-\\+]?\\d*\\.\\d+%?",I="(?:"+j+")|(?:"+O+")",Q="[\\s|\\(]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")\\s*\\)?",pe="[\\s|\\(]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")\\s*\\)?";return{CSS_UNIT:new RegExp(I),rgb:new RegExp("rgb"+Q),rgba:new RegExp("rgba"+pe),hsl:new RegExp("hsl"+Q),hsla:new RegExp("hsla"+pe),hsv:new RegExp("hsv"+Q),hsva:new RegExp("hsva"+pe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ln(O){return!!Ot.CSS_UNIT.exec(O)}function ko(O){O=O.replace(n,"").replace(r,"").toLowerCase();var j=!1;if(ue[O])O=ue[O],j=!0;else if(O=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var I;return(I=Ot.rgb.exec(O))?{r:I[1],g:I[2],b:I[3]}:(I=Ot.rgba.exec(O))?{r:I[1],g:I[2],b:I[3],a:I[4]}:(I=Ot.hsl.exec(O))?{h:I[1],s:I[2],l:I[3]}:(I=Ot.hsla.exec(O))?{h:I[1],s:I[2],l:I[3],a:I[4]}:(I=Ot.hsv.exec(O))?{h:I[1],s:I[2],v:I[3]}:(I=Ot.hsva.exec(O))?{h:I[1],s:I[2],v:I[3],a:I[4]}:(I=Ot.hex8.exec(O))?{r:nt(I[1]),g:nt(I[2]),b:nt(I[3]),a:Jn(I[4]),format:j?"name":"hex8"}:(I=Ot.hex6.exec(O))?{r:nt(I[1]),g:nt(I[2]),b:nt(I[3]),format:j?"name":"hex"}:(I=Ot.hex4.exec(O))?{r:nt(I[1]+""+I[1]),g:nt(I[2]+""+I[2]),b:nt(I[3]+""+I[3]),a:Jn(I[4]+""+I[4]),format:j?"name":"hex8"}:(I=Ot.hex3.exec(O))?{r:nt(I[1]+""+I[1]),g:nt(I[2]+""+I[2]),b:nt(I[3]+""+I[3]),format:j?"name":"hex"}:!1}function Ri(O){var j,I;return O=O||{level:"AA",size:"small"},j=(O.level||"AA").toUpperCase(),I=(O.size||"small").toLowerCase(),j!=="AA"&&j!=="AAA"&&(j="AA"),I!=="small"&&I!=="large"&&(I="small"),{level:j,size:I}}e.exports?e.exports=l:window.tinycolor=l})(Math)})(ly);Object.defineProperty(Zt,"__esModule",{value:!0});Zt.red=void 0;var VN=jN,GN=cy(VN),WN=ly.exports,Xc=cy(WN);function cy(e){return e&&e.__esModule?e:{default:e}}Zt.default={simpleCheckForValidColor:function(t){var n=["r","g","b","a","h","s","l","v"],r=0,o=0;return(0,GN.default)(n,function(i){if(t[i]&&(r+=1,isNaN(t[i])||(o+=1),i==="s"||i==="l")){var a=/^\d+%$/;a.test(t[i])&&(o+=1)}}),r===o?t:!1},toState:function(t,n){var r=t.hex?(0,Xc.default)(t.hex):(0,Xc.default)(t),o=r.toHsl(),i=r.toHsv(),a=r.toRgb(),s=r.toHex();o.s===0&&(o.h=n||0,i.h=n||0);var c=s==="000000"&&a.a===0;return{hsl:o,hex:c?"transparent":"#"+s,rgb:a,hsv:i,oldHue:t.h||n||o.h,source:t.source}},isValidHex:function(t){var n=String(t).charAt(0)==="#"?1:0;return t.length!==4+n&&t.length<7+n&&(0,Xc.default)(t).isValid()},getContrastingColor:function(t){if(!t)return"#fff";var n=this.toState(t);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"}};Zt.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}};Object.defineProperty(wi,"__esModule",{value:!0});wi.ColorWrap=void 0;var Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UN=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Uu=d.exports,XN=Mp(Uu),YN=si,ZN=Mp(YN),KN=Zt,Ro=Mp(KN);function Mp(e){return e&&e.__esModule?e:{default:e}}function qN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JN(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function QN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var eL=wi.ColorWrap=function(t){var n=function(r){QN(o,r);function o(i){qN(this,o);var a=JN(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return a.handleChange=function(s,c){var l=Ro.default.simpleCheckForValidColor(s);if(l){var u=Ro.default.toState(s,s.h||a.state.oldHue);a.setState(u),a.props.onChangeComplete&&a.debounce(a.props.onChangeComplete,u,c),a.props.onChange&&a.props.onChange(u,c)}},a.handleSwatchHover=function(s,c){var l=Ro.default.simpleCheckForValidColor(s);if(l){var u=Ro.default.toState(s,s.h||a.state.oldHue);a.setState(u),a.props.onSwatchHover&&a.props.onSwatchHover(u,c)}},a.state=Di({},Ro.default.toState(i.color,0)),a.debounce=(0,ZN.default)(function(s,c,l){s(c,l)},100),a}return UN(o,[{key:"componentWillReceiveProps",value:function(a){this.setState(Di({},Ro.default.toState(a.color,this.state.oldHue)))}},{key:"render",value:function(){var a={};return this.props.onSwatchHover&&(a.onSwatchHover=this.handleSwatchHover),XN.default.createElement(t,Di({},this.props,this.state,{onChange:this.handleChange},a))}}]),o}(Uu.PureComponent||Uu.Component);return n.propTypes=Di({},t.propTypes),n.defaultProps=Di({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n};wi.default=eL;var Ha={},cc={};Object.defineProperty(cc,"__esModule",{value:!0});cc.handleFocus=void 0;var tL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nL=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),rL=d.exports,Yc=oL(rL);function oL(e){return e&&e.__esModule?e:{default:e}}function iL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ig(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function aL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}cc.handleFocus=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){aL(o,r);function o(){var i,a,s,c;iL(this,o);for(var l=arguments.length,u=Array(l),p=0;p<l;p++)u[p]=arguments[p];return c=(a=(s=Ig(this,(i=o.__proto__||Object.getPrototypeOf(o)).call.apply(i,[this].concat(u))),s),s.state={focus:!1},s.handleFocus=function(){return s.setState({focus:!0})},s.handleBlur=function(){return s.setState({focus:!1})},a),Ig(s,c)}return nL(o,[{key:"render",value:function(){return Yc.default.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},Yc.default.createElement(t,tL({},this.props,this.state)))}}]),o}(Yc.default.Component)};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.Swatch=void 0;var Ng=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sL=d.exports,Lg=Fp(sL),lL=ke,cL=Fp(lL),uL=cc,dL=wo,pL=Fp(dL);function Fp(e){return e&&e.__esModule?e:{default:e}}var fL=13,hL=Ha.Swatch=function(t){var n=t.color,r=t.style,o=t.onClick,i=o===void 0?function(){}:o,a=t.onHover,s=t.title,c=s===void 0?n:s,l=t.children,u=t.focus,p=t.focusStyle,f=p===void 0?{}:p,g=n==="transparent",v=(0,cL.default)({default:{swatch:Ng({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?f:{})}}),x=function(R){return i(n,R)},y=function(R){return R.keyCode===fL&&i(n,R)},w=function(R){return a(n,R)},k={};return a&&(k.onMouseOver=w),Lg.default.createElement("div",Ng({style:v.swatch,onClick:x,title:c,tabIndex:0,onKeyDown:y},k),l,g&&Lg.default.createElement(pL.default,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};Ha.default=(0,uL.handleFocus)(hL);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=$a;Object.defineProperty(e,"Alpha",{enumerable:!0,get:function(){return l(t).default}});var n=wo;Object.defineProperty(e,"Checkboard",{enumerable:!0,get:function(){return l(n).default}});var r=Da;Object.defineProperty(e,"EditableInput",{enumerable:!0,get:function(){return l(r).default}});var o=Ia;Object.defineProperty(e,"Hue",{enumerable:!0,get:function(){return l(o).default}});var i=Na;Object.defineProperty(e,"Raised",{enumerable:!0,get:function(){return l(i).default}});var a=La;Object.defineProperty(e,"Saturation",{enumerable:!0,get:function(){return l(a).default}});var s=wi;Object.defineProperty(e,"ColorWrap",{enumerable:!0,get:function(){return l(s).default}});var c=Ha;Object.defineProperty(e,"Swatch",{enumerable:!0,get:function(){return l(c).default}});function l(u){return u&&u.__esModule?u:{default:u}}})(pt);var za={};Object.defineProperty(za,"__esModule",{value:!0});za.AlphaPointer=void 0;var gL=d.exports,mL=uy(gL),bL=ke,vL=uy(bL);function uy(e){return e&&e.__esModule?e:{default:e}}var xL=za.AlphaPointer=function(t){var n=t.direction,r=(0,vL.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return mL.default.createElement("div",{style:r.picker})};za.default=xL;Object.defineProperty(Ra,"__esModule",{value:!0});Ra.AlphaPicker=void 0;var yL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wL=d.exports,Hg=Op(wL),SL=ke,CL=Op(SL),dy=pt,kL=za,EL=Op(kL);function Op(e){return e&&e.__esModule?e:{default:e}}var py=Ra.AlphaPicker=function(t){var n=t.rgb,r=t.hsl,o=t.width,i=t.height,a=t.onChange,s=t.direction,c=t.style,l=t.renderers,u=t.pointer,p=t.className,f=p===void 0?"":p,g=(0,CL.default)({default:{picker:{position:"relative",width:o,height:i},alpha:{radius:"2px",style:c}}});return Hg.default.createElement("div",{style:g.picker,className:"alpha-picker "+f},Hg.default.createElement(dy.Alpha,yL({},g.alpha,{rgb:n,hsl:r,pointer:u,renderers:l,onChange:a,direction:s})))};py.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:EL.default};Ra.default=(0,dy.ColorWrap)(py);var Ba={},ja={};Object.defineProperty(ja,"__esModule",{value:!0});ja.BlockSwatches=void 0;var _L=d.exports,Zc=$p(_L),TL=ke,RL=$p(TL),AL=Wn,PL=$p(AL),ML=pt;function $p(e){return e&&e.__esModule?e:{default:e}}var FL=ja.BlockSwatches=function(t){var n=t.colors,r=t.onClick,o=t.onSwatchHover,i=(0,RL.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return Zc.default.createElement("div",{style:i.swatches},(0,PL.default)(n,function(a){return Zc.default.createElement(ML.Swatch,{key:a,color:a,style:i.swatch,onClick:r,onHover:o,focusStyle:{boxShadow:"0 0 4px "+a}})}),Zc.default.createElement("div",{style:i.clear}))};ja.default=FL;Object.defineProperty(Ba,"__esModule",{value:!0});Ba.Block=void 0;var OL=d.exports,fr=Si(OL),$L=an.exports,Br=Si($L),DL=ke,IL=Si(DL),NL=_t,LL=Si(NL),HL=Zt,zg=Si(HL),Xu=pt,zL=ja,BL=Si(zL);function Si(e){return e&&e.__esModule?e:{default:e}}var Dp=Ba.Block=function(t){var n=t.onChange,r=t.onSwatchHover,o=t.hex,i=t.colors,a=t.width,s=t.triangle,c=t.styles,l=c===void 0?{}:c,u=t.className,p=u===void 0?"":u,f=o==="transparent",g=function(y,w){zg.default.isValidHex(y)&&n({hex:y,source:"hex"},w)},v=(0,IL.default)((0,LL.default)({default:{card:{width:a,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:o,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:zg.default.getContrastingColor(o),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+o+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},l),{"hide-triangle":s==="hide"});return fr.default.createElement("div",{style:v.card,className:"block-picker "+p},fr.default.createElement("div",{style:v.triangle}),fr.default.createElement("div",{style:v.head},f&&fr.default.createElement(Xu.Checkboard,{borderRadius:"6px 6px 0 0"}),fr.default.createElement("div",{style:v.label},o)),fr.default.createElement("div",{style:v.body},fr.default.createElement(BL.default,{colors:i,onClick:g,onSwatchHover:r}),fr.default.createElement(Xu.EditableInput,{style:{input:v.input},value:o,onChange:g})))};Dp.propTypes={width:Br.default.oneOfType([Br.default.string,Br.default.number]),colors:Br.default.arrayOf(Br.default.string),triangle:Br.default.oneOf(["top","hide"]),styles:Br.default.object};Dp.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Ba.default=(0,Xu.ColorWrap)(Dp);var Va={},fy={"50":"#ffebee","100":"#ffcdd2","200":"#ef9a9a","300":"#e57373","400":"#ef5350","500":"#f44336","600":"#e53935","700":"#d32f2f","800":"#c62828","900":"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},hy={"50":"#fce4ec","100":"#f8bbd0","200":"#f48fb1","300":"#f06292","400":"#ec407a","500":"#e91e63","600":"#d81b60","700":"#c2185b","800":"#ad1457","900":"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},gy={"50":"#f3e5f5","100":"#e1bee7","200":"#ce93d8","300":"#ba68c8","400":"#ab47bc","500":"#9c27b0","600":"#8e24aa","700":"#7b1fa2","800":"#6a1b9a","900":"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},my={"50":"#ede7f6","100":"#d1c4e9","200":"#b39ddb","300":"#9575cd","400":"#7e57c2","500":"#673ab7","600":"#5e35b1","700":"#512da8","800":"#4527a0","900":"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},by={"50":"#e8eaf6","100":"#c5cae9","200":"#9fa8da","300":"#7986cb","400":"#5c6bc0","500":"#3f51b5","600":"#3949ab","700":"#303f9f","800":"#283593","900":"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},vy={"50":"#e3f2fd","100":"#bbdefb","200":"#90caf9","300":"#64b5f6","400":"#42a5f5","500":"#2196f3","600":"#1e88e5","700":"#1976d2","800":"#1565c0","900":"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},xy={"50":"#e1f5fe","100":"#b3e5fc","200":"#81d4fa","300":"#4fc3f7","400":"#29b6f6","500":"#03a9f4","600":"#039be5","700":"#0288d1","800":"#0277bd","900":"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},yy={"50":"#e0f7fa","100":"#b2ebf2","200":"#80deea","300":"#4dd0e1","400":"#26c6da","500":"#00bcd4","600":"#00acc1","700":"#0097a7","800":"#00838f","900":"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},wy={"50":"#e0f2f1","100":"#b2dfdb","200":"#80cbc4","300":"#4db6ac","400":"#26a69a","500":"#009688","600":"#00897b","700":"#00796b","800":"#00695c","900":"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Sy={"50":"#e8f5e9","100":"#c8e6c9","200":"#a5d6a7","300":"#81c784","400":"#66bb6a","500":"#4caf50","600":"#43a047","700":"#388e3c","800":"#2e7d32","900":"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Cy={"50":"#f1f8e9","100":"#dcedc8","200":"#c5e1a5","300":"#aed581","400":"#9ccc65","500":"#8bc34a","600":"#7cb342","700":"#689f38","800":"#558b2f","900":"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},ky={"50":"#f9fbe7","100":"#f0f4c3","200":"#e6ee9c","300":"#dce775","400":"#d4e157","500":"#cddc39","600":"#c0ca33","700":"#afb42b","800":"#9e9d24","900":"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Ey={"50":"#fffde7","100":"#fff9c4","200":"#fff59d","300":"#fff176","400":"#ffee58","500":"#ffeb3b","600":"#fdd835","700":"#fbc02d","800":"#f9a825","900":"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},_y={"50":"#fff8e1","100":"#ffecb3","200":"#ffe082","300":"#ffd54f","400":"#ffca28","500":"#ffc107","600":"#ffb300","700":"#ffa000","800":"#ff8f00","900":"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Ty={"50":"#fff3e0","100":"#ffe0b2","200":"#ffcc80","300":"#ffb74d","400":"#ffa726","500":"#ff9800","600":"#fb8c00","700":"#f57c00","800":"#ef6c00","900":"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Ry={"50":"#fbe9e7","100":"#ffccbc","200":"#ffab91","300":"#ff8a65","400":"#ff7043","500":"#ff5722","600":"#f4511e","700":"#e64a19","800":"#d84315","900":"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Ay={"50":"#efebe9","100":"#d7ccc8","200":"#bcaaa4","300":"#a1887f","400":"#8d6e63","500":"#795548","600":"#6d4c41","700":"#5d4037","800":"#4e342e","900":"#3e2723"},Py={"50":"#fafafa","100":"#f5f5f5","200":"#eeeeee","300":"#e0e0e0","400":"#bdbdbd","500":"#9e9e9e","600":"#757575","700":"#616161","800":"#424242","900":"#212121"},My={"50":"#eceff1","100":"#cfd8dc","200":"#b0bec5","300":"#90a4ae","400":"#78909c","500":"#607d8b","600":"#546e7a","700":"#455a64","800":"#37474f","900":"#263238"},Fy={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},Oy={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},$y={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},Dy={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},Iy="#ffffff",Ny="#000000",jL={red:fy,pink:hy,purple:gy,deepPurple:my,indigo:by,blue:vy,lightBlue:xy,cyan:yy,teal:wy,green:Sy,lightGreen:Cy,lime:ky,yellow:Ey,amber:_y,orange:Ty,deepOrange:Ry,brown:Ay,grey:Py,blueGrey:My,darkText:Fy,lightText:Oy,darkIcons:$y,lightIcons:Dy,white:Iy,black:Ny},VL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",red:fy,pink:hy,purple:gy,deepPurple:my,indigo:by,blue:vy,lightBlue:xy,cyan:yy,teal:wy,green:Sy,lightGreen:Cy,lime:ky,yellow:Ey,amber:_y,orange:Ty,deepOrange:Ry,brown:Ay,grey:Py,blueGrey:My,darkText:Fy,lightText:Oy,darkIcons:$y,lightIcons:Dy,white:Iy,black:Ny,default:jL}),Ly=RS(VL),Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.CircleSwatch=void 0;var GL=d.exports,Bg=zy(GL),Hy=ke,WL=zy(Hy),UL=pt;function zy(e){return e&&e.__esModule?e:{default:e}}var By=Ga.CircleSwatch=function(t){var n=t.color,r=t.onClick,o=t.onSwatchHover,i=t.hover,a=t.active,s=t.circleSize,c=t.circleSpacing,l=(0,WL.default)({default:{swatch:{width:s,height:s,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+s/2+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:i,active:a});return Bg.default.createElement("div",{style:l.swatch},Bg.default.createElement(UL.Swatch,{style:l.Swatch,color:n,onClick:r,onHover:o,focusStyle:{boxShadow:l.Swatch.boxShadow+", 0 0 5px "+n}}))};By.defaultProps={circleSize:28,circleSpacing:14};Ga.default=(0,Hy.handleHover)(By);Object.defineProperty(Va,"__esModule",{value:!0});Va.Circle=void 0;var XL=d.exports,jg=Ci(XL),YL=an.exports,Ao=Ci(YL),ZL=ke,KL=Ci(ZL),qL=Wn,JL=Ci(qL),QL=_t,eH=Ci(QL),tH=Ly,Mt=iH(tH),nH=pt,rH=Ga,oH=Ci(rH);function iH(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Ci(e){return e&&e.__esModule?e:{default:e}}var Ip=Va.Circle=function(t){var n=t.width,r=t.onChange,o=t.onSwatchHover,i=t.colors,a=t.hex,s=t.circleSize,c=t.styles,l=c===void 0?{}:c,u=t.circleSpacing,p=t.className,f=p===void 0?"":p,g=(0,KL.default)((0,eH.default)({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},l)),v=function(y,w){return r({hex:y,source:"hex"},w)};return jg.default.createElement("div",{style:g.card,className:"circle-picker "+f},(0,JL.default)(i,function(x){return jg.default.createElement(oH.default,{key:x,color:x,onClick:v,onSwatchHover:o,active:a===x.toLowerCase(),circleSize:s,circleSpacing:u})}))};Ip.propTypes={width:Ao.default.oneOfType([Ao.default.string,Ao.default.number]),circleSize:Ao.default.number,circleSpacing:Ao.default.number,styles:Ao.default.object};Ip.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Mt.red["500"],Mt.pink["500"],Mt.purple["500"],Mt.deepPurple["500"],Mt.indigo["500"],Mt.blue["500"],Mt.lightBlue["500"],Mt.cyan["500"],Mt.teal["500"],Mt.green["500"],Mt.lightGreen["500"],Mt.lime["500"],Mt.yellow["500"],Mt.amber["500"],Mt.orange["500"],Mt.deepOrange["500"],Mt.brown["500"],Mt.blueGrey["500"]],styles:{}};Va.default=(0,nH.ColorWrap)(Ip);var Wa={},Ua={},Np={};Object.defineProperty(Np,"__esModule",{value:!0});var Vg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aH=d.exports,Gg=sH(aH);function sH(e){return e&&e.__esModule?e:{default:e}}function lH(e,t){var n={};for(var r in e)t.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(e,r)||(n[r]=e[r]);return n}var Ds=24;Np.default=function(e){var t=e.fill,n=t===void 0?"currentColor":t,r=e.width,o=r===void 0?Ds:r,i=e.height,a=i===void 0?Ds:i,s=e.style,c=s===void 0?{}:s,l=lH(e,["fill","width","height","style"]);return Gg.default.createElement("svg",Vg({viewBox:"0 0 "+Ds+" "+Ds,style:Vg({fill:n,width:o,height:a},c)},l),Gg.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.ChromeFields=void 0;var cH=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),uH=d.exports,rt=uc(uH),dH=ke,pH=uc(dH),fH=Zt,hH=uc(fH),Qn=pt,gH=Np,mH=uc(gH);function uc(e){return e&&e.__esModule?e:{default:e}}function bH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wg(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function vH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var xH=Ua.ChromeFields=function(e){vH(t,e);function t(){var n,r,o,i;bH(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return i=(r=(o=Wg(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),o),o.state={view:""},o.toggleViews=function(){o.state.view==="hex"?o.setState({view:"rgb"}):o.state.view==="rgb"?o.setState({view:"hsl"}):o.state.view==="hsl"&&(o.props.hsl.a===1?o.setState({view:"hex"}):o.setState({view:"rgb"}))},o.handleChange=function(l,u){l.hex?hH.default.isValidHex(l.hex)&&o.props.onChange({hex:l.hex,source:"hex"},u):l.r||l.g||l.b?o.props.onChange({r:l.r||o.props.rgb.r,g:l.g||o.props.rgb.g,b:l.b||o.props.rgb.b,source:"rgb"},u):l.a?(l.a<0?l.a=0:l.a>1&&(l.a=1),o.props.onChange({h:o.props.hsl.h,s:o.props.hsl.s,l:o.props.hsl.l,a:Math.round(l.a*100)/100,source:"rgb"},u)):(l.h||l.s||l.l)&&(typeof l.s=="string"&&l.s.includes("%")&&(l.s=l.s.replace("%","")),typeof l.l=="string"&&l.l.includes("%")&&(l.l=l.l.replace("%","")),o.props.onChange({h:l.h||o.props.hsl.h,s:Number(l.s&&l.s||o.props.hsl.s),l:Number(l.l&&l.l||o.props.hsl.l),source:"hsl"},u))},o.showHighlight=function(l){l.currentTarget.style.background="#eee"},o.hideHighlight=function(l){l.currentTarget.style.background="transparent"},r),Wg(o,i)}return cH(t,[{key:"componentDidMount",value:function(){this.props.hsl.a===1&&this.state.view!=="hex"?this.setState({view:"hex"}):this.state.view!=="rgb"&&this.state.view!=="hsl"&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(r){r.hsl.a!==1&&this.state.view==="hex"&&this.setState({view:"rgb"})}},{key:"render",value:function(){var r=this,o=(0,pH.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),i=void 0;return this.state.view==="hex"?i=rt.default.createElement("div",{style:o.fields,className:"flexbox-fix"},rt.default.createElement("div",{style:o.field},rt.default.createElement(Qn.EditableInput,{style:{input:o.input,label:o.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?i=rt.default.createElement("div",{style:o.fields,className:"flexbox-fix"},rt.default.createElement("div",{style:o.field},rt.default.createElement(Qn.EditableInput,{style:{input:o.input,label:o.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),rt.default.createElement("div",{style:o.field},rt.default.createElement(Qn.EditableInput,{style:{input:o.input,label:o.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),rt.default.createElement("div",{style:o.field},rt.default.createElement(Qn.EditableInput,{style:{input:o.input,label:o.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),rt.default.createElement("div",{style:o.alpha},rt.default.createElement(Qn.EditableInput,{style:{input:o.input,label:o.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(i=rt.default.createElement("div",{style:o.fields,className:"flexbox-fix"},rt.default.createElement("div",{style:o.field},rt.default.createElement(Qn.EditableInput,{style:{input:o.input,label:o.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),rt.default.createElement("div",{style:o.field},rt.default.createElement(Qn.EditableInput,{style:{input:o.input,label:o.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),rt.default.createElement("div",{style:o.field},rt.default.createElement(Qn.EditableInput,{style:{input:o.input,label:o.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),rt.default.createElement("div",{style:o.alpha},rt.default.createElement(Qn.EditableInput,{style:{input:o.input,label:o.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),rt.default.createElement("div",{style:o.wrap,className:"flexbox-fix"},i,rt.default.createElement("div",{style:o.toggle},rt.default.createElement("div",{style:o.icon,onClick:this.toggleViews,ref:function(s){return r.icon=s}},rt.default.createElement(mH.default,{style:o.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}]),t}(rt.default.Component);Ua.default=xH;var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.ChromePointer=void 0;var yH=d.exports,wH=jy(yH),SH=ke,CH=jy(SH);function jy(e){return e&&e.__esModule?e:{default:e}}var kH=Xa.ChromePointer=function(){var t=(0,CH.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return wH.default.createElement("div",{style:t.picker})};Xa.default=kH;var Ya={};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.ChromePointerCircle=void 0;var EH=d.exports,_H=Vy(EH),TH=ke,RH=Vy(TH);function Vy(e){return e&&e.__esModule?e:{default:e}}var AH=Ya.ChromePointerCircle=function(){var t=(0,RH.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return _H.default.createElement("div",{style:t.picker})};Ya.default=AH;Object.defineProperty(Wa,"__esModule",{value:!0});Wa.Chrome=void 0;var PH=d.exports,Ut=So(PH),MH=an.exports,Ii=So(MH),FH=ke,OH=So(FH),$H=_t,DH=So($H),Wi=pt,IH=Ua,NH=So(IH),LH=Xa,Ug=So(LH),HH=Ya,zH=So(HH);function So(e){return e&&e.__esModule?e:{default:e}}var Lp=Wa.Chrome=function(t){var n=t.width,r=t.onChange,o=t.disableAlpha,i=t.rgb,a=t.hsl,s=t.hsv,c=t.hex,l=t.renderers,u=t.styles,p=u===void 0?{}:u,f=t.className,g=f===void 0?"":f,v=(0,OH.default)((0,DH.default)({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},p),{disableAlpha:o});return Ut.default.createElement("div",{style:v.picker,className:"chrome-picker "+g},Ut.default.createElement("div",{style:v.saturation},Ut.default.createElement(Wi.Saturation,{style:v.Saturation,hsl:a,hsv:s,pointer:zH.default,onChange:r})),Ut.default.createElement("div",{style:v.body},Ut.default.createElement("div",{style:v.controls,className:"flexbox-fix"},Ut.default.createElement("div",{style:v.color},Ut.default.createElement("div",{style:v.swatch},Ut.default.createElement("div",{style:v.active}),Ut.default.createElement(Wi.Checkboard,{renderers:l}))),Ut.default.createElement("div",{style:v.toggles},Ut.default.createElement("div",{style:v.hue},Ut.default.createElement(Wi.Hue,{style:v.Hue,hsl:a,pointer:Ug.default,onChange:r})),Ut.default.createElement("div",{style:v.alpha},Ut.default.createElement(Wi.Alpha,{style:v.Alpha,rgb:i,hsl:a,pointer:Ug.default,renderers:l,onChange:r})))),Ut.default.createElement(NH.default,{rgb:i,hsl:a,hex:c,onChange:r,disableAlpha:o})))};Lp.propTypes={width:Ii.default.oneOfType([Ii.default.string,Ii.default.number]),disableAlpha:Ii.default.bool,styles:Ii.default.object};Lp.defaultProps={width:225,disableAlpha:!1,styles:{}};Wa.default=(0,Wi.ColorWrap)(Lp);var Za={},Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.CompactColor=void 0;var BH=d.exports,Xg=Hp(BH),jH=ke,VH=Hp(jH),GH=Zt,WH=Hp(GH),UH=pt;function Hp(e){return e&&e.__esModule?e:{default:e}}var XH=Ka.CompactColor=function(t){var n=t.color,r=t.onClick,o=r===void 0?function(){}:r,i=t.onSwatchHover,a=t.active,s=(0,VH.default)({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:WH.default.getContrastingColor(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:a,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return Xg.default.createElement(UH.Swatch,{style:s.color,color:n,onClick:o,onHover:i,focusStyle:{boxShadow:"0 0 4px "+n}},Xg.default.createElement("div",{style:s.dot}))};Ka.default=XH;var qa={};Object.defineProperty(qa,"__esModule",{value:!0});qa.CompactFields=void 0;var YH=d.exports,Po=Gy(YH),ZH=ke,KH=Gy(ZH),Is=pt;function Gy(e){return e&&e.__esModule?e:{default:e}}var qH=qa.CompactFields=function(t){var n=t.hex,r=t.rgb,o=t.onChange,i=(0,KH.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),a=function(c,l){c.r||c.g||c.b?o({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},l):o({hex:c.hex,source:"hex"},l)};return Po.default.createElement("div",{style:i.fields,className:"flexbox-fix"},Po.default.createElement("div",{style:i.active}),Po.default.createElement(Is.EditableInput,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:n,onChange:a}),Po.default.createElement(Is.EditableInput,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:r.r,onChange:a}),Po.default.createElement(Is.EditableInput,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:r.g,onChange:a}),Po.default.createElement(Is.EditableInput,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:r.b,onChange:a}))};qa.default=qH;Object.defineProperty(Za,"__esModule",{value:!0});Za.Compact=void 0;var JH=d.exports,Mo=Ir(JH),QH=an.exports,Kc=Ir(QH),ez=ke,tz=Ir(ez),nz=Wn,rz=Ir(nz),oz=_t,iz=Ir(oz),az=Zt,sz=Ir(az),Wy=pt,lz=Ka,cz=Ir(lz),uz=qa,dz=Ir(uz);function Ir(e){return e&&e.__esModule?e:{default:e}}var zp=Za.Compact=function(t){var n=t.onChange,r=t.onSwatchHover,o=t.colors,i=t.hex,a=t.rgb,s=t.styles,c=s===void 0?{}:s,l=t.className,u=l===void 0?"":l,p=(0,tz.default)((0,iz.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},c)),f=function(v,x){v.hex?sz.default.isValidHex(v.hex)&&n({hex:v.hex,source:"hex"},x):n(v,x)};return Mo.default.createElement(Wy.Raised,{style:p.Compact,styles:c},Mo.default.createElement("div",{style:p.compact,className:"compact-picker "+u},Mo.default.createElement("div",null,(0,rz.default)(o,function(g){return Mo.default.createElement(cz.default,{key:g,color:g,active:g.toLowerCase()===i,onClick:f,onSwatchHover:r})}),Mo.default.createElement("div",{style:p.clear})),Mo.default.createElement(dz.default,{hex:i,rgb:a,onChange:f})))};zp.propTypes={colors:Kc.default.arrayOf(Kc.default.string),styles:Kc.default.object};zp.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Za.default=(0,Wy.ColorWrap)(zp);var Ja={},Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.GithubSwatch=void 0;var pz=d.exports,Yg=Xy(pz),Uy=ke,fz=Xy(Uy),hz=pt;function Xy(e){return e&&e.__esModule?e:{default:e}}var gz=Qa.GithubSwatch=function(t){var n=t.hover,r=t.color,o=t.onClick,i=t.onSwatchHover,a={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=(0,fz.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:a}},{hover:n});return Yg.default.createElement("div",{style:s.swatch},Yg.default.createElement(hz.Swatch,{color:r,onClick:o,onHover:i,focusStyle:a}))};Qa.default=(0,Uy.handleHover)(gz);Object.defineProperty(Ja,"__esModule",{value:!0});Ja.Github=void 0;var mz=d.exports,Ns=ki(mz),bz=an.exports,jr=ki(bz),vz=ke,xz=ki(vz),yz=Wn,wz=ki(yz),Sz=_t,Cz=ki(Sz),kz=pt,Ez=Qa,_z=ki(Ez);function ki(e){return e&&e.__esModule?e:{default:e}}var Bp=Ja.Github=function(t){var n=t.width,r=t.colors,o=t.onChange,i=t.onSwatchHover,a=t.triangle,s=t.styles,c=s===void 0?{}:s,l=t.className,u=l===void 0?"":l,p=(0,xz.default)((0,Cz.default)({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right","bottom-left-triangle":a==="bottom-left","bottom-right-triangle":a==="bottom-right"}),f=function(v,x){return o({hex:v,source:"hex"},x)};return Ns.default.createElement("div",{style:p.card,className:"github-picker "+u},Ns.default.createElement("div",{style:p.triangleShadow}),Ns.default.createElement("div",{style:p.triangle}),(0,wz.default)(r,function(g){return Ns.default.createElement(_z.default,{color:g,key:g,onClick:f,onSwatchHover:i})}))};Bp.propTypes={width:jr.default.oneOfType([jr.default.string,jr.default.number]),colors:jr.default.arrayOf(jr.default.string),triangle:jr.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:jr.default.object};Bp.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Ja.default=(0,kz.ColorWrap)(Bp);var es={},ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.SliderPointer=void 0;var Tz=d.exports,Rz=Yy(Tz),Az=ke,Pz=Yy(Az);function Yy(e){return e&&e.__esModule?e:{default:e}}var Mz=ts.SliderPointer=function(t){var n=t.direction,r=(0,Pz.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return Rz.default.createElement("div",{style:r.picker})};ts.default=Mz;Object.defineProperty(es,"__esModule",{value:!0});es.HuePicker=void 0;var Fz=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oz=d.exports,Zg=ns(Oz),$z=an.exports,Dz=ns($z),Iz=ke,Nz=ns(Iz),Lz=_t,Hz=ns(Lz),Zy=pt,zz=ts,Bz=ns(zz);function ns(e){return e&&e.__esModule?e:{default:e}}var jp=es.HuePicker=function(t){var n=t.width,r=t.height,o=t.onChange,i=t.hsl,a=t.direction,s=t.pointer,c=t.styles,l=c===void 0?{}:c,u=t.className,p=u===void 0?"":u,f=(0,Nz.default)((0,Hz.default)({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},l)),g=function(x){return o({a:1,h:x.h,l:.5,s:1})};return Zg.default.createElement("div",{style:f.picker,className:"hue-picker "+p},Zg.default.createElement(Zy.Hue,Fz({},f.hue,{hsl:i,pointer:s,onChange:g,direction:a})))};jp.propTypes={styles:Dz.default.object};jp.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Bz.default,styles:{}};es.default=(0,Zy.ColorWrap)(jp);var rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.Material=void 0;var jz=d.exports,Ln=dc(jz),Vz=ke,Gz=dc(Vz),Wz=_t,Uz=dc(Wz),Xz=Zt,Yz=dc(Xz),Bo=pt;function dc(e){return e&&e.__esModule?e:{default:e}}var Zz=rs.Material=function(t){var n=t.onChange,r=t.hex,o=t.rgb,i=t.styles,a=i===void 0?{}:i,s=t.className,c=s===void 0?"":s,l=(0,Gz.default)((0,Uz.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},a)),u=function(f,g){f.hex?Yz.default.isValidHex(f.hex)&&n({hex:f.hex,source:"hex"},g):(f.r||f.g||f.b)&&n({r:f.r||o.r,g:f.g||o.g,b:f.b||o.b,source:"rgb"},g)};return Ln.default.createElement(Bo.Raised,{styles:a},Ln.default.createElement("div",{style:l.material,className:"material-picker "+c},Ln.default.createElement(Bo.EditableInput,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"hex",value:r,onChange:u}),Ln.default.createElement("div",{style:l.split,className:"flexbox-fix"},Ln.default.createElement("div",{style:l.third},Ln.default.createElement(Bo.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:o.r,onChange:u})),Ln.default.createElement("div",{style:l.third},Ln.default.createElement(Bo.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:o.g,onChange:u})),Ln.default.createElement("div",{style:l.third},Ln.default.createElement(Bo.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:o.b,onChange:u})))))};rs.default=(0,Bo.ColorWrap)(Zz);var os={},is={};Object.defineProperty(is,"__esModule",{value:!0});is.PhotoshopPicker=void 0;var Kz=d.exports,Jt=Vp(Kz),qz=ke,Jz=Vp(qz),Qz=Zt,eB=Vp(Qz),Vr=pt;function Vp(e){return e&&e.__esModule?e:{default:e}}var tB=is.PhotoshopPicker=function(t){var n=t.onChange,r=t.rgb,o=t.hsv,i=t.hex,a=(0,Jz.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(l,u){l["#"]?eB.default.isValidHex(l["#"])&&n({hex:l["#"],source:"hex"},u):l.r||l.g||l.b?n({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):(l.h||l.s||l.v)&&n({h:l.h||o.h,s:l.s||o.s,v:l.v||o.v,source:"hsv"},u)};return Jt.default.createElement("div",{style:a.fields},Jt.default.createElement(Vr.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"h",value:Math.round(o.h),onChange:s}),Jt.default.createElement(Vr.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"s",value:Math.round(o.s*100),onChange:s}),Jt.default.createElement(Vr.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"v",value:Math.round(o.v*100),onChange:s}),Jt.default.createElement("div",{style:a.divider}),Jt.default.createElement(Vr.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:r.r,onChange:s}),Jt.default.createElement(Vr.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:r.g,onChange:s}),Jt.default.createElement(Vr.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:r.b,onChange:s}),Jt.default.createElement("div",{style:a.divider}),Jt.default.createElement(Vr.EditableInput,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"#",value:i.replace("#",""),onChange:s}),Jt.default.createElement("div",{style:a.fieldSymbols},Jt.default.createElement("div",{style:a.symbol},"\xB0"),Jt.default.createElement("div",{style:a.symbol},"%"),Jt.default.createElement("div",{style:a.symbol},"%")))};is.default=tB;var as={};Object.defineProperty(as,"__esModule",{value:!0});as.PhotoshopPointerCircle=void 0;var nB=d.exports,rB=Ky(nB),oB=ke,iB=Ky(oB);function Ky(e){return e&&e.__esModule?e:{default:e}}var aB=as.PhotoshopPointerCircle=function(t){var n=t.hsl,r=(0,iB.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return rB.default.createElement("div",{style:r.picker})};as.default=aB;var ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.PhotoshopPointerCircle=void 0;var sB=d.exports,Ni=qy(sB),lB=ke,cB=qy(lB);function qy(e){return e&&e.__esModule?e:{default:e}}var uB=ss.PhotoshopPointerCircle=function(){var t=(0,cB.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return Ni.default.createElement("div",{style:t.pointer},Ni.default.createElement("div",{style:t.left},Ni.default.createElement("div",{style:t.leftInside})),Ni.default.createElement("div",{style:t.right},Ni.default.createElement("div",{style:t.rightInside})))};ss.default=uB;var ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.PhotoshopButton=void 0;var dB=d.exports,pB=Jy(dB),fB=ke,hB=Jy(fB);function Jy(e){return e&&e.__esModule?e:{default:e}}var gB=ls.PhotoshopButton=function(t){var n=t.onClick,r=t.label,o=t.children,i=t.active,a=(0,hB.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return pB.default.createElement("div",{style:a.button,onClick:n},r||o)};ls.default=gB;var cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.PhotoshopPreviews=void 0;var mB=d.exports,Fo=Qy(mB),bB=ke,vB=Qy(bB);function Qy(e){return e&&e.__esModule?e:{default:e}}var xB=cs.PhotoshopPreviews=function(t){var n=t.rgb,r=t.currentColor,o=(0,vB.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return Fo.default.createElement("div",null,Fo.default.createElement("div",{style:o.label},"new"),Fo.default.createElement("div",{style:o.swatches},Fo.default.createElement("div",{style:o.new}),Fo.default.createElement("div",{style:o.current})),Fo.default.createElement("div",{style:o.label},"current"))};cs.default=xB;Object.defineProperty(os,"__esModule",{value:!0});os.Photoshop=void 0;var yB=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wB=d.exports,Bt=lr(wB),SB=an.exports,Kg=lr(SB),CB=ke,kB=lr(CB),EB=_t,_B=lr(EB),Yu=pt,TB=is,RB=lr(TB),AB=as,PB=lr(AB),MB=ss,FB=lr(MB),OB=ls,qg=lr(OB),$B=cs,DB=lr($B);function lr(e){return e&&e.__esModule?e:{default:e}}function IB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NB(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function LB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Gp=os.Photoshop=function(e){LB(t,e);function t(n){IB(this,t);var r=NB(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.state={currentColor:n.hex},r}return yB(t,[{key:"render",value:function(){var r=this.props,o=r.styles,i=o===void 0?{}:o,a=r.className,s=a===void 0?"":a,c=(0,kB.default)((0,_B.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},i));return Bt.default.createElement("div",{style:c.picker,className:"photoshop-picker "+s},Bt.default.createElement("div",{style:c.head},this.props.header),Bt.default.createElement("div",{style:c.body,className:"flexbox-fix"},Bt.default.createElement("div",{style:c.saturation},Bt.default.createElement(Yu.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:PB.default,onChange:this.props.onChange})),Bt.default.createElement("div",{style:c.hue},Bt.default.createElement(Yu.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:FB.default,onChange:this.props.onChange})),Bt.default.createElement("div",{style:c.controls},Bt.default.createElement("div",{style:c.top,className:"flexbox-fix"},Bt.default.createElement("div",{style:c.previews},Bt.default.createElement(DB.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),Bt.default.createElement("div",{style:c.actions},Bt.default.createElement(qg.default,{label:"OK",onClick:this.props.onAccept,active:!0}),Bt.default.createElement(qg.default,{label:"Cancel",onClick:this.props.onCancel}),Bt.default.createElement(RB.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(Bt.default.Component);Gp.propTypes={header:Kg.default.string,styles:Kg.default.object};Gp.defaultProps={header:"Color Picker",styles:{}};os.default=(0,Yu.ColorWrap)(Gp);var us={},ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.SketchFields=void 0;var HB=d.exports,An=Wp(HB),zB=ke,BB=Wp(zB),jB=Zt,VB=Wp(jB),Li=pt;function Wp(e){return e&&e.__esModule?e:{default:e}}var GB=ds.SketchFields=function(t){var n=t.onChange,r=t.rgb,o=t.hsl,i=t.hex,a=t.disableAlpha,s=(0,BB.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:a}),c=function(u,p){u.hex?VB.default.isValidHex(u.hex)&&n({hex:u.hex,source:"hex"},p):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},p):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,n({h:o.h,s:o.s,l:o.l,a:u.a,source:"rgb"},p))};return An.default.createElement("div",{style:s.fields,className:"flexbox-fix"},An.default.createElement("div",{style:s.double},An.default.createElement(Li.EditableInput,{style:{input:s.input,label:s.label},label:"hex",value:i.replace("#",""),onChange:c})),An.default.createElement("div",{style:s.single},An.default.createElement(Li.EditableInput,{style:{input:s.input,label:s.label},label:"r",value:r.r,onChange:c,dragLabel:"true",dragMax:"255"})),An.default.createElement("div",{style:s.single},An.default.createElement(Li.EditableInput,{style:{input:s.input,label:s.label},label:"g",value:r.g,onChange:c,dragLabel:"true",dragMax:"255"})),An.default.createElement("div",{style:s.single},An.default.createElement(Li.EditableInput,{style:{input:s.input,label:s.label},label:"b",value:r.b,onChange:c,dragLabel:"true",dragMax:"255"})),An.default.createElement("div",{style:s.alpha},An.default.createElement(Li.EditableInput,{style:{input:s.input,label:s.label},label:"a",value:Math.round(r.a*100),onChange:c,dragLabel:"true",dragMax:"100"})))};ds.default=GB;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.SketchPresetColors=void 0;var WB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UB=d.exports,qc=Up(UB),XB=an.exports,Oo=Up(XB),YB=ke,ZB=Up(YB),KB=pt;function Up(e){return e&&e.__esModule?e:{default:e}}var e2=ps.SketchPresetColors=function(t){var n=t.colors,r=t.onClick,o=r===void 0?function(){}:r,i=t.onSwatchHover,a=(0,ZB.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),s=function(l,u){o({hex:l,source:"hex"},u)};return qc.default.createElement("div",{style:a.colors,className:"flexbox-fix"},n.map(function(c){var l=typeof c=="string"?{color:c}:c,u=""+l.color+(l.title||"");return qc.default.createElement("div",{key:u,style:a.swatchWrap},qc.default.createElement(KB.Swatch,WB({},l,{style:a.swatch,onClick:s,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+l.color}})))}))};e2.propTypes={colors:Oo.default.arrayOf(Oo.default.oneOfType([Oo.default.string,Oo.default.shape({color:Oo.default.string,title:Oo.default.string})])).isRequired};ps.default=e2;Object.defineProperty(us,"__esModule",{value:!0});us.Sketch=void 0;var qB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JB=d.exports,Qt=Ei(JB),QB=an.exports,Hi=Ei(QB),ej=ke,tj=Ei(ej),nj=_t,rj=Ei(nj),Ui=pt,oj=ds,ij=Ei(oj),aj=ps,sj=Ei(aj);function Ei(e){return e&&e.__esModule?e:{default:e}}var Xp=us.Sketch=function(t){var n=t.width,r=t.rgb,o=t.hex,i=t.hsv,a=t.hsl,s=t.onChange,c=t.onSwatchHover,l=t.disableAlpha,u=t.presetColors,p=t.renderers,f=t.styles,g=f===void 0?{}:f,v=t.className,x=v===void 0?"":v,y=(0,tj.default)((0,rj.default)({default:qB({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},g),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},g),{disableAlpha:l});return Qt.default.createElement("div",{style:y.picker,className:"sketch-picker "+x},Qt.default.createElement("div",{style:y.saturation},Qt.default.createElement(Ui.Saturation,{style:y.Saturation,hsl:a,hsv:i,onChange:s})),Qt.default.createElement("div",{style:y.controls,className:"flexbox-fix"},Qt.default.createElement("div",{style:y.sliders},Qt.default.createElement("div",{style:y.hue},Qt.default.createElement(Ui.Hue,{style:y.Hue,hsl:a,onChange:s})),Qt.default.createElement("div",{style:y.alpha},Qt.default.createElement(Ui.Alpha,{style:y.Alpha,rgb:r,hsl:a,renderers:p,onChange:s}))),Qt.default.createElement("div",{style:y.color},Qt.default.createElement(Ui.Checkboard,null),Qt.default.createElement("div",{style:y.activeColor}))),Qt.default.createElement(ij.default,{rgb:r,hsl:a,hex:o,onChange:s,disableAlpha:l}),Qt.default.createElement(sj.default,{colors:u,onClick:s,onSwatchHover:c}))};Xp.propTypes={disableAlpha:Hi.default.bool,width:Hi.default.oneOfType([Hi.default.string,Hi.default.number]),styles:Hi.default.object};Xp.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};us.default=(0,Ui.ColorWrap)(Xp);var fs={},hs={},gs={};Object.defineProperty(gs,"__esModule",{value:!0});gs.SliderSwatch=void 0;var lj=d.exports,cj=t2(lj),uj=ke,dj=t2(uj);function t2(e){return e&&e.__esModule?e:{default:e}}var pj=gs.SliderSwatch=function(t){var n=t.hsl,r=t.offset,o=t.onClick,i=o===void 0?function(){}:o,a=t.active,s=t.first,c=t.last,l=(0,dj.default)({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:a,first:s,last:c}),u=function(f){return i({h:n.h,s:.5,l:r,source:"hsl"},f)};return cj.default.createElement("div",{style:l.swatch,onClick:u})};gs.default=pj;Object.defineProperty(hs,"__esModule",{value:!0});hs.SliderSwatches=void 0;var fj=d.exports,vn=Yp(fj),hj=ke,gj=Yp(hj),mj=gs,zi=Yp(mj);function Yp(e){return e&&e.__esModule?e:{default:e}}var bj=hs.SliderSwatches=function(t){var n=t.onClick,r=t.hsl,o=(0,gj.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),i=.1;return vn.default.createElement("div",{style:o.swatches},vn.default.createElement("div",{style:o.swatch},vn.default.createElement(zi.default,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<i&&Math.abs(r.s-.5)<i,onClick:n,first:!0})),vn.default.createElement("div",{style:o.swatch},vn.default.createElement(zi.default,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<i&&Math.abs(r.s-.5)<i,onClick:n})),vn.default.createElement("div",{style:o.swatch},vn.default.createElement(zi.default,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<i&&Math.abs(r.s-.5)<i,onClick:n})),vn.default.createElement("div",{style:o.swatch},vn.default.createElement(zi.default,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<i&&Math.abs(r.s-.5)<i,onClick:n})),vn.default.createElement("div",{style:o.swatch},vn.default.createElement(zi.default,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<i&&Math.abs(r.s-.5)<i,onClick:n,last:!0})),vn.default.createElement("div",{style:o.clear}))};hs.default=bj;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.SliderPointer=void 0;var vj=d.exports,xj=n2(vj),yj=ke,wj=n2(yj);function n2(e){return e&&e.__esModule?e:{default:e}}var Sj=ms.SliderPointer=function(){var t=(0,wj.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return xj.default.createElement("div",{style:t.picker})};ms.default=Sj;Object.defineProperty(fs,"__esModule",{value:!0});fs.Slider=void 0;var Cj=d.exports,Bi=_i(Cj),kj=an.exports,Ej=_i(kj),_j=ke,Tj=_i(_j),Rj=_t,Aj=_i(Rj),r2=pt,Pj=hs,Mj=_i(Pj),Fj=ms,Oj=_i(Fj);function _i(e){return e&&e.__esModule?e:{default:e}}var Zp=fs.Slider=function(t){var n=t.hsl,r=t.onChange,o=t.pointer,i=t.styles,a=i===void 0?{}:i,s=t.className,c=s===void 0?"":s,l=(0,Tj.default)((0,Aj.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},a));return Bi.default.createElement("div",{style:l.wrap||{},className:"slider-picker "+c},Bi.default.createElement("div",{style:l.hue},Bi.default.createElement(r2.Hue,{style:l.Hue,hsl:n,pointer:o,onChange:r})),Bi.default.createElement("div",{style:l.swatches},Bi.default.createElement(Mj.default,{hsl:n,onClick:r})))};Zp.propTypes={styles:Ej.default.object};Zp.defaultProps={pointer:Oj.default,styles:{}};fs.default=(0,r2.ColorWrap)(Zp);var bs={},vs={},xs={},Kp={};Object.defineProperty(Kp,"__esModule",{value:!0});var Jg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$j=d.exports,Qg=Dj($j);function Dj(e){return e&&e.__esModule?e:{default:e}}function Ij(e,t){var n={};for(var r in e)t.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(e,r)||(n[r]=e[r]);return n}var Ls=24;Kp.default=function(e){var t=e.fill,n=t===void 0?"currentColor":t,r=e.width,o=r===void 0?Ls:r,i=e.height,a=i===void 0?Ls:i,s=e.style,c=s===void 0?{}:s,l=Ij(e,["fill","width","height","style"]);return Qg.default.createElement("svg",Jg({viewBox:"0 0 "+Ls+" "+Ls,style:Jg({fill:n,width:o,height:a},c)},l),Qg.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))};Object.defineProperty(xs,"__esModule",{value:!0});xs.SwatchesColor=void 0;var Nj=d.exports,Jc=pc(Nj),Lj=ke,Hj=pc(Lj),zj=Zt,Bj=pc(zj),jj=pt,Vj=Kp,Gj=pc(Vj);function pc(e){return e&&e.__esModule?e:{default:e}}var Wj=xs.SwatchesColor=function(t){var n=t.color,r=t.onClick,o=r===void 0?function(){}:r,i=t.onSwatchHover,a=t.first,s=t.last,c=t.active,l=(0,Hj.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:Bj.default.getContrastingColor(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:a,last:s,active:c,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return Jc.default.createElement(jj.Swatch,{color:n,style:l.color,onClick:o,onHover:i,focusStyle:{boxShadow:"0 0 4px "+n}},Jc.default.createElement("div",{style:l.check},Jc.default.createElement(Gj.default,null)))};xs.default=Wj;Object.defineProperty(vs,"__esModule",{value:!0});vs.SwatchesGroup=void 0;var Uj=d.exports,e0=fc(Uj),Xj=ke,Yj=fc(Xj),Zj=Wn,Kj=fc(Zj),qj=xs,Jj=fc(qj);function fc(e){return e&&e.__esModule?e:{default:e}}var Qj=vs.SwatchesGroup=function(t){var n=t.onClick,r=t.onSwatchHover,o=t.group,i=t.active,a=(0,Yj.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return e0.default.createElement("div",{style:a.group},(0,Kj.default)(o,function(s,c){return e0.default.createElement(Jj.default,{key:s,color:s,active:s.toLowerCase()===i,first:c===0,last:c===o.length-1,onClick:n,onSwatchHover:r})}))};vs.default=Qj;Object.defineProperty(bs,"__esModule",{value:!0});bs.Swatches=void 0;var eV=d.exports,$o=Co(eV),tV=an.exports,Hn=Co(tV),nV=ke,rV=Co(nV),oV=Wn,iV=Co(oV),aV=_t,sV=Co(aV),lV=Zt,cV=Co(lV),uV=Ly,re=fV(uV),o2=pt,dV=vs,pV=Co(dV);function fV(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Co(e){return e&&e.__esModule?e:{default:e}}var qp=bs.Swatches=function(t){var n=t.width,r=t.height,o=t.onChange,i=t.onSwatchHover,a=t.colors,s=t.hex,c=t.styles,l=c===void 0?{}:c,u=t.className,p=u===void 0?"":u,f=(0,rV.default)((0,sV.default)({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},l)),g=function(x,y){cV.default.isValidHex(x)&&o({hex:x,source:"hex"},y)};return $o.default.createElement("div",{style:f.picker,className:"swatches-picker "+p},$o.default.createElement(o2.Raised,null,$o.default.createElement("div",{style:f.overflow},$o.default.createElement("div",{style:f.body},(0,iV.default)(a,function(v){return $o.default.createElement(pV.default,{key:v.toString(),group:v,active:s,onClick:g,onSwatchHover:i})}),$o.default.createElement("div",{style:f.clear})))))};qp.propTypes={width:Hn.default.oneOfType([Hn.default.string,Hn.default.number]),height:Hn.default.oneOfType([Hn.default.string,Hn.default.number]),colors:Hn.default.arrayOf(Hn.default.arrayOf(Hn.default.string)),styles:Hn.default.object};qp.defaultProps={width:320,height:240,colors:[[re.red["900"],re.red["700"],re.red["500"],re.red["300"],re.red["100"]],[re.pink["900"],re.pink["700"],re.pink["500"],re.pink["300"],re.pink["100"]],[re.purple["900"],re.purple["700"],re.purple["500"],re.purple["300"],re.purple["100"]],[re.deepPurple["900"],re.deepPurple["700"],re.deepPurple["500"],re.deepPurple["300"],re.deepPurple["100"]],[re.indigo["900"],re.indigo["700"],re.indigo["500"],re.indigo["300"],re.indigo["100"]],[re.blue["900"],re.blue["700"],re.blue["500"],re.blue["300"],re.blue["100"]],[re.lightBlue["900"],re.lightBlue["700"],re.lightBlue["500"],re.lightBlue["300"],re.lightBlue["100"]],[re.cyan["900"],re.cyan["700"],re.cyan["500"],re.cyan["300"],re.cyan["100"]],[re.teal["900"],re.teal["700"],re.teal["500"],re.teal["300"],re.teal["100"]],["#194D33",re.green["700"],re.green["500"],re.green["300"],re.green["100"]],[re.lightGreen["900"],re.lightGreen["700"],re.lightGreen["500"],re.lightGreen["300"],re.lightGreen["100"]],[re.lime["900"],re.lime["700"],re.lime["500"],re.lime["300"],re.lime["100"]],[re.yellow["900"],re.yellow["700"],re.yellow["500"],re.yellow["300"],re.yellow["100"]],[re.amber["900"],re.amber["700"],re.amber["500"],re.amber["300"],re.amber["100"]],[re.orange["900"],re.orange["700"],re.orange["500"],re.orange["300"],re.orange["100"]],[re.deepOrange["900"],re.deepOrange["700"],re.deepOrange["500"],re.deepOrange["300"],re.deepOrange["100"]],[re.brown["900"],re.brown["700"],re.brown["500"],re.brown["300"],re.brown["100"]],[re.blueGrey["900"],re.blueGrey["700"],re.blueGrey["500"],re.blueGrey["300"],re.blueGrey["100"]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};bs.default=(0,o2.ColorWrap)(qp);var ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.Twitter=void 0;var hV=d.exports,hr=Ti(hV),gV=an.exports,Gr=Ti(gV),mV=ke,bV=Ti(mV),vV=Wn,xV=Ti(vV),yV=_t,wV=Ti(yV),SV=Zt,CV=Ti(SV),Zu=pt;function Ti(e){return e&&e.__esModule?e:{default:e}}var Jp=ys.Twitter=function(t){var n=t.onChange,r=t.onSwatchHover,o=t.hex,i=t.colors,a=t.width,s=t.triangle,c=t.styles,l=c===void 0?{}:c,u=t.className,p=u===void 0?"":u,f=(0,bV.default)((0,wV.default)({default:{card:{width:a,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right"}),g=function(x,y){CV.default.isValidHex(x)&&n({hex:x,source:"hex"},y)};return hr.default.createElement("div",{style:f.card,className:"twitter-picker "+p},hr.default.createElement("div",{style:f.triangleShadow}),hr.default.createElement("div",{style:f.triangle}),hr.default.createElement("div",{style:f.body},(0,xV.default)(i,function(v,x){return hr.default.createElement(Zu.Swatch,{key:x,color:v,hex:v,style:f.swatch,onClick:g,onHover:r,focusStyle:{boxShadow:"0 0 4px "+v}})}),hr.default.createElement("div",{style:f.hash},"#"),hr.default.createElement(Zu.EditableInput,{label:null,style:{input:f.input},value:o.replace("#",""),onChange:g}),hr.default.createElement("div",{style:f.clear})))};Jp.propTypes={width:Gr.default.oneOfType([Gr.default.string,Gr.default.number]),triangle:Gr.default.oneOf(["hide","top-left","top-right"]),colors:Gr.default.arrayOf(Gr.default.string),styles:Gr.default.object};Jp.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};ys.default=(0,Zu.ColorWrap)(Jp);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CustomPicker=e.TwitterPicker=e.SwatchesPicker=e.SliderPicker=e.SketchPicker=e.PhotoshopPicker=e.MaterialPicker=e.HuePicker=e.GithubPicker=e.CompactPicker=e.ChromePicker=e.default=e.CirclePicker=e.BlockPicker=e.AlphaPicker=void 0;var t=Ra;Object.defineProperty(e,"AlphaPicker",{enumerable:!0,get:function(){return y(t).default}});var n=Ba;Object.defineProperty(e,"BlockPicker",{enumerable:!0,get:function(){return y(n).default}});var r=Va;Object.defineProperty(e,"CirclePicker",{enumerable:!0,get:function(){return y(r).default}});var o=Wa;Object.defineProperty(e,"ChromePicker",{enumerable:!0,get:function(){return y(o).default}});var i=Za;Object.defineProperty(e,"CompactPicker",{enumerable:!0,get:function(){return y(i).default}});var a=Ja;Object.defineProperty(e,"GithubPicker",{enumerable:!0,get:function(){return y(a).default}});var s=es;Object.defineProperty(e,"HuePicker",{enumerable:!0,get:function(){return y(s).default}});var c=rs;Object.defineProperty(e,"MaterialPicker",{enumerable:!0,get:function(){return y(c).default}});var l=os;Object.defineProperty(e,"PhotoshopPicker",{enumerable:!0,get:function(){return y(l).default}});var u=us;Object.defineProperty(e,"SketchPicker",{enumerable:!0,get:function(){return y(u).default}});var p=fs;Object.defineProperty(e,"SliderPicker",{enumerable:!0,get:function(){return y(p).default}});var f=bs;Object.defineProperty(e,"SwatchesPicker",{enumerable:!0,get:function(){return y(f).default}});var g=ys;Object.defineProperty(e,"TwitterPicker",{enumerable:!0,get:function(){return y(g).default}});var v=wi;Object.defineProperty(e,"CustomPicker",{enumerable:!0,get:function(){return y(v).default}});var x=y(o);function y(w){return w&&w.__esModule?w:{default:w}}e.default=x.default})(Sp);const kV=X`
  display: flex;
  margin: 5px 0px;

.inputLabel{
  flex: 2;
  font-size: 11px;
  font-weight: bold;
  color: #232323;
}

.input {
  width: '60%',
  text-align: 'center',
}

.color{
  width: 36px;
  height: 14px;
  border-radius: 2px;
}

.swatch{
  padding: 5px;
  background: #fff;
  border-radius: 1px;
  box-shadow: 0 0 0 1px rgba(0,0,0,.1);
  display: inline-block;
  cursor: pointer;
}
.color-popover {
  position: absolute;
  z-index: 2;
}

.cover {
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
}
  .chrome-picker {
    border-radius: none !important;
    width: 200px !important;
    height: 60px !important;
    display: flex;


  }
  .chrome-picker > div:first-of-type {
    padding: 0px !important;

  }
  .chrome-picker > div:last-child >  div:first-of-type {
    width: 120px;

  }
  .chrome-picker > div:last-child >  div:last-child {
    display:none !important;
  }
`;function EV(e){const{label:t="Color: ",onColorChange:n=()=>null,name:r,value:o="#000000"}=e,[i,a]=d.exports.useState(!1),[s,c]=d.exports.useState(o);d.exports.useEffect(()=>{c(o)},[o]);const l=d.exports.useCallback(()=>{a(!i)},[i]),u=d.exports.useCallback(()=>{a(!1)},[]),p=d.exports.useCallback(f=>{const g=`${f.hex}${Math.round(f.rgb.a*255).toString(16)}`;c(g),n(P(S({},f),{hex:g,name:r}))},[r,n]);return $("div",{css:kV,children:[h("span",{className:"inputLabel",children:t}),$("div",{style:{flex:4},children:[$("div",{className:"swatch",onClick:l,children:[h("div",{className:"color",style:{backgroundColor:s}}),h("input",{type:"hidden",value:s,name:r})]}),i?$("div",{className:"color-popover",children:[h("div",{className:"cover",onClick:u}),h(Sp.ChromePicker,{color:{hex:s},onChangeComplete:p})]}):null]})]})}var _V=d.exports.memo(EV);function TV(e){const s=e,{onColorChange:t=()=>null,name:n}=s,r=he(s,["onColorChange","name"]),{values:o,setFieldValue:i}=xt(),a=d.exports.useCallback(c=>{t(c),i(n,c.hex)},[n,t,i]);return m(_V,P(S({},r),{name:n,onColorChange:a,value:ve(o,n)}))}var RV=d.exports.memo(TV);const Qc={row:{display:"flex",margin:"5px 0px",alignItems:"center"},inputLabel:{flex:2,fontSize:"11px",fontWeight:"bold",color:"#232323"},input:{width:"60%",textAlign:"center"}};function AV(e){const{label:t,checkControllerName:n,formatControllerName:r,disableFormat:o=!1,hideFormat:i=!1}=e,{values:a,handleChange:s,setFieldValue:c}=xt(),l=d.exports.useCallback(p=>{s(p)},[s]),u=d.exports.useCallback(p=>{c(p.target.name,p.target.checked)},[c]);return G("div",{style:Qc.row,children:[m("span",{style:Qc.inputLabel,children:t}),G("div",{style:{flex:4,display:"flex",flexDirection:"row",alignItems:"center"},children:[m("input",{type:"checkbox",style:{margin:"0px 5px"},name:n,onChange:u,checked:ve(a,n,!1)}),!i&&r&&m(Tr,{style:{inputWrapper:Qc.input},name:r,value:ve(a,r,""),onChange:l,type:"text",disabled:o})]})]})}var wn=d.exports.memo(AV);const Hs={container:{display:"flex"},label:{lineHeight:2,userSelect:"none",flex:"2"},inputContainer:{flex:"4",display:"flex",justifyContent:"flex-start"},input:{height:"100%",width:"100px",borderRadius:"5px",border:"0.55px solid #c7c7c7",margin:"0px 5px 0px 5px",textAlign:"center"}},Zo=d.exports.forwardRef(({label:e,name:t,defaultValue:n=0,style:r={label:{},input:{},container:{},inputContainer:{}},onChange:o=()=>null,onInput:i=()=>null,pattern:a="^d*(.d{0,2})?$",step:s="any",min:c="any",max:l="any"},u)=>{const p=d.exports.useRef(null),f=d.exports.useCallback(g=>{if(g.target.checkValidity()){const v=Number(g.target.value===""?n:g.target.value);o(P(S({},g),{target:P(S({},g.target),{name:g.target.name,value:v})}))}else{const v=u||p;v.current.value=Number(n)}},[n,o,u]);return G("div",{style:S(S({},Hs.container),r.container),children:[m("span",{style:S(S({},Hs.label),r.label),children:e}),m("div",{style:S(S({},Hs.inputContainer),r.inputContainer),children:m("input",{ref:u||p,name:t,style:S(S({},Hs.input),r.input),type:"number",pattern:a,defaultValue:n,step:s,onChange:f,onInput:i,min:c,max:l},n)})]})});function Ku(e){const s=e,{label:t,name:n}=s,r=he(s,["label","name"]),{values:o,handleChange:i}=xt(),a=d.exports.useCallback(c=>{i(c)},[i]);return m(Zo,S({label:t,name:n,defaultValue:ve(o,n),onChange:a},r))}function hc(){const{tabActiveSpectrum:e}=ce();return d.exports.useMemo(()=>e&&Object.keys(e).length>0?Object.keys(e):[],[e])}const ji={container:{padding:10,backgroundColor:"#f1f1f1",height:"100%",overflowY:"auto"},groupContainer:{padding:"5px",borderRadius:"5px",margin:"10px 0px",backgroundColor:"white"},row:{display:"flex",margin:"5px 0px"},header:{borderBottom:"1px solid #e8e8e8",paddingBottom:"5px",fontWeight:"bold",color:"#4a4a4a"},inputLabel:{flex:2,fontSize:"11px",fontWeight:"bold",color:"#232323"},input:{width:"30%",textAlign:"center"}},PV=[{id:1,label:"Absolute :",checkController:"showAbsolute",formatController:"absoluteFormat"},{id:2,label:"Relative :",checkController:"showRelative",formatController:"relativeFormat"}];function MV({nucleus:e,preferences:t,innerRef:n}){const r=mt(),o=d.exports.useRef(),i=d.exports.useCallback(()=>{if(e){const s=qr,{color:c,strokeWidth:l}=s,u=he(s,["color","strokeWidth"]),p=ar(t,"formatting.panels.integrals");let f=e.reduce((g,v)=>(g[v]=u,g),{});f=Object.assign(f,{color:c,strokeWidth:l}),o.current.setValues(p||f)}},[e,t]);d.exports.useEffect(()=>{i()},[i]);const a=d.exports.useCallback(s=>{t.dispatch({type:hi,payload:{key:"integrals",value:s}}),r.success("Integrals preferences saved successfully")},[r,t]);return d.exports.useImperativeHandle(n,()=>({saveSetting:()=>{o.current.submitForm()}})),m("div",{style:ji.container,children:G(bt,{onSubmit:a,ref:o,children:[G("div",{style:ji.groupContainer,children:[m("p",{style:ji.header,children:"General"}),m(RV,{name:"color"}),m(Ku,{name:"strokeWidth",label:"stroke width :",style:{label:{fontSize:"11px",fontWeight:"bold",color:"#232323"},input:{width:"60%",textAlign:"center",borderRadius:"5px"}},min:1,max:9,pattern:"[1-9]+"})]}),e==null?void 0:e.map(s=>G("div",{style:ji.groupContainer,children:[m("p",{style:ji.header,children:m(Ul,{mf:s})}),PV.map(c=>m(wn,{label:c.label,checkControllerName:`${s}.${c.checkController}`,formatControllerName:`${s}.${c.formatController}`},c.id))]},s))]})})}const FV=d.exports.memo(MV);function OV(e,t){const n=dt(),r=hc();return m(FV,{innerRef:t,nucleus:r,preferences:n})}var $V=d.exports.forwardRef(OV);const DV=X`
  .sum-button {
    width: 22px;
    height: 22px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .fix-integral-toggle-btn {
    svg {
      font-size: 12px !important;
    }
  }
`;function IV({integrals:e,info:t,activeTab:n,xDomain:r,preferences:o}){var N;const[i,a]=d.exports.useState(!1),s=Re(),c=Tt(),[l,u]=d.exports.useState(!1),p=d.exports.useRef(),f=d.exports.useCallback(()=>{s({type:Hl,integralID:null})},[s]),g=d.exports.useCallback(()=>{c.showConfirmDialog({message:"All records will be deleted, Are You sure?",buttons:[{text:"Yes",handler:f},{text:"No"}]})},[c,f]),v=d.exports.useCallback(H=>{s({type:Bb,value:H}),c.close()},[s,c]),x=d.exports.useMemo(()=>ve(e,"options.sum",null),[e]),y=d.exports.useCallback(()=>{c.show(h(Jx,{onClose:()=>c.close(),onSave:v,header:x?`Set new Integrals Sum (Current: ${Number(x).toFixed(2)})`:"Set new Integrals Sum",sumOptions:e==null?void 0:e.options}))},[v,x,e==null?void 0:e.options,c]),w=d.exports.useCallback(()=>{u(!l)},[l]),k=d.exports.useCallback(()=>{p.current.saveSetting(),u(!1)},[]),_=d.exports.useCallback(()=>{a(!i)},[i]),R=d.exports.useCallback(H=>{s({type:Sv,payload:H})},[s]),M=d.exports.useMemo(()=>{function H(A,D){return D=D*1e4,A=A*1e4,D>=r[0]*1e4&&A<=r[1]*1e4||A<=r[0]*1e4&&D>=r[1]*1e4}return t.dimension===1&&(e==null?void 0:e.values)?(i?e.values.filter(D=>H(D.from,D.to)):e.values).map(D=>P(S({},D),{isConstantlyHighlighted:H(D.from,D.to)})):[]},[i,t.dimension,e,r]);return h(d.exports.Fragment,{children:$("div",{css:[Dr,DV,l&&X`
              th {
                position: relative;
              }
            `],children:[!l&&$(qn,{counter:(N=e==null?void 0:e.values)==null?void 0:N.length,onDelete:g,deleteToolTip:"Delete All Integrals",onFilter:_,filterToolTip:i?"Show all integrals":"Hide integrals out of view",filterIsActive:i,counterFiltered:M.length,showSettingButton:!0,onSettingClick:w,children:[h(rn,{title:x?`Change Integrals Sum (${Number(x).toFixed(2)})`:"Change Integrals Sum",popupPlacement:"right",children:h("button",{className:"sum-button",type:"button",onClick:y,children:h(ix,{})})}),h(On,{className:"fix-integral-toggle-btn",popupTitle:"fix integral values",popupPlacement:"right",onClick:R,children:h(sx,{})})]}),l&&h(xi,{onSave:k,onClose:w}),h("div",{className:"inner-container",children:l?h($V,{ref:p}):h(yD,{data:M,activeTab:n,preferences:o})})]})})}const NV=d.exports.memo(IV),LV={integrals:{},info:{}};function HV(){const{xDomain:e,activeTab:t}=ce(),n=dt(),{integrals:r,info:o}=Vt(LV);return h(NV,{integrals:r,info:o,preferences:n,xDomain:e,activeTab:t})}function qe(e){const{title:t,className:n="",children:r,style:o}=e;return G("div",{style:{display:"flex",alignItems:"center"},children:[m("span",{className:n,style:S({fontSize:"11px",fontWeight:"bold",color:"#232323",paddingRight:"10px",width:"max-content"},o==null?void 0:o.label),children:t}),m("div",{style:o==null?void 0:o.wrapper,children:r})]})}const zV={from:-1,to:1,nbPoints:1024};function BV({onClose:e=()=>null}){const t=d.exports.useRef(),{data:n}=ce(),r=d.exports.useCallback(()=>{t.current.submitForm()},[]),o=d.exports.useCallback(i=>{_8(n,i,"fileName"),e()},[n,e]);return d.exports.useEffect(()=>{function i(a){const[s,c]=a.range;t.current.setValues(P(S({},t.current.values),{from:s,to:c}))}return Et.on("brushEnd",i),()=>{Et.off("brushEnd",i)}},[]),$("div",{css:$r,children:[$("div",{className:"header handle",children:[h("span",{children:"Export spectra as a Matrix"}),h(At,{onClick:e,className:"close-bt"})]}),h("div",{className:"inner-content",children:$(bt,{ref:t,initialValues:zV,onSubmit:o,children:[$("div",{className:"row margin-10",children:[h("span",{className:"custom-label",children:"Range :"}),h(qe,{title:"From : ",children:h(Le,{name:"from",type:"number"})}),h(qe,{title:"To : ",children:h(Le,{name:"to",type:"number"})})]}),h("div",{className:"row margin-10",children:h(qe,{title:"Number of Points :",className:"custom-label",children:h(Le,{name:"nbPoints",type:"number"})})})]})}),h("div",{className:"footer-container",children:h("button",{type:"button",onClick:r,className:"btn",children:"Export Now"})})]})}function jV({onSubmit:e},t){const{xDomain:n}=ce();return G(bt,{ref:t,initialValues:{from:n[0],to:n[1],numberOfPoints:1024},onSubmit:e,children:[G("div",{className:"row margin-10",children:[m("span",{className:"custom-label",children:"Range :"}),m(qe,{title:"From : ",children:m(Le,{name:"from",type:"number"})}),m(qe,{title:"To : ",children:m(Le,{name:"to",type:"number"})})]}),m("div",{className:"row margin-10",children:m(qe,{className:"custom-label",title:"Number of points : ",children:m(Le,{name:"numberOfPoints",type:"number"})})})]})}var VV=d.exports.forwardRef(jV);function GV({onSubmit:e},t){const{xDomain:n}=ce();return m(bt,{ref:t,initialValues:{from:n[0],to:n[1]},onSubmit:e,children:G("div",{className:"row margin-10",children:[m("span",{className:"custom-label",children:"Range :"}),m(qe,{title:"From :",children:m(Le,{name:"from",type:"number"})}),m(qe,{title:"To :",children:m(Le,{name:"to",type:"number"})})]})})}var WV=d.exports.forwardRef(GV);const UV=[{key:0,value:0,label:"Select Filter"},{key:el,value:el,label:pm},{key:ta,value:ta,label:lm},{key:fu,value:fu,label:ym},{key:uu,value:uu,label:im},{key:pu,value:pu,label:mm}],XV=X`
  .row {
    align-items: center;
  }

  .container {
    flex: 1;
  }

  .infoText {
    padding: 10px;
    font-size: 12px;
    text-align: left;
    color: white;
    background-color: #5f5f5f;
    border-radius: 5px;
  }
`;function YV({onClose:e=()=>null,nucleus:t=""}){const n=d.exports.useRef(),r=Re(),[o,i]=d.exports.useState(""),a=d.exports.useMemo(()=>{const p=to[t]?Object.entries(to[t]).map(f=>({key:f[0],value:f[0],label:f[0]}),[]):[];return UV.concat(p)},[t]),s=d.exports.useCallback(p=>{p.preventDefault(),n.current&&n.current.submitForm()},[]),c=d.exports.useCallback(p=>{p&&(r({type:vv,payload:[{name:o,options:p}]}),e())},[r,o,e]);d.exports.useEffect(()=>{function p(f){const[g,v]=f.range;n.current&&n.current.setValues(P(S({},n.current.values),{from:g,to:v}))}return Et.on("brushEnd",p),()=>{Et.off("brushEnd",p)}},[]);const l=d.exports.useCallback(p=>{i(p)},[]),u=d.exports.useMemo(()=>{switch(o){case el:return h(WV,{onSubmit:c,ref:n});case ta:return h(VV,{onSubmit:c,ref:n});default:h(bt,{ref:n,initialValues:null,onSubmit:c});break}},[o,c]);return $("div",{css:[$r,XV],children:[$("div",{className:"header handle",children:[h("span",{children:"Apply filters"}),h(At,{onClick:e,className:"close-bt"})]}),$("div",{className:"inner-content container",children:[h("p",{className:"infoText",children:"This filter will use the exclusions zones defined in the first spectrum."}),$("div",{className:"row margin-10",children:[h("span",{className:"custom-label",children:"Filter :"}),h(hn,{data:a,style:{width:275,height:30,margin:0},onChange:l})]}),u]}),$("div",{className:"footer-container",children:[h("button",{type:"button",onClick:s,className:"btn primary",children:"Apply"}),h("button",{type:"button",onClick:e,className:"btn",children:"Close"})]})]})}function ZV(){const e=Tt(),t=Re(),n=d.exports.useCallback(()=>{t({type:En}),e.show(h(YV,{}),{isBackgroundBlur:!1,position:tt.TOP_CENTER,width:550,height:250})},[e,t]),r=d.exports.useCallback(()=>{t({type:En}),e.show(h(BV,{}),{isBackgroundBlur:!1,position:tt.TOP_CENTER,width:500})},[e,t]);return $("div",{css:Dr,children:[$(qn,{deleteToolTip:"Delete All Peaks",showSettingButton:!0,canDelete:!1,children:[h(Yt,{popupTitle:"Add Filter",onClick:n,children:h(G8,{style:{fontSize:"18px"}})}),h(Yt,{popupTitle:"Export spectra as a Matrix",onClick:r,children:h(Z8,{})})]}),h("div",{className:"inner-container"})]})}function KV(e){const R=e,{OCL:t,molfile:n,setMolfile:r,setSelectedAtom:o,highlights:i,setHoverAtom:a,atomHighlightColor:s="yellow",internalAtomHighlightColor:c="red",atomHighlightOpacity:l=.3,internalAtomHighlightOpacity:u=.3}=R,p=he(R,["OCL","molfile","setMolfile","setSelectedAtom","highlights","setHoverAtom","atomHighlightColor","internalAtomHighlightColor","atomHighlightOpacity","internalAtomHighlightOpacity"]),[f,g]=d.exports.useState([]),[v,x]=d.exports.useState([]),{molecule:y,diaIDs:w,diaIDsIndex:k}=d.exports.useMemo(()=>{const M=t.Molecule.fromMolfile(n);M.ensureHelperArrays(t.Molecule.cHelperBitNeighbours),M.ensureHelperArrays(t.Molecule.cHelperNeighbours);const N=AS(M),H={};for(let A=0;A<N.length;A++){let D=N[A];D.atomLabel=M.getAtomLabel(A)||"H",H[D.oclID]||(H[D.oclID]=[]),H[D.oclID].push(A)}for(let A of N)A.nbAtoms=H[A.oclID].length;return{molecule:M,diaIDs:N,diaIDsIndex:H}},[n,t]);d.exports.useEffect(()=>{let M=[],N=[];for(let H of i){let A=k[H];if(!!A){M.push(...A);for(let D of A)D>y.getAllAtoms()&&w[D].heavyAtom&&N.push(...k[w[D].heavyAtom])}}x([...M,...N])},[i,k,w,y]);const _={OCL:t,molfile:n,atomHighlight:f.length>0?f:v,atomHighlightOpacity:f.length>0?u:l,atomHighlightColor:f.length>0?c:s,onAtomEnter:M=>{g(k[w[M].oclID]),a(w[M])},onAtomLeave:()=>{g([]),a({})},onAtomClick:(M,N)=>{if(o(w[M],N),N.shiftKey){if(g([]),PS(y)[M].implicitHydrogens===0){let A=[];for(let D=0;D<y.getAllConnAtoms(M);D++){let z=y.getConnAtom(M,D);y.getAtomicNo(z)===1&&A.push(z)}y.deleteAtoms(A)}else y.addImplicitHydrogens(M);r(y.toMolfileV3())}}};return m(Zx,Object.assign({},p,_),void 0)}function qV(e){const{onClose:t=()=>null,selectedMolecule:n}=e,[r,o]=d.exports.useState(null),i=Re();d.exports.useEffect(()=>{o(n?n.molfile:null)},[n]);const a=d.exports.useCallback(l=>{var p,f;const u=(f=(p=/(?<s>M {2}V30 BEGIN BOND)(?<mol>.*?)(?<e>M {2}V30 END BOND)/gs.exec(l))==null?void 0:p.groups)==null?void 0:f.mol;o((u==null?void 0:u.trim())?l:null)},[o]),s=d.exports.useCallback(()=>{t()},[t]),c=d.exports.useCallback(()=>{n?(i({type:Id,molfile:r,key:n.key}),t("replace")):(i({type:Dd,molfile:r}),t("new"))},[i,n,r,t]);return $("div",{css:$r,children:[h(yp,{initialMolfile:n==null?void 0:n.molfile,svgMenu:!0,fragment:!1,onChange:a}),$("div",{className:"footer-container",children:[h("button",{type:"button",className:"btn",onClick:c,disabled:!r,children:"Save"}),h("button",{type:"button",className:"btn",onClick:s,children:"Close"})]})]})}const JV=X`
  .menu {
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
    padding: 0px;
    margin: 0px;
    border-radius: 5px;
    display: flex;
    flex-direction: column;
    position: absolute;
    z-index: 99999;
    padding: 2px;
    background-color: white;

    button:hover {
      background-color: #fafafa;
    }
  }

  .menu-cover {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: 1;
  }

  .menu-item {
    background-color: transparent;
    border: none;
    border-bottom: 0.55px solid whitesmoke;
    height: 35px;
    outline: outline;
    display: table-cell;
    vertical-align: middle;
    text-align: left;
    padding: 0 10px;

    svg {
      display: inline-block;
    }

    :focus {
      outline: none !important;
    }
    span {
      font-size: 10px;
      padding: 0px 10px;
    }
  }
`;function QV({icon:e,label:t,onClick:n}){return $("button",{type:"button",className:"menu-item",onClick:n,children:[e,h("span",{children:t})]})}function eG({items:e,boxBounding:t,onClick:n}){return h("div",{className:"menu",style:{transform:`translate(${t.width}px, -${t.height}px) `},children:e==null?void 0:e.map(r=>h(QV,P(S({},r),{onClick:()=>n(r)}),r.id))})}function tG({style:e,component:t,toolTip:n="",className:r,items:o=[],onClick:i=()=>null}){var f;const a=d.exports.useRef(null),[s,c]=d.exports.useState(!1),l=d.exports.useCallback(()=>{c(!1)},[]),u=d.exports.useCallback(()=>{c(g=>!g)},[]),p=d.exports.useCallback(g=>{c(!1),i(g)},[i]);return $("div",{style:{height:"auto"},css:JV,children:[h("button",{ref:a,type:"button",css:e,onClick:u,className:r,style:{boxSizing:"border-box"},children:h(rn,{title:n,popupPlacement:"right",children:t})}),s&&h(eG,{items:o,boxBounding:(f=a.current)==null?void 0:f.getBoundingClientRect(),onClick:p}),s&&h("div",{className:"menu-cover",onClick:l})]})}function Qp(e,t,n){const{power:r=2,format:o=nG}=n||{};let i=[];for(let a=e;a<=t;a++){const s=r**a;i.push({key:s,label:o(s),value:s})}return i}function nG(e){return e>=1024*1024?`${e/(1024*1024)}M`:e>=1024?`${e/1024}K`:e}function Sn(n){var r=n,{value:e=""}=r,t=he(r,["value"]);return m("div",P(S({},t),{dangerouslySetInnerHTML:{__html:e.replace(/(?<isotope>[0-9]+)/g,"<sup>$<isotope></sup>")}}))}const t0={container:{backgroundColor:"#fd000c",borderRadius:"5px",padding:"0.4rem"},text:{color:"white",margin:"0.5px",fontSize:"0.9em",listStyle:"inside"}},rG=e=>{const t=[];function n(r){Object.keys(r).forEach(o=>{typeof r[o]=="object"?n(r[o]):t.push(r[o])})}return n(e),t};function i2({style:e}){const{errors:t,isValid:n}=xt(),r=d.exports.useMemo(()=>rG(t),[t]);return n?m("div",{}):m("ul",{style:S(S({},t0.container),e==null?void 0:e.container),children:r.map((o,i)=>m("li",{style:S(S({},t0.text),e==null?void 0:e.text),children:o},i))})}const Wo=function(t){const l=t,{name:n="",value:r,onChange:o=()=>null}=l,i=he(l,["name","value","onChange"]),{values:a,setFieldValue:s}=xt(),c=d.exports.useCallback(u=>{o(u),s(n,u)},[n,o,s]);return d.exports.useEffect(()=>{r&&s(n,r)},[n,s,r]),m(hn,S({name:n,defaultValue:r||ve(a,n),onChange:c},i))},oG=X`
  .row {
    align-items: center;
  }

  .inner-content {
    flex: 1;
  }

  .custom-label {
    width: 160px;
    font-weight: 500;
  }

  .nucleus-label {
    padding: 0 10px;
    color: black;
    font-weight: 700;

    &.disabled {
      opacity: 0.5;
      color: black;
    }
  }
  .warning {
    color: #c40000;
    font-weight: bold;
    font-size: 13px;
    text-align: justify;
    margin-top: 30px;
  }

  .warning-container {
    margin-top: 5px;
    display: flex;
    input {
      margin: 5px 5px 5px 0;
    }
  }

  button[disabled],
  button[disabled]:hover {
    opacity: 0.5;
    color: black;
  }

  .middle-x {
    padding: 0 10px;
  }

  .group-label {
    width: 100%;
    display: block;
    border-bottom: 1px solid #efefef;
    padding-bottom: 5px;
    font-weight: 600;
    color: #005d9e;
  }
`,iG=Qp(12,19),n0=Qp(10,10,{format:e=>e}),aG=Ke().shape({frequency:ft().integer().required().label("Frequency"),"1d":Ke({"1H":Ke({from:ft().integer().required().label("1H ' From ' "),to:ft().integer().required().label("1H ' To ' ")}),"13C":Ke().shape({from:ft().integer().required().label("13C ' From ' "),to:ft().integer().required().label("13C ' To ' ")}),lineWidth:ft().integer().min(1).required().label("Line Width"),nbPoints:ft().integer().required().label("1D Number Of Points")}),"2d":Ke({nbPoints:Ke({x:ft().integer().required().label("2D Number Of Points"),y:ft().integer().required().label("2D Number Of Points")})}),spectra:Ke({proton:Ho(),carbon:Ho(),cosy:Ho(),hsqc:Ho(),hmbc:Ho()}).test("check-options","You must check one of the options to start prediction",e=>!!Object.values(e).includes(!0))});function sG({onClose:e=()=>null,molfile:t}){const n=d.exports.useRef(),r=Re(),o=mt(),[i,a]=d.exports.useState(!1),[s,c]=S4("nmrium-prediction-preferences"),l=d.exports.useCallback(()=>{n.current.submitForm()},[]),u=d.exports.useMemo(()=>{const x=s,{isApproved:g}=x,v=he(x,["isApproved"]);return a(g),Object.assign(Um,v)},[s]),p=d.exports.useCallback(async g=>{c(P(S({},g),{isApproved:i})),r({type:Er,isLoading:!0});const v=Object.entries(g.spectra).reduce((y,[w,k])=>(k&&y.push(w),y),[]).join(" , "),x=await o.showLoading(`Predict ${v} in progress`);r({type:Gl,payload:{mol:t,options:g}}),x(),e()},[o,r,i,t,e,c]),f=d.exports.useCallback(g=>{a(g.target.checked)},[]);return $("div",{css:[$r,oG],children:[$("div",{className:"header handle",children:[h("span",{children:"Prediction of NMR spectrum"}),h(At,{onClick:e,className:"close-bt"})]}),$("div",{className:"inner-content",children:[$(bt,{ref:n,initialValues:u,validationSchema:aG,onSubmit:p,children:[h(i2,{}),$("div",{className:"row margin-10",children:[h("span",{className:"custom-label",children:"Spectrometer Frequency :"}),h(Wo,{data:Xm,style:{width:290,height:30,margin:0},name:"frequency"})]}),h("span",{className:"group-label",children:"1D Options "}),$("div",{className:"row margin-10 padding-h-10",children:[h(Sn,{value:"1H",className:"custom-label"}),h(qe,{title:"From",children:h(Le,{name:"1d.1H.from",type:"number"})}),h(qe,{title:"To",style:{label:{padding:"0 10px"}},children:h(Le,{name:"1d.1H.to",type:"number"})})]}),$("div",{className:"row margin-10 padding-h-10",children:[h(Sn,{value:"13C",className:"custom-label"}),h(qe,{title:"From",children:h(Le,{name:"1d.13C.from",type:"number"})}),h(qe,{title:"To",style:{label:{padding:"0 10px"}},children:h(Le,{name:"1d.13C.to",type:"number"})})]}),$("div",{className:"row margin-10 padding-h-10",children:[h("span",{className:"custom-label",children:"Line Width : "}),h(Le,{name:"1d.lineWidth",type:"number",style:{input:{margin:0}}}),h("span",{style:{paddingLeft:"0.4rem"},children:" Hz "})]}),$("div",{className:"row margin-10 padding-h-10",children:[h("span",{className:"custom-label",children:"Number of Points : "}),h(Wo,{data:iG,name:"1d.nbPoints",style:{width:290,height:30,margin:0}})]}),h("span",{className:"group-label",children:"2D Options "}),$("div",{className:"row margin-10 padding-h-10",children:[h("span",{className:"custom-label",children:"Number of Points : "}),h(Wo,{data:n0,name:"2d.nbPoints.x",style:{margin:0,height:30}}),h("span",{className:"middle-x",children:" X "}),h(Wo,{data:n0,name:"2d.nbPoints.y",style:{margin:0,height:30}})]}),h("div",{className:"row margin-10",children:h("span",{className:"group-label",children:"Spectra "})}),$("div",{className:"row margin-10 padding-h-10",style:{justifyContent:"space-between"},children:[$("div",{className:"row",children:[h(vr,{name:"spectra.proton"}),h(Sn,{value:"1H",className:"nucleus-label"})]}),$("div",{className:"row",children:[h(vr,{name:"spectra.carbon"}),h(Sn,{value:"13C",className:"nucleus-label"})]}),$("div",{className:"row",children:[h(vr,{name:"spectra.cosy"}),h(Sn,{value:"COSY",className:"nucleus-label"})]}),$("div",{className:"row",children:[h(vr,{name:"spectra.hsqc"}),h(Sn,{value:"HSQC",className:"nucleus-label"})]}),$("div",{className:"row",children:[h(vr,{name:"spectra.hmbc"}),h(Sn,{value:"HMBC",className:"nucleus-label"})]})]})]}),h("p",{className:"warning",children:"In order to predict spectra we are calling an external service and the chemical structure will leave your browser! You should never predict spectra for confidential molecules."}),$("div",{className:"warning-container",children:[h(Ta,{onChange:f,checked:i},String(i)),h("p",{children:"I confirm that the chemical structure is not confidential."})]})]}),h("div",{className:"footer-container",children:h("button",{type:"button",onClick:l,className:"btn",disabled:!i,children:"Predict spectrum"})})]})}const lG=X`
  display: flex;
  flex-direction: row;
  border-bottom: 0.55px solid rgb(240, 240, 240);
  padding: 0px 5px;

  button svg {
    fill: #4e4e4e;
  }

  button {
    background-color: transparent;
    border: none;
    padding: 5px;
  }

  p {
    margin: 0;
    text-align: right;
    width: 100%;
    line-height: 22px;
    padding: 0px 10px;
  }
`,cG=[{id:"molfile",icon:h(sd,{}),label:"Copy as molfile"},{id:"png",icon:h(B0,{}),label:"Copy as PNG"},{id:"svg",icon:h(j0,{}),label:"Export as SVG"}];function uG({currentIndex:e,molecules:t,onMoleculeIndexChange:n=()=>null,onOpenMoleculeEditor:r=()=>null,actionsOptions:o={}}){const i=mt(),a=Re(),s=Tt(),c=_n(),l=d.exports.useCallback(()=>{q1(`molSVG${e}`,"molFile")},[e]),u=d.exports.useCallback(()=>{J1(`molSVG${e}`),i.success("MOL copied as PNG to clipboard")},[i,e]),p=d.exports.useCallback(()=>{t[e]&&ec(t[e].molfile).then(y=>{y?i.success("MOLFile copied to clipboard"):i.error("copied not completed")})},[i,e,t]),f=d.exports.useCallback(({id:y})=>{switch(y){case"molfile":p();break;case"png":u();break;case"svg":l();break}},[p,u,l]),g=d.exports.useCallback(()=>{navigator.clipboard.readText().then(y=>{a({type:Dd,molfile:y})})},[a]),v=d.exports.useCallback(()=>{var y;((y=t[e])==null?void 0:y.key)&&(n(0),a({type:yb,payload:{key:t[e].key,assignmentData:c}}))},[t,e,n,a,c]),x=d.exports.useCallback(()=>{s.show(h(sG,{molfile:t[e]}),{position:tt.TOP_CENTER,enableResizing:!0,width:600})},[s,t,e]);return $("div",{css:lG,children:[!o.hideExport&&h(tG,{component:h(Al,{}),toolTip:"Export As",items:cG,onClick:f}),!o.hidePast&&h(rn,{title:"Paste molfile",popupPlacement:"left",children:h("button",{className:"bar-button",type:"button",onClick:g,children:h(MS,{})})}),!o.hideAdd&&h(rn,{title:"Add Molecule",popupPlacement:"left",children:h("button",{className:"bar-button",type:"button",onClick:r,"data-test-id":"panel-structures-button-add",children:h(ci,{})})}),!o.hideDelete&&h(rn,{title:"Delete Molecule",popupPlacement:"left",children:h("button",{className:"bar-button",type:"button",onClick:v,children:h(Rr,{})})}),!o.hidePredict&&t&&t.length>0&&h(Yt,{popupTitle:"Predict Spectra",popupPlacement:"left",onClick:x,children:h(nx,{})}),$("p",{children:[t&&t.length>0&&`${+(e+1)} / ${t.length}`," "]})]})}function r0(e,t,n){if(t.length>0&&Object.keys(e).length>0){const r=n==="x"?0:n==="y"?1:void 0;if(r!==void 0){if(t[r]===e.atomLabel)return{oclIDs:[e.oclID],nbAtoms:e.nbAtoms};if(t[r]==="H")return{oclIDs:e.hydrogenOCLIDs,nbAtoms:e.nbAtoms*e.nbHydrogens}}else return{oclIDs:[e.oclID].concat(e.hydrogenOCLIDs),nbAtoms:e.nbAtoms+e.nbAtoms*e.nbHydrogens}}return{oclIDs:[],nbAtoms:0}}function wl(e,t){let n=e.find(o=>o.id===t),r;if(!n){for(const o of e)if(r=o.signals.findIndex(i=>i.id===t),r>=0){n=o;break}}return{datum:n,signalIndex:r}}function dG(e,t,n){let r=[];for(let o in e.assignment.assignment){let i,a,s=!1;if((e.assignment.assignment[o].x||[]).some(c=>t.includes(c))){r=r.concat(e.assignment.assignment[o].x);const c=wl(n,o);i=c.datum,a=c.signalIndex,s=!0}if((e.assignment.assignment[o].y||[]).some(c=>t.includes(c))){r=r.concat(e.assignment.assignment[o].y);const c=wl(n,o);i=c.datum,a=c.signalIndex,s=!0}if(i&&(r.push(i.id),a!==void 0&&r.push(i.signals[a].id)),s)break}return r}function pG(e,t){const n=e.assignment.isOnHover?e.assignment.assignment[e.assignment.onHoverID]:null,r=e.assignment.isOnHover?e.assignment.onHoverAxis:null;return n?t===we.DM_1D?n.x||[]:t===we.DM_2D?r?r==="x"?n.x||[]:r==="y"?n.y||[]:(n.x||[]).concat(n.y||[]):(n.x||[]).concat(n.y||[]):[]:[]}function fG(e,t){let n=e?e.slice():[];const{nbAtoms:r,oclIDs:o}=t;let i=r;return o.forEach(a=>{n.includes(a)?(i*=-1,n=n.filter(s=>s!==a)):n.push(a)}),[n,i]}function hG({displayerMode:e,activeTab:t,zones:n,ranges:r}){const o=mt(),i=Re(),a=mi(),s=_n(),c=rr(s.assignment.activeID!==void 0?s.assignment.activeID:Kv),[l,u]=d.exports.useState([]),[p,f]=d.exports.useState(null),[g,v]=d.exports.useState([]);d.exports.useEffect(()=>{if(t){const N=t.split(",");N.length===1?v([t.replace(/[0-9]/g,"")]):N.length===2&&v(N.map(H=>H.replace(/[0-9]/g,"")))}},[t]),d.exports.useEffect(()=>{p&&(p==="show"?a.dispatch({type:"SHOW",payload:{convertedHighlights:l}}):p==="hide"&&(a.dispatch({type:"HIDE",payload:{convertedHighlights:l}}),u([])),f(null))},[p,l,a]);const x=d.exports.useMemo(()=>{if(n||r){if(e===we.DM_1D&&r&&r.values)return r.values;if(e===we.DM_2D&&n&&n.values)return n.values}return[]},[e,r,n]),y=d.exports.useMemo(()=>{const N={x:[],y:[]};for(let H in s.assignment.assignment)s.assignment.assignment[H].x&&N.x.push(...s.assignment.assignment[H].x),s.assignment.assignment[H].y&&N.y.push(...s.assignment.assignment[H].y);return N},[s.assignment]),w=d.exports.useMemo(()=>y.x.concat(y.y),[y.x,y.y]),k=d.exports.useMemo(()=>{let N=[];return a.highlight.highlighted.forEach(H=>{var D;if(s.assignment.assignment[H]){const{datum:z}=wl(x,H),U=(D=a.highlight.sourceData)==null?void 0:D.type;z&&(U===wt.ZONE||U===wt.RANGE)&&(N=N.concat(z.signals.map(Y=>Ud(s,[Y.id]).length>0?Y.diaIDs:[]).flat()))}}),pG(s,e).concat(N)},[s,x,e,a.highlight]),_=d.exports.useCallback((N,H)=>fG(N,H),[]),R=d.exports.useCallback((N,H)=>{var A;if(!co(H)&&c.isActive){const D=r0(N,g,c.activeAxis);if(D.nbAtoms>0){D.oclIDs.forEach(Y=>{c.toggle(Y)});const{datum:z,signalIndex:U}=wl(x,c.id);if(z){let Y=[],oe=0;U===void 0?e===we.DM_1D?[Y,oe]=_(z.diaIDs||[],D):e===we.DM_2D&&([Y,oe]=_(z[c.activeAxis].diaIDs||[],D)):((A=z.signals)==null?void 0:A[U])&&(e===we.DM_1D?[Y,oe]=_(z.signals[U].diaIDs||[],D):e===we.DM_2D&&([Y,oe]=_(z.signals[U][c.activeAxis].diaIDs||[],D))),e===we.DM_1D?i({type:iv,payload:{nbAtoms:oe,rangeData:z,diaIDs:Y,signalIndex:U}}):e===we.DM_2D&&i({type:gv,payload:{nbAtoms:oe,zoneData:z,diaIDs:Y,axis:c.activeAxis,signalIndex:U}})}c.onClick(c.activeAxis)}else o.info("Not assigned! Different atom type or no attached hydrogens found!")}},[c,o,x,i,e,g,_]);return{handleOnAtomHover:d.exports.useCallback(N=>{const H=r0(N,g,c.activeAxis).oclIDs;if(H.length>0){const A=dG(s,H,x);u(A),f("show")}else f("hide")},[c.activeAxis,s,x,g]),handleOnClickAtom:R,currentDiaIDsToHighlight:k,assignedDiaIDsMerged:w}}const Wr={panel:X({display:"flex",overflow:"auto",flexGrow:1,width:"100%",height:"100%",flexDirection:"column"}),innerPanel:X({display:"flex",flex:"1",flexDirection:"column",overflow:"auto"}),molecule:X({display:"flex",flex:"1"}),toolbar:X({display:"flex",borderBottom:"0.55px solid rgb(240, 240, 240)",padding:"0px 10px",justifyContent:"end",height:22}),slider:X({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flexGrow:1,minHeight:0}),items:X({display:"flex",flexDirection:"column",flex:"1 1 0%",height:"100%",minHeight:0})};function gG({zones:e,ranges:t,molecules:n,activeTab:r,displayerMode:o,onMoleculeChange:i,actionsOptions:a,children:s}){const[c,l]=d.exports.useState(0),[u,p]=d.exports.useState([]),f=Re(),g=Tt(),{currentDiaIDsToHighlight:v,handleOnAtomHover:x,handleOnClickAtom:y,assignedDiaIDsMerged:w}=hG({zones:e,ranges:t,activeTab:r,displayerMode:o});d.exports.useEffect(()=>{n&&p(M=>(n.length>M.length&&l(u.length),n))},[u.length,n]),d.exports.useEffect(()=>{i==null||i(u[c]||null)},[c,u,i]);const k=d.exports.useCallback((M,N)=>{f({type:Id,molfile:N,key:M})},[f]),_=d.exports.useCallback((M=null)=>{g.show(h(qV,{selectedMolecule:M}),{position:tt.TOP_CENTER,width:700,height:500})},[g]),R=d.exports.useCallback(M=>{l(M)},[]);return $("div",{css:Wr.panel,children:[h(uG,{currentIndex:c,molecules:u,onOpenMoleculeEditor:()=>_(),onMoleculeIndexChange:R,actionsOptions:a}),$("div",{css:Wr.innerPanel,children:[h("div",{css:Wr.molecule,children:h(Kx,{onChange:M=>l(M),defaultIndex:c,children:u&&u.length>0?u.map((M,N)=>{var H;return $("div",{css:Wr.items,children:[$("span",{css:Wr.toolbar,children:[h(Ul,{mf:M.mf})," - ",(H=M.mw)==null?void 0:H.toFixed(2)]}),h("div",{css:Wr.slider,className:"mol-svg-container",onDoubleClick:()=>_(M),style:{backgroundColor:(N+1)%2!==0?"#fafafa":"white"},children:h(od,{children:({height:A,width:D})=>h(KV,{OCL:Un,id:`molSVG${N}`,width:D,height:A,molfile:M.molfile||"",setMolfile:z=>k(M.key,z),setSelectedAtom:y,atomHighlightColor:v&&v.length>0?"red":"#FFD700",atomHighlightOpacity:.35,highlights:v&&v.length>0?v:w,setHoverAtom:x})})})]},M.key)}):h("div",{css:Wr.slider,style:{height:"100%"},onClick:()=>_(),children:h("span",{children:"Click to draw molecule"})})})}),s]})]})}const mG=d.exports.memo(gG),bG={ranges:{},zones:{}};function a2({onMoleculeChange:e,children:t,actionsOptions:n}){const{molecules:r,displayerMode:o,activeTab:i}=ce(),a=Vt(bG),s=(a==null?void 0:a.ranges)||{},c=(a==null?void 0:a.zones)||{};return h(mG,{molecules:r,displayerMode:o,activeTab:i,ranges:s,zones:c,onMoleculeChange:e,actionsOptions:n,children:t})}const vG=[{key:1,value:"manual",label:"Manual"}];function xG({onClose:e=()=>null,nucleus:t}){const n=d.exports.useRef(),r=Re(),o=d.exports.useMemo(()=>{const c=to[t]?Object.entries(to[t]).map(l=>({key:l[0],value:l[0],label:l[0]}),[]):[];return vG.concat(c)},[t]),i=d.exports.useCallback(()=>{n.current.submitForm()},[]),a=d.exports.useCallback(c=>{r({type:dv,payload:c}),e()},[r,e]);d.exports.useEffect(()=>{function c(l){const[u,p]=l.range;n.current.setValues(P(S({},n.current.values),{from:u,to:p}))}return Et.on("brushEnd",c),()=>{Et.off("brushEnd",c)}},[]);const s=d.exports.useCallback(c=>{const f=to[t][c]||{delta:0},{delta:u=0}=f,p=he(f,["delta"]);n.current.setValues(S(P(S({},n.current.values),{targetX:u}),p))},[t]);return $("div",{css:$r,children:[$("div",{className:"header handle",children:[h("span",{children:"Spectra calibration"}),h(At,{onClick:e,className:"close-bt"})]}),h("div",{className:"inner-content",style:{flex:1},children:$(bt,{ref:n,initialValues:{from:-1,to:1,nbPeaks:1,targetX:0},onSubmit:a,children:[$("div",{className:"row margin-10",children:[h("span",{className:"custom-label",children:"Options :"}),h(hn,{data:o,style:{width:270,height:30,marginBottom:"20px"},onChange:s})]}),$("div",{className:"row margin-10",children:[h("span",{className:"custom-label",children:"Range :"}),h(qe,{title:"From : ",children:h(Le,{name:"from",type:"number"})}),h(qe,{title:"To : ",children:h(Le,{name:"to",type:"number"})})]}),h("div",{className:" margin-10",children:h(qe,{className:"custom-label",title:"Number of Peaks : ",children:h(Le,{name:"nbPeaks",type:"number"})})}),h("div",{className:" margin-10",children:h(qe,{className:"custom-label",title:"Target PPM :",children:h(Le,{name:"targetX",type:"number"})})})]})}),h("div",{className:"footer-container",children:h("button",{type:"button",onClick:i,className:"btn",children:"Done"})})]})}function s2(e,t=null){try{return new Function("args",`return ${e}`)(t)}catch(n){return n}}const yG=`function run(data) {

  return JSON.stringify(data,undefined, 2);
  
}(args);
`;function wG({data:e}){const{values:t,setFieldValue:n}=xt(),[r,o]=d.exports.useState(t.code?t.code:yG),[i,a]=d.exports.useState("");return d.exports.useEffect(()=>{const s=s2(r,e);s instanceof Error?a(s.message):(n("code",r),a(s))},[r,e,n]),$("div",{style:{marginTop:"20px"},children:[h("textarea",{value:r,onChange:s=>o(s.target.value),style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12,padding:"1em",width:"90%",backgroundColor:"#fcfcfc",marginBottom:"10px",minHeight:"100px",overflow:"auto",maxHeight:"200px"}}),h("p",{style:{marginBottom:"5px"},children:"Result:"}),h("textarea",{value:i,readOnly:!0,style:{border:"0.55px solid #f3f3f3",fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12,padding:"1em",width:"90%",marginBottom:"10px",minHeight:"100px",overflow:"auto",maxHeight:"200px"}})]})}var SG=d.exports.memo(wG);const CG=X`
  width: 100%;
  thead {
    border-bottom: 1px solid lightgray;
    background-color: #fafafa;
    font-size: 12px;
  }

  td,
  th {
    padding: 3px 5px;
    text-align: center;
  }

  .operation-col {
    width: 30px;
  }

  .input {
    height: 25px !important;
    width: 100% !important;
    margin: 0 !important;
  }

  .input.disbale {
    background-color: #e8e8e8;
    border-radius: 5px;
  }

  .label,
  .index {
    width: 100px;
  }

  .counter {
    width: 50px;
  }

  .add {
    background-color: transparent;
    border: 0;
    outline: none;
    svg {
      font-szie: 14px;
      fill: green;
    }
  }
`;function kG({data:e,onAfterSave:t},n){const r=Re(),o=d.exports.useRef(),[i,a]=d.exports.useState({});d.exports.useImperativeHandle(n,()=>({saveSetting(){o.current.submitForm()}})),d.exports.useEffect(()=>{const p=Object.keys(e.columns).reduce((f,g)=>(f[g]=P(S({},e.columns[g]),{tempKey:g}),f),{});a(p),o.current.setValues({columns:p,code:e.code})},[e]);const s=d.exports.useMemo(()=>Object.keys(i),[i]),c=d.exports.useMemo(()=>{function p(){return s.reduce((f,g)=>(f[g]=Ke().shape(P(S({tempKey:Yo().required().test("unique","must be unique column name",v=>{const x=o.current.values.columns;return Object.keys(x).reduce((y,w)=>(x[w].tempKey===v&&y.push(v),y),[]).length===1})},i[g].type===sl.FORMULA?{formula:Yo().required()}:{}),{index:Yo().required()})),f),{})}return Ke().shape({columns:Ke().shape(p())})},[i,s,o]),l=d.exports.useCallback(p=>{t==null||t(!0);const f=Object.entries(p.columns).reduce((g,[v,x])=>(g[v]=S(S({},i[v]),x),g),{});r({type:cv,payload:{code:p.code,columns:f}})},[i,r,t]),u=d.exports.useCallback(p=>{a(f=>P(S({},f),{[`temp${p}`]:{tempKey:"",type:"FORMULA",valueKey:"value",formula:"",index:p}}))},[]);return $(bt,{ref:o,initialValues:{columns:i,code:null},validationSchema:c,onSubmit:l,children:[s&&$("table",{css:CG,children:[h("thead",{children:$("tr",{children:[h("th",{className:"counter",children:"#"}),h("th",{className:"label",children:"Label"}),h("th",{children:"value"}),h("th",{className:"index",children:"index"})]})}),h("tbody",{children:s.map((p,f)=>$("tr",{children:[h("td",{className:"counter",children:f+1}),h("td",{className:"label",children:h(Le,{name:`columns.${p}.tempKey`,value:i[p].tempKey},p)}),h("td",{children:i[p].type===sl.FORMULA?h(Le,{name:`columns.${p}.formula`,value:i[p].formula}):h("div",{className:"input disbale"})}),h("td",{className:"index",children:h(Le,{name:`columns.${p}.index`,value:i[p].index})}),h("td",{className:"operation-col",children:s.length===f+1&&h("button",{className:"add",type:"button",onClick:()=>u(f+1),children:h(ci,{})})})]},p))})]}),h(SG,{data:e})]})}var EG=d.exports.forwardRef(kG);const _G=X`
  background-color: white;
  position: absolute;
  height: auto;
  z-index: 99999999999999;
  box-shadow: 0 19px 38px rgba(0, 0, 0, 0.3), 0 15px 12px rgba(0, 0, 0, 0.22);
  border-radius: 10px;
  margin-bottom: 20px;

  ul {
    list-style-type: none;
    padding: 0;
    margin: 0;

    li {
      padding: 10px 30px;
      text-align: center;
      color: black;
      border-bottom: 0.55px solid lightgoldenrodyellow;
      min-width: 150px;
    }

    li:last-of-type {
      border-bottom: none;
    }

    li:hover {
      background-color: gray;
      color: white;
    }
  }
`;function TG({data:e=[],onSelect:t}){return h("div",{css:_G,children:h("ul",{children:e.map((n,r)=>h("li",{onClick:()=>t(r),children:n.label},n.key))})})}const RG=X`
  padding: 2px;
  border-radius: 10px;
  width: auto;
  display: inline-block;
  border: 0.55px solid lightgray;
  font-size: 10px;

  button {
    text-transform: Capitalize;
  }
`;function AG(e){return e}function PG(e){const{data:t=null,selectedKey:n,onSelect:r,formatSelectedValue:o=AG}=e,[i,a]=d.exports.useState(!1),[s,c]=d.exports.useState(n),{rootRef:l}=Yd(),u=d.exports.useRef(null),p=d.exports.useCallback(g=>{u.current&&!g.target.closest(`.${u.current.className}`)&&i&&setTimeout(()=>{a(!1)},0)},[i]);d.exports.useEffect(()=>(l&&l.addEventListener("click",p),()=>l.removeEventListener("click",p)),[p,i,l]);const f=d.exports.useCallback(g=>{c(t[g].label),r(t[g].key)},[t,r]);return $("div",{className:"dropdown",ref:u,css:RG,children:[h("button",{type:"button",onClick:()=>a(g=>!g),children:s?o(s):h(FS,{})}),i&&h(TG,{data:t,onSelect:f})]})}const MG=e=>X`
  position: relative;

  .delete {
    position: absolute;
    right: 0px;
    top: 0px;
  }

  .container {
    display: flex;
    flex-direction: column;
    padding: 0;
    margin: 0;
  }

  .dropDown-container {
    justify-content: flex-start;
    align-items: flex-start;
  }

  .label-container {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    min-height: 45px;
  }

  .label {
    text-align: center;
  }

  ${e}
`,FG=[{key:Gi.RELATIVE,label:"Relative"},{key:Gi.ABSOLUTE,label:"Absolute"},{key:Gi.MIN,label:"Min Intensity"},{key:Gi.MAX,label:"Max Intensity"}];function OG({charLabel:e,rangeLabel:t,data:n,onColumnFilter:r}){const o=Re(),i=d.exports.useCallback(()=>{o({type:Gd,colKey:e})},[e,o]);return $("div",{css:MG,children:[$("div",{className:"container",children:[n.type===sl.NORMAL&&h("div",{className:"dropDown-container",children:h(PG,{data:FG,formatSelectedValue:a=>a&&a.substr(0,3),selectedKey:n.valueKey,onSelect:r})}),$("div",{className:"label-container",children:[$("span",{className:"label",children:[" ",e]}),h("span",{className:"label",children:t})]})]}),h(Vx,{onDelete:i})]})}function $G({data:e,activeTab:t}){const n=Tn(t),r=d.exports.useMemo(()=>{const s=ve(e,"code","");return s2(s,e)},[e]),o=Re(),i=d.exports.useCallback((s,c)=>{o({type:uv,payload:{columnKey:s,valueKey:c}})},[o]),a=d.exports.useMemo(()=>{const s=[{Header:"#",index:0,Cell:({row:u})=>u.index+1}];function c(u,p,f){const g=u.original[p][f];return g instanceof Error?m("span",{style:{color:"red"},children:g.message}):n(g)}function l(u,p){return m(OG,{charLabel:p,data:u,onColumnFilter:f=>i(p,f),rangeLabel:u.from&&u.to?`${n(u.from)} - ${n(u.to)}`:""})}return e.columns&&Object.keys(e.columns).forEach(u=>{const{valueKey:p,index:f}=e.columns[u];ic(s,{index:f+1,Cell:({row:g})=>c(g,u,p),Header:()=>l(e.columns[u],u),id:u})}),s.sort((u,p)=>u.index-p.index)},[i,e.columns,n]);return e.values&&e.values.length>0?G(d.exports.Fragment,{children:[m(oc,{data:e.values,columns:a}),m("div",{style:{width:"100%",padding:"10px"},dangerouslySetInnerHTML:{__html:r}})]}):m(yo,{})}var DG=d.exports.memo($G);function IG({activeTab:e,spectraAnalysis:t}){const[n,r]=d.exports.useState(!1),o=d.exports.useRef(),i=mt(),a=Tt(),s=Re(),c=d.exports.useMemo(()=>{const{values:x,options:{columns:y,code:w}}=t[e]||{values:{},options:{columns:{},code:null}};return{values:Object.values(x),columns:y,code:w}},[e,t]),l=d.exports.useCallback(()=>{r(!n)},[n]),u=d.exports.useCallback(()=>{o.current.saveSetting()},[]),p=d.exports.useCallback(()=>{r(!1)},[]),f=d.exports.useCallback(x=>{Et.emit("showYSpectraTrackers",x)},[]),g=d.exports.useCallback(()=>{s({type:En}),a.show(h(xG,{nucleus:e}),{isBackgroundBlur:!1,position:tt.TOP_CENTER,width:500})},[e,a,s]),v=d.exports.useCallback(async()=>{const x=z_(t,e);await ec(x)?i.success("Data copied to clipboard"):i.error("copy to clipboard failed")},[e,i,t]);return $("div",{css:[Dr,n&&X`
            .table-container th {
              position: relative;
            }
          `],children:[!n&&$(qn,{deleteToolTip:"Delete All Peaks",showSettingButton:!0,canDelete:!1,onSettingClick:l,children:[h(Yt,{popupTitle:"Copy To Clipboard",onClick:v,children:h(Al,{})}),h(Yt,{popupTitle:"Spectra calibration",onClick:g,children:h(J8,{style:{fontSize:"18px"}})}),h(On,{popupTitle:"Y Spectra Tracker",popupPlacement:"right",onClick:f,children:h(p9,{})})]}),n&&h(xi,{onSave:u,onClose:l}),h("div",{className:"inner-container",children:n?h(EG,{data:c,onAfterSave:p,ref:o}):h(DG,{data:c,activeTab:e})})]})}const NG=d.exports.memo(IG);function LG(){const{activeTab:e,spectraAnalysis:t,displayerKey:n}=ce();return e?h(NG,{activeTab:e,spectraAnalysis:t,displayerKey:n}):h("div",{})}const eu={container:{padding:10,backgroundColor:"#f1f1f1",height:"100%",overflowY:"auto"},groupContainer:{padding:"5px",borderRadius:"5px",margin:"10px 0px",backgroundColor:"white"},row:{display:"flex",margin:"5px 0px"},header:{borderBottom:"1px solid #e8e8e8",paddingBottom:"5px",fontWeight:"bold",color:"#4a4a4a"},inputLabel:{flex:2,fontSize:"11px",fontWeight:"bold",color:"#232323"},input:{width:"30%",textAlign:"center"}},HG=[{id:1,label:"Peak Number :",checkController:"showPeakNumber",formatController:"peakNumberFormat"},{id:2,label:"Peak Index : ",checkController:"showPeakIndex",formatController:"peakIndexFormat"},{id:3,label:"\u03B4 (ppm) :",checkController:"showDeltaPPM",formatController:"deltaPPMFormat"},{id:4,label:"\u03B4 (Hz) :",checkController:"showDeltaHz",formatController:"deltaHzFormat"},{id:5,label:"Peak Width",checkController:"showPeakWidth",formatController:"peakWidthFormat"},{id:6,label:"Intensity :",checkController:"showIntensity",formatController:"intensityFormat"}];function zG({nucleus:e,preferences:t,innerRef:n}){const r=mt(),o=d.exports.useRef(null),i=d.exports.useCallback(()=>{if(e){const s=e.reduce((l,u)=>(l[u]=g1,l),{}),c=ar(t,"formatting.panels.peaks");o.current.setValues(c||s)}},[e,t]);d.exports.useEffect(()=>{i()},[i]);const a=d.exports.useCallback(s=>{t.dispatch({type:hi,payload:{key:"peaks",value:s}}),r.success("Peaks preferences saved successfully")},[r,t]);return d.exports.useImperativeHandle(n,()=>({saveSetting:()=>{o.current.submitForm()}}),[]),m("div",{style:eu.container,children:m(bt,{onSubmit:a,ref:o,children:e==null?void 0:e.map(s=>G("div",{style:eu.groupContainer,children:[m(Sn,{style:eu.header,value:s}),HG.map(c=>m(wn,{label:c.label,checkControllerName:`${s}.${c.checkController}`,formatControllerName:`${s}.${c.formatController}`,hideFormat:c.formatController==="deltaPPMFormat"},c.id))]},s))})})}const BG=d.exports.memo(zG);function jG(e,t){const n=hc(),r=dt();return m(BG,{innerRef:t,nucleus:n,preferences:r})}var VG=d.exports.forwardRef(jG);function GG({activeTab:e,preferences:t,data:n,info:r}){const o=Re(),i=Tn(r.nucleus),a=d.exports.useCallback((f,g)=>{f.preventDefault(),f.stopPropagation();const v=g.original;o({type:Nl,data:{id:v.id,xIndex:v.xIndex}})},[o]),s=d.exports.useMemo(()=>ar(t,`formatting.panels.peaks.[${e}]`,g1),[e,t]),c=d.exports.useCallback((f,g)=>{const v=parseFloat(f.target.value)-parseFloat(g.value);o({type:Pd,shiftValue:v})},[o]),l=d.exports.useMemo(()=>[{showWhen:"showPeakNumber",index:1,Header:"#",Cell:({row:f})=>f.index+1,style:{width:"1%",maxWidth:"40px",minWidth:"40px"}},{showWhen:"showPeakIndex",index:2,Header:"index",accessor:f=>Fn(f.xIndex,s.peakIndexFormat)},{showWhen:"showDeltaPPM",index:3,Header:"\u03B4 (ppm)",accessor:f=>i(f.value),Cell:({row:f})=>m(tr,{value:i(f.original.value),onSave:g=>c(g,f.original),type:"number"})},{showWhen:"showDeltaHz",index:4,Header:"\u03B4 (Hz)",accessor:f=>Fn(f.valueHz,s.deltaHzFormat)},{showWhen:"showIntensity",index:5,Header:"Intensity",style:{maxWidth:"80px"},accessor:f=>Fn(f.intensity,s.intensityFormat)},{showWhen:"showPeakWidth",index:6,Header:"Peak Width",accessor:f=>Fn(f.peakWidth,s.peakWidthFormat)}],[i,s,c]),u=d.exports.useMemo(()=>[{index:20,Header:"",style:{width:"1%",maxWidth:"24px",minWidth:"24px"},id:"delete-button",Cell:({row:f})=>m("button",{type:"button",className:"delete-button",onClick:g=>a(g,f),children:m(Rr,{})})}],[a]),p=d.exports.useMemo(()=>{let f=[...u];for(const v of l){const g=v,{showWhen:x}=g,y=he(g,["showWhen"]);s[x]&&ic(f,y)}return f.sort((v,x)=>v.index-x.index)},[l,u,s]);return n&&n.length>0?m(oc,{data:n,columns:p,approxItemHeight:20,enableVirtualScroll:!0}):m(yo,{})}var WG=d.exports.memo(GG);function UG({peaks:e,info:t,xDomain:n,activeTab:r,preferences:o}){var _;const[i,a]=d.exports.useState(!1),[s,c]=d.exports.useState(!1),l=Tn(t.nucleus),u=Re(),p=Tt(),f=d.exports.useRef(),g=d.exports.useCallback(()=>{u({type:Nl,data:null})},[u]),v=d.exports.useCallback(()=>{p.showConfirmDialog({message:"All records will be deleted, Are You sure?",buttons:[{text:"Yes",handler:g},{text:"No"}]})},[p,g]),x=d.exports.useCallback(()=>{c(!s)},[s]),y=d.exports.useCallback(()=>{f.current.saveSetting(),c(!1)},[]),w=d.exports.useCallback(()=>{a(!i)},[i]),k=d.exports.useMemo(()=>{function R(M){return M*1e5>=n[0]*1e5&&M*1e5<=n[1]*1e5}return(e==null?void 0:e.values)?(i?e.values.filter(N=>R(N.x)):e.values).map(N=>{const H=Number(l(N.x));return{value:H,valueHz:(t==null?void 0:t.originFrequency)?Number(H)*t.originFrequency:"",id:N.id,intensity:N.y,peakWidth:N.width?N.width:"",isConstantlyHighlighted:R(H)}}).sort((N,H)=>N.value-H.value):[]},[i,l,t,e,n]);return $("div",{css:[Dr,s&&X`
            .table-container {
              table,
              th {
                position: relative !important;
              }
            }
          `],children:[!s&&h(qn,{counter:(_=e==null?void 0:e.values)==null?void 0:_.length,onDelete:v,deleteToolTip:"Delete All Peaks",onFilter:w,filterToolTip:i?"Show all peaks":"Hide peaks out of view",filterIsActive:i,counterFiltered:k.length,showSettingButton:!0,onSettingClick:x}),s&&h(xi,{onSave:y,onClose:x}),h("div",{className:"inner-container",children:s?h(VG,{ref:f}):h(WG,{data:k,activeTab:r,preferences:o,info:t})})]})}const XG=d.exports.memo(UG),YG={peaks:null,info:{}};function ZG(){const{xDomain:e,activeTab:t}=ce(),{peaks:n,info:r}=Vt(YG),o=dt();return h(XG,{peaks:n,info:r,xDomain:e,activeTab:t,preferences:o})}const KG=X`
  overflow: auto;
  width: 400px;
  .innerContainer {
    padding: 5px;
    width: 100%;
    height: 180px;
    border: none;
  }

  .mainButtonsContainer {
    padding: 5px 0px;
    border-bottom: 0.55px solid #ebebeb;
    display: flex;
    justify-content: space-between;
  }

  button {
    background-color: transparent;
    border: none;
    padding: 0 5px;
  }

  button:disabled {
    opacity: 0.6;
  }
`;function qG({text:e,onClose:t,onCopyClick:n}){return $("div",{css:KG,children:[$("div",{className:"mainButtonsContainer handle",children:[h("button",{type:"button",onClick:()=>n(e),children:h(sd,{})}),h(At,{onClick:t})]}),h("div",{className:"innerContainer",dangerouslySetInnerHTML:{__html:e}})]})}const JG=X`
  .btn {
    background-color: transparent;
    border: none;
  }

  .icon svg {
    font-size: 12px;
  }

  .preview-publication-icon svg {
    font-size: 13px;
  }

  button {
    margin-right: 2px;
  }
`;function QG({ranges:e,info:t,onUnlink:n,onFilterActivated:r,onSettingClick:o,isFilterActive:i,filterCounter:a,showMultiplicityTrees:s,showJGraph:c,showRangesIntegrals:l}){var U;const u=Re(),p=Tt(),f=mt(),g=dt(),v=_n(),x=ve(e,"options.sum",null),y=d.exports.useCallback(Y=>{u({type:Ub,value:Y}),p.close()},[u,p]),w=d.exports.useCallback(()=>{p.show(h(Jx,{onClose:()=>p.close(),onSave:y,header:x?`Set new Ranges Sum (Current: ${Number(x).toFixed(2)})`:"Set new Ranges Sum",sumOptions:e==null?void 0:e.options}))},[y,x,p,e==null?void 0:e.options]),k=d.exports.useCallback(()=>{n()},[n]),_=d.exports.useCallback(()=>{p.showConfirmDialog({message:"All assignments will be removed. Are you sure?",buttons:[{text:"Yes",handler:k},{text:"No"}]})},[k,p]),R=d.exports.useCallback(()=>{p.showConfirmDialog({message:"All ranges will be deleted. Are You sure?",buttons:[{text:"Yes",handler:()=>{u({type:jl,payload:{data:{assignmentData:v}}})}},{text:"No"}]})},[v,u,p]),M=d.exports.useCallback(()=>{u({type:Ev})},[u]),N=d.exports.useCallback(()=>{u({type:_v})},[u]),H=d.exports.useCallback(()=>{u({type:Mv})},[u]),A=d.exports.useCallback(async Y=>{await E8(Y)?f.success("Data copied to clipboard"):f.error("copy to clipboard failed")},[f]),D=d.exports.useCallback(()=>{const{originFrequency:Y,nucleus:oe}=t,ae=ve(g,`formatting.nucleusByKey[${oe.toLowerCase()}]`),je=Sh(ae.ppm),ue=Sh(ae.hz),me=OS(e.values,{nucleus:oe,nbDecimalDelta:je,nbDecimalJ:ue,observedFrequency:Y});p.show(h(qG,{text:me,onCopyClick:A,onClose:()=>p.close()}),{})},[t,p,g,e.values,A]),z=d.exports.useCallback(Y=>{u({type:wv,payload:Y})},[u]);return h("div",{css:JG,children:$(qn,{counter:(U=e==null?void 0:e.values)==null?void 0:U.length,onDelete:R,deleteToolTip:"Delete All Ranges",onFilter:r,filterToolTip:i?"Show all ranges":"Hide ranges out of view",filterIsActive:i,counterFiltered:a,showSettingButton:!0,onSettingClick:o,children:[h(Yt,{popupTitle:"Preview publication string",popupPlacement:"right",onClick:D,className:"btn preview-publication-icon",children:h(Al,{})}),h(Yt,{popupTitle:x?`Change Ranges Sum (${Number(x).toFixed(2)})`:"Change Ranges Sum",popupPlacement:"right",onClick:w,className:"btn icon",children:h(ix,{})}),h(Yt,{popupTitle:"Remove all Assignments",popupPlacement:"right",onClick:_,disabled:!e||!e.values||e.values.length===0,className:"btn icon",children:h(V0,{})}),h(On,{popupTitle:s?"Hide Multiplicity Trees in Spectrum":"Show Multiplicity Trees in Spectrum",popupPlacement:"right",onClick:M,disabled:!e||!e.values||e.values.length===0,children:h($S,{style:{pointerEvents:"none",fontSize:"12px"}})}),h(On,{popupTitle:c?"Hide J Graph":"Show J Graph",popupPlacement:"right",onClick:H,disabled:!e||!e.values||e.values.length===0,children:h(DS,{style:{pointerEvents:"none",fontSize:"12px"}})}),h(On,{popupTitle:l?"Hide integrals":"Show integrals",popupPlacement:"right",onClick:N,defaultValue:l,disabled:!e||!e.values||e.values.length===0,children:h(rx,{style:{pointerEvents:"none",fontSize:"12px"}})}),h(On,{className:"icon",popupTitle:"fix integral values",popupPlacement:"right",onClick:z,children:h(sx,{})})]})})}const Vi={container:{padding:10,backgroundColor:"#f1f1f1",height:"100%",overflowY:"auto"},groupContainer:{padding:"5px",borderRadius:"5px",margin:"10px 0px",backgroundColor:"white"},row:{display:"flex",margin:"5px 0px"},header:{borderBottom:"1px solid #e8e8e8",paddingBottom:"5px",fontWeight:"bold",color:"#4a4a4a"},inputLabel:{flex:2},inputWrapper:{width:"100px",flex:"4",borderRadius:"5px"}},eW=[{id:1,label:"From :",checkController:"showFrom",formatController:"fromFormat"},{id:2,label:"To :",checkController:"showTo",formatController:"toFormat"},{id:3,label:"Absolute :",checkController:"showAbsolute",formatController:"absoluteFormat"},{id:4,label:"Relative :",checkController:"showRelative",formatController:"relativeFormat"}];function tW({nucleus:e,preferences:t,innerRef:n}){const r=mt(),o=d.exports.useRef(),i=d.exports.useCallback(()=>{if(e){const s=e.reduce((l,u)=>(l[u]=Zd(u),l),{}),c=ar(t,"formatting.panels.ranges");o.current.setValues(c||s)}},[e,t]);d.exports.useEffect(()=>{i()},[i]);const a=d.exports.useCallback(s=>{t.dispatch({type:hi,payload:{key:"ranges",value:s}}),r.success("ranges preferences saved successfully")},[r,t]);return d.exports.useImperativeHandle(n,()=>({saveSetting:()=>{o.current.submitForm()}}),[]),m("div",{style:Vi.container,children:m(bt,{onSubmit:a,ref:o,children:e==null?void 0:e.map(s=>G("div",{style:Vi.groupContainer,children:[m(Sn,{style:Vi.header,value:s}),eW.map(c=>m(wn,{label:c.label,checkControllerName:`${s}.${c.checkController}`,formatControllerName:`${s}.${c.formatController}`},c.id)),m(qe,{title:"J Graph tolerance (Hz) :",style:{label:Vi.inputLabel,wrapper:Vi.inputWrapper},children:m(Le,{name:`${s}.jGraphTolerance`,type:"number"})})]},s))})})}const nW=d.exports.memo(tW);function rW(e,t){const n=hc(),r=dt();return m(nW,{innerRef:t,preferences:r,nucleus:n})}var oW=d.exports.forwardRef(rW);function l2(e,t=null){const[n,r]=d.exports.useState(t),o=d.exports.useMemo(()=>{const s=e.slice();return n!==null&&s.sort((c,l)=>n.direction==="asc"?ve(c,n.key,0)-ve(l,n.key,0):n.direction==="desc"?ve(l,n.key,0)-ve(c,n.key,0):0),s},[e,n]),i=d.exports.useCallback(s=>{let c="asc";if(s.target.id){const l=s.target.id;n&&n.key===l&&n.direction==="asc"&&(c="desc"),r({key:l,direction:c})}},[n]),a=d.exports.useCallback(s=>n?n.key===s?n.direction==="desc"?{flag:!0,content:" \u25BC"}:{flag:!1,content:" \u25B2"}:{flag:null,content:" "}:{flag:null,content:" "},[n]);return{items:o,isSortedDesc:a,onSort:{onClick:i}}}function zs(e,t){return ve(e,t,!1)}function iW({rowSpanTags:e,value:t,onHoverRange:n,format:r}){return m("td",P(S(S({},e),n),{children:Fn(t,r)}))}function ii(n){var r=n,{onClick:e}=r,t=he(r,["onClick"]);return m(d.exports.Fragment,{children:m("button",S({type:"button",onClick:e},t))})}const aW=e=>{const{onChange:t=()=>null,enableValidation:n=!0}=e,{values:r,errors:o}=xt();return d.exports.useEffect(()=>{n?Object.keys(o).length===0&&t(r):t(r)},[r,n,o,t]),null},sW=X`
  text-align: center;
  width: 100%;
  height: 100%;
  padding: 0.4rem;

  .info-text {
    padding: 10px;
    font-size: 13px;
  }
  .input-notes {
    font-size: 10px;
    color: black;
    font-weight: bold;
  }

  input {
    background-color: transparent;
    border: 0.55px solid #dedede;
    width: 50%;
    text-align: center;
    outline: none;
  }

  .add-signal-container {
    border: 0.55px solid #dedede;
  }

  .addSignalButton {
    margin-top: 15px;
    margin-top: 20px;
    width: 100%;
    background-color: #fcfcfc;
    border-top: 0.55px solid #dedede;
    align-items: center;
    justify-content: center;
    display: flex;
    padding: 0.4rem;
    font-size: 12px;
  }
  .addSignalButton:disabled {
    opacity: 0.6;
  }
`;function lW({onFocus:e,onBlur:t,range:n},r){const{values:o,setFieldValue:i}=xt(),{activeTab:a}=ce(),s=Tn(a),c=d.exports.useCallback(p=>{const f={multiplicity:"m",kind:"signal",delta:Number(p.newSignalDelta),js:[{multiplicity:ro("m"),coupling:""}]},g=o.signals.slice().concat(f);i("signals",g),i("activeTab",String(g.length-1))},[i,o.signals]),l=d.exports.useMemo(()=>Ke().shape({newSignalDelta:ft().test("test-range","",function(f){const{path:g,createError:v}=this;if(f&&f>n.from&&f<n.to)return!0;const x=` ${f?f.toFixed(5):0} ppm out of the range`;return v({path:g,message:x})}).required()}),[n]),u=d.exports.useCallback(()=>{r.current.submitForm()},[r]);return h("div",{css:sW,children:$("div",{className:"add-signal-container",children:[h("p",{className:"info-text",children:"Edit or select a delta value of new signal (ppm):"}),$(bt,{ref:r,validationSchema:l,initialValues:{newSignalDelta:(n.from+n.to)/2},onSubmit:c,children:[h(Le,{name:"newSignalDelta",type:"number",placeholder:"\u{1D6C5} (ppm)",onFocus:e,onBlur:t,style:{inputWrapper:{width:"250px",height:"30px"}},checkErrorAfterInputTouched:!1}),$("p",{className:"input-notes",children:["[ ",`${s(n.from)} ppm - ${s(n.to)} ppm`," ]"]}),h(ii,{className:"addSignalButton",onClick:u,children:h(ci,{title:"Add new signal"})})]})]})})}var cW=d.exports.forwardRef(lW);const uW={inputWrapper:{width:"50px",height:"26px",borderWidth:0,margin:"0 5px"}};function dW({signal:e,index:t,onFocus:n}){return G("div",{style:{display:"flex",alignItems:"center"},children:[m("span",{children:"\u{1D6C5}:"}),m(Le,{name:`signals.${t}.delta`,type:"number",placeholder:"J (Hz)",onFocus:n,style:uW,checkErrorAfterInputTouched:!1}),m("span",{children:e.js.map(r=>ro(r.multiplicity)).join("")})]})}const pW=X`
  border-spacing: 0;
  border: 1px solid #dedede;
  width: 100%;
  height: 100%;
  font-size: 12px;

  th,
  td {
    text-align: center;
    margin: 0;
    padding: 0.3rem;
    border-bottom: 1px solid #f5f5f5;

    button {
      background-color: transparent;
      border: none;
    }

    .add-button {
      color: blue;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .delete-button {
      border-radius: 25%;
      padding: 0;
      padding-left: 0.3rem;
      padding-right: 0.3rem;
    }
    .delete-button:hover {
      .icon {
        color: red;
      }
    }

    input {
      background-color: transparent;
      border: 0.5px solid #dedede;
      height: 100%;
      width: 100%;
      text-align: center;
    }
    .selectBox {
      background-color: transparent;
      border: 0.5px solid #dedede;
      height: 100%;
      width: 100% !important;
      text-align: center;
      margin: 0;
    }
  }

  tr {
    :last-child {
      background-color: #fcfcfc;
    }
  }
`;function fW({push:e,remove:t,onFocus:n,onBlur:r}){const{values:o,setFieldValue:i}=xt(),a=d.exports.useCallback((c,l)=>{aa(c)||i(l,"")},[i]),s=d.exports.useMemo(()=>ia.map(c=>P(S({key:c.value},c),{value:c.label})),[]);return h("table",{css:pW,children:$("tbody",{children:[$("tr",{children:[h("th",{children:"#"}),h("th",{children:"Multiplicity"}),h("th",{children:"J (Hz)"}),h("th",{children:""})]}),ve(o,`signals[${o.activeTab}].js`,[]).map((c,l)=>$("tr",{children:[h("td",{children:l+1}),h("td",{children:h(Wo,{className:"selectBox",name:`signals.${o.activeTab}.js.${l}.multiplicity`,data:s,onChange:u=>a(u,`signals.${o.activeTab}.js.${l}.coupling`)})}),h("td",{children:h(Le,{name:`signals.${o.activeTab}.js.${l}.coupling`,type:"number",placeholder:"J (Hz)",disabled:!aa(c.multiplicity),onFocus:n,onBlur:r,style:{inputWrapper:{width:"100%",height:"26px"}},checkErrorAfterInputTouched:!1})}),h("td",{children:h(ii,{className:"delete-button",onClick:()=>{t(l)},children:h(Rr,{className:"icon",title:"Delete coupling"})})})]},`editCouplings${o.activeTab}${l}`)),h("tr",{}),h("tr",{children:h("td",{colSpan:4,children:h(ii,{className:"add-button",onClick:()=>e({multiplicity:ro("m"),coupling:""}),children:h(ci,{title:"Add new coupling"})})})})]})})}var hW=d.exports.memo(fW);const gW=X`
  border-spacing: 0;
  width: 100%;
  font-size: 12px;
  height: 100%;

  margin: 0;
  padding: 0.4rem;
  text-align: center;
`;function mW({onFocus:e,onBlur:t}){const{values:n}=xt();return h("div",{css:gW,children:h(y8,{name:`signals.${n.activeTab}.js`,render:({push:r,remove:o})=>h("div",{children:h(hW,{push:r,remove:o,onFocus:e,onBlur:t})})})})}var bW=d.exports.memo(mW);const vW=X`
  text-align: center;
  width: 100%;

  .errorText {
    color: red;
  }

  .infoText {
    padding: 10px;
    margin: 10px 0;
    font-size: 14px;
    text-align: left;
    color: white;
    background-color: #5f5f5f;
    border-radius: 5px;
  }
`,xW=X`
  color: red;
`,yW=X`
  display: inline-grid;
  list-style: none;
  padding: 0.5rem 1.5rem;
`;function wW({range:e}){const t=d.exports.useRef(),[n,r]=d.exports.useState(null),{values:o,setFieldValue:i,errors:a}=xt(),{activeTab:s}=ce(),{info:c}=Vt({info:{}}),l=Tn(s);d.exports.useEffect(()=>{function w(k){if((c==null?void 0:c.originFrequency)&&n)if(o.activeTab==="addSignalTab")t.current.setValues({[n]:(k.range[1]-k.range[0])/2+k.range[0]});else if(n.includes("delta"))i(n,(k.range[1]-k.range[0])/2+k.range[0]);else{const _=Number(l(Math.abs(k.range[0]-k.range[1])*c.originFrequency));i(n,_)}r(null)}return Et.on("brushEnd",w),()=>{Et.off("brushEnd",w)}},[n,i,o.activeTab,l,c]),d.exports.useEffect(()=>{function w(k){n&&(o.activeTab==="addSignalTab"?t.current.setValues({[n]:k.xPPM}):n.includes("delta")&&i(n,k.xPPM)),r(null)}return Et.on("mouseClick",w),()=>{Et.off("mouseClick",w)}},[o.activeTab,n,i]);const u=d.exports.useCallback(w=>{r(w.target.name)},[r]),p=d.exports.useCallback(({tabid:w})=>{i("activeTab",w)},[i]),f=d.exports.useCallback(({tabid:w})=>{const k=o.signals.filter((_,R)=>R!==Number(w));i("signals",k)},[i,o.signals]);d.exports.useEffect(()=>{i("activeTab",o.signals.length>0?(o.signals.length-1).toString():"addSignalTab")},[i,o.signals.length]);const g=d.exports.useCallback(w=>!!((a==null?void 0:a.signals)&&(a==null?void 0:a.signals[w])),[a]),v=d.exports.useMemo(()=>{const w=o.signals.length>0?o.signals.map((_,R)=>h(fn,{tabid:`${R}`,tabstyles:g(R)?xW:yW,canDelete:!0,render:()=>h(dW,{signal:_,index:R,onFocus:u}),children:h(bW,{onFocus:u})},`signalForm${R}`)):[],k=h(fn,{tablabel:"+",tabid:"addSignalTab",canDelete:!1,className:"add-signal-tab",children:h(cW,{onFocus:u,range:e,ref:t})},"addSignalTab");return w.concat(k)},[u,e,g,o.signals]),x=h("p",{className:"infoText",children:"Focus on an input field and press Shift + Drag & Drop to draw a coupling constant in spectrum view."}),y=h("p",{className:"infoText",children:"Focus on the input field and press Shift + Left mouse click to select new signal delta value in spectrum view."});return $("div",{children:[h("div",{css:vW,children:a.signals&&(a.signals.noSignals||a.signals.noCouplings)?$("div",{children:[h("p",{className:"errorText",children:a.signals.noSignals||a.signals.noCouplings[0].message}),a.signals.noSignals?y:null]}):o.activeTab==="addSignalTab"?y:x}),h(vi,{activeTab:o.activeTab,onClick:p,onDelete:f,children:v})]})}var SW=d.exports.memo(wW);const CW=()=>d.exports.useMemo(()=>Ke().shape({signals:yl().of(Ke().shape({j:yl().of(Ke().shape({multiplicity:Yo().required(),coupling:fx().test("checkValue","",function(t){const{path:n,createError:r}=this,o=aa(this.parent.multiplicity);return!o&&isNaN(t)||o&&!isNaN(t)?!0:r({path:n,message:`${n} is required`})})})).min(1,"There must be at least one coupling in a signal")})).min(1,"There must be at least one signal in a range!")}),[]),kW=X`
  width: 600px;
  height: 500px;
  padding: 5px;
  button:focus {
    outline: none;
  }
  .header {
    height: 24px;
    border-bottom: 1px solid #f0f0f0;
    display: flex;
    align-items: center;
    span {
      color: #464646;
      font-size: 15px;
      flex: 1;
      border-left: 1px solid #ececec;
      padding-left: 6px;
    }

    button {
      background-color: transparent;
      border: none;
      padding: 5px;

      svg {
        height: 16px;
      }
    }
  }
  .container {
    display: flex;
    margin: 30px 5px;
    input,
    button {
      padding: 5px;
      border: 1px solid gray;
      border-radius: 5px;
      height: 36px;
      margin: 2px;
    }
    input {
      flex: 10;
    }
    button {
      flex: 2;
      color: white;
      background-color: gray;
    }
  }
`;function EW({onSaveEditRangeModal:e=()=>null,onCloseEditRangeModal:t=()=>null,onZoomEditRangeModal:n=()=>null,range:r}){const o=d.exports.useRef(null),{activeTab:i}=ce(),a=Re(),s=Tn(i),c=CW(),l=d.exports.useCallback(()=>{n(r)},[n,r]);d.exports.useEffect(()=>{l()},[l]);const u=d.exports.useCallback(()=>{t()},[t]),p=d.exports.useCallback(y=>y.filter(w=>w.coupling!=="").map(w=>P(S({},w),{multiplicity:ro(w.multiplicity)})),[]),f=d.exports.useCallback(y=>y.map(w=>P(S({id:Ge()},w),{multiplicity:w.js.map(k=>ro(k.multiplicity)).join(""),js:p(w.js)})),[p]),g=d.exports.useCallback(async y=>{const w=S({},r);w.signals=f(y.signals),await e(w),u()},[f,u,e,r]),v=d.exports.useMemo(()=>{const y=r.signals.map(w=>{let k=0;const _=[];return w.multiplicity.split("").forEach(R=>{let M={multiplicity:R,coupling:""};aa(R)&&(M=S({},w.js[k]),M.coupling=Number(s(M.coupling)),k++),M.multiplicity=ro(M.multiplicity),_.push(M)}),P(S({},w),{js:_})});return{activeTab:"0",signals:y}},[s,r]),x=d.exports.useCallback(y=>{const w=f(y.signals);a({type:kv,payload:{tempRange:Object.assign({},r,{signals:w})}})},[a,f,r]);return h("div",{css:kW,children:$(bt,{ref:o,initialValues:v,validationSchema:c,onSubmit:g,children:[$("div",{className:"header handle",children:[h(ii,{onClick:l,className:"zoom-button",children:h(fa,{title:"Set to default view on range in spectrum"})}),h("span",{children:` Range and Signal edition: ${s(r.from)} ppm to ${s(r.to)} ppm`}),h(wp,{onClick:()=>o.current.submitForm(),popupTitle:"Save and exit"}),h(At,{onClick:u})]}),h(SW,{range:r}),h(aW,{onChange:x})]})})}const _W=X`
  width: 66px;
  padding: 0 !important;
  button {
    background-color: transparent;
    border: none;
    padding: 5px;
  }

  button:disabled {
    opacity: 0.6;
  }
`,TW={marginLeft:2,marginRight:2,border:"none",height:"20px"};function RW({rowData:e,onHoverSignal:t,rowSpanTags:n}){const r=Re(),o=Tt(),i=_n(),a=d.exports.useCallback(()=>{const f=Math.abs(e.from-e.to);r({type:Ll,xDomain:[e.from-f,e.to+f]})},[r,e.from,e.to]),s=d.exports.useCallback(()=>{r({type:jl,payload:{data:{id:e.id,assignmentData:i}}})},[i,r,e.id]),c=d.exports.useCallback(f=>{r({type:nv,payload:{data:{rowData:e,value:f}}})},[r,e]),l=d.exports.useCallback(f=>{r({type:rv,payload:{editedRowData:f,assignmentData:i}})},[i,r]),u=d.exports.useCallback(()=>{r({type:En}),o.close()},[r,o]),p=d.exports.useCallback(()=>{r({type:Ca,payload:{selectedTool:K.editRange.id,tempRange:e}}),o.show(h(EW,{onCloseEditRangeModal:u,onSaveEditRangeModal:l,onZoomEditRangeModal:a,range:e}),{position:tt.MIDDLE_RIGHT,transition:Gn.SCALE,isBackgroundBlur:!1})},[u,r,o,e,l,a]);return $(d.exports.Fragment,{children:[h("td",P(S({},t),{children:h(hn,{onChange:c,data:cd,defaultValue:e.tableMetaInfo.signal.kind,style:TW})})),$("td",P(S({},n),{css:_W,children:[h("button",{type:"button",className:"delete-button",onClick:s,children:h(Rr,{})}),h("button",{type:"button",className:"zoom-button",onClick:a,children:h(fa,{title:"Zoom to range in spectrum"})}),h("button",{type:"button",className:"edit-button",onClick:p,children:h(G0,{color:"blue"})})]}))]})}function AW({rowData:e,onHoverSignal:t}){const n=ve(e,"tableMetaInfo.signal.js");return m("td",P(S({},t),{children:n==null?void 0:n.map(r=>isNaN(r.coupling)?"":r.coupling.toFixed(1)).join(",")}))}const o0={color:"red",fontWeight:"bold"};function PW({rowData:e,assignment:t,highlight:n,onUnlinkVisibilityChange:r,unlinkVisibility:o,onLink:i,onUnlink:a,rowSpanTags:s,onHover:c,highlightData:l}){var g;const u=d.exports.useMemo(()=>ve(e,"diaIDs",0),[e]),p=d.exports.useCallback(v=>{r==null||r(v)},[r]),f=d.exports.useMemo(()=>{var x;return t.isActive||t.isOnHover||n.isActive&&((x=l.highlight.sourceData)==null?void 0:x.type)!==wt.SIGNAL?{color:"red",fontWeight:"bold"}:{color:"black",fontWeight:"normal"}},[t.isActive,t.isOnHover,n.isActive,(g=l.highlight.sourceData)==null?void 0:g.type]);return m("td",P(S(S({},s),c),{onClick:v=>i==null?void 0:i(v,t),children:e.nbAtoms!==void 0&&e.nbAtoms>0?e.diaIDs&&e.diaIDs.length>0?G("div",{onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[e.nbAtoms," "," ( ",m("span",{style:f,children:u.length})," ) ",m("sup",{children:m("button",{type:"button",style:{visibility:o?"visible":"hidden",padding:0,margin:0},onClick:v=>a==null?void 0:a(v,!0),children:m(Pl,{color:"red"})})})]}):t.isActive?G("div",{children:[`${e.nbAtoms} (`,m("span",{style:o0,children:"0"}),")"]}):e.nbAtoms:t.isActive?G("div",{children:["0 (",m("span",{style:o0,children:"0"}),")"]}):""}))}var MW=d.exports.memo(PW);function FW({value:e,rowSpanTags:t,onHoverRange:n,format:r}){return m("td",P(S(S({},t),n),{children:Fn(e,r)}))}var i0=d.exports.memo(FW);function OW({rowData:e,rowSpanTags:t,onHoverRange:n,format:r}){const o=Re(),i=d.exports.useMemo(()=>{const s=$m(e),c=Fn(e.integration,r);return s?c:`[ ${c} ]`},[r,e]),a=d.exports.useCallback(s=>{o({type:ev,payload:{data:{value:s.target.value,id:e.id}}})},[o,e.id]);return m("td",P(S(S({},t),n),{children:m(tr,{value:i,onSave:a,type:"number",style:{padding:"0.1rem 0.4rem"}})}))}function $W({rowData:e,onHover:t,assignment:n,highlight:r,onUnlinkVisibilityChange:o,unlinkVisibility:i,onLink:a,onUnlink:s}){const c=d.exports.useMemo(()=>ve(e,"tableMetaInfo.signal.diaIDs",[]),[e]),l=d.exports.useMemo(()=>n.isActive||r.isActive?{color:"red",fontWeight:"bold"}:void 0,[n.isActive,r.isActive]),u=d.exports.useCallback(f=>{o==null||o(f)},[o]),p=d.exports.useCallback(f=>{a==null||a(f,n)},[n,a]);return m("td",P(S({},t),{onClick:p,style:l,children:c&&c.length>0?G("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[c.length," ",m("sup",{children:m("button",{type:"button",style:{visibility:i?"visible":"hidden",padding:0,margin:0},onClick:f=>s==null?void 0:s(f,!1),children:m(Pl,{color:"red"})})})]}):n.isActive?"0":""}))}var DW=d.exports.memo($W);function c2(e){return(t,n,r="",o="")=>{const i=ve(e,n,"0.000");return Fn(t,i,r,o)}}function IW({rowData:e,onHoverSignal:t,preferences:n}){const r=Re(),o=e.tableMetaInfo.signal,i=c2(n),a=d.exports.useCallback(s=>{r({type:tv,payload:{value:s.target.value,rangeID:e.id,signalID:o.id}})},[r,e.id,o.id]);return o?m("td",P(S({},t),{children:qd(o.multiplicity,["m"])?m(tr,{value:o.delta.toFixed(3),onSave:a,type:"number",style:{padding:"0.1rem 0.4rem"}}):`${i(e.from,"fromFormat")} - ${i(e.to,"toFormat")}`})):m("td",{children:""})}const NW=X`
  background-color: #ff6f0057;
`,LW=X`
  background-color: #f5f5dc;
`;function HW({rowData:e,onUnlink:t,onContextMenu:n,preferences:r}){const o=_n(),i=rr(e.id),a=gt([i.id].concat(i.assigned.x||[]).concat(Ud(o,e.signals.map(H=>H.id))),{type:wt.RANGE}),s=gt(i.assigned.x||[],{type:wt.RANGE}),c=rr(e.tableMetaInfo.id),l=gt([c.id].concat(c.assigned.x||[]),{type:wt.SIGNAL}),u=mi(),[p,f]=d.exports.useState(!1),[g,v]=d.exports.useState(!1),x=c2(r),y=d.exports.useMemo(()=>({rowSpan:e.tableMetaInfo.rowSpan,style:ve(e.tableMetaInfo,"hide",!1)?{display:"none"}:void 0}),[e.tableMetaInfo]),w=d.exports.useCallback((H,A)=>{H&&H.stopPropagation(),A!==void 0?A?(t(e),f(!1),i.removeAll("x")):(t(e,ve(e,"tableMetaInfo.signalIndex",void 0)),v(!1),c.removeAll("x")):(f(!1),v(!1))},[i,c,t,e]),k=d.exports.useCallback((H,A)=>{H.stopPropagation(),A.onClick("x")},[]),_=d.exports.useMemo(()=>({onMouseEnter:()=>{i.onMouseEnter("x"),a.show()},onMouseLeave:()=>{i.onMouseLeave("x"),a.hide()}}),[i,a]),R=d.exports.useMemo(()=>({onMouseEnter:()=>{i.onMouseEnter("x"),s.show()},onMouseLeave:()=>{i.onMouseLeave("x"),s.hide()}}),[i,s]),M=d.exports.useMemo(()=>({onMouseEnter:()=>{c.onMouseEnter("x"),l.show()},onMouseLeave:()=>{c.onMouseLeave("x"),l.hide()}}),[c,l]),N=d.exports.useMemo(()=>a.isActive||i.isActive?NW:ve(e,"tableMetaInfo.isConstantlyHighlighted",!1)?LW:null,[i.isActive,a.isActive,e]);return $("tr",{onContextMenu:H=>n(H,e),css:N,children:[h("td",P(S(S({},y),_),{children:e.tableMetaInfo.rowIndex+1})),zs(r,"showFrom")&&h(i0,{value:e.from,rowSpanTags:y,onHoverRange:_,format:x("showFrom",void 0)}),zs(r,"showTo")&&h(i0,{value:e.to,rowSpanTags:y,onHoverRange:_,format:x("toFormat",void 0)}),h(IW,{rowData:e,onHoverSignal:M,preferences:r}),zs(r,"showRelative")&&h(OW,{rowData:e,rowSpanTags:y,onHoverRange:_,format:x("relativeFormat",void 0)}),zs(r,"showAbsolute")&&h(iW,{value:e.absolute,rowSpanTags:y,onHoverRange:_,format:x("absoluteFormat",void 0)}),h("td",P(S({},M),{children:ve(e,"tableMetaInfo.signal.multiplicity","")})),h(AW,{rowData:e,onHoverSignal:M}),h(DW,{rowData:e,assignment:c,highlight:l,onHover:M,unlinkVisibility:g,onUnlinkVisibilityChange:H=>v(H),onLink:k,onUnlink:w}),h(MW,{rowData:e,assignment:i,highlight:s,onHover:R,unlinkVisibility:p,onUnlinkVisibilityChange:H=>f(H),onLink:k,onUnlink:w,rowSpanTags:y,highlightData:u}),h(RW,{rowData:e,onHoverSignal:M,onHoverRange:_,rowSpanTags:y})]})}function zW(e){return d.exports.useMemo(()=>{const t=[];return e.forEach((n,r)=>{n.signals.length===1?t.push(P(S({rowKey:Ge()},n),{tableMetaInfo:P(S({},n.tableMetaInfo),{signal:n.signals[0],rowIndex:r,signalIndex:0,id:n.signals[0].id})})):n.signals.length>1&&n.signals.forEach((o,i)=>{let a=!1,s=null;i<n.signals.length-1&&i===0?s=n.signals.length:a=!0,t.push(P(S({rowKey:Ge()},n),{tableMetaInfo:P(S({},n.tableMetaInfo),{signal:o,rowSpan:s,hide:a,rowIndex:r,signalIndex:i,id:o.id})}))})}),t},[e])}const BW=X`
  border-spacing: 0;
  border: 1px solid #dedede;
  width: 100%;
  font-size: 12px;
  .react-contextmenu-wrapper {
    display: contents;
  }
  tr {
    :last-child {
      td {
        border-bottom: 0;
      }
    }
  }
  th {
    position: sticky;
    top: 0;
    background-color: white;
    z-index: 1;
  }
  th,
  td {
    white-space: nowrap;
    text-align: center;
    margin: 0;
    padding: 0.1rem 0.4rem;
    border-bottom: 1px solid #dedede;
    border-right: 1px solid #dedede;

    :last-child {
      border-right: 0;
    }
    button {
      background-color: transparent;
      border: none;
    }
  }
`;function jW({tableData:e,onUnlink:t,context:n,activeTab:r,preferences:o}){const i=r==null?void 0:r.replace(/[0-9]/g,""),a=d.exports.useRef(),{items:s,isSortedDesc:c,onSort:l}=l2(e),u=zW(s),p=g=>ve(o,g,!1),f=d.exports.useCallback((g,v)=>{co(g)||(g.preventDefault(),a.current.handleContextMenu(g,v))},[a]);return $(d.exports.Fragment,{children:[$("table",{css:BW,children:[h("thead",{children:$("tr",{children:[h("th",{children:"#"}),p("showFrom")?$("th",P(S({id:"from"},l),{children:["From",c("from").content]})):null,p("showTo")?$("th",P(S({id:"to"},l),{children:["To ",c("to").content]})):null,h("th",{children:"\u03B4 (ppm) "}),p("showRelative")?$("th",P(S({id:"integral"},l),{children:["Rel. ",i," ",c("integral").content]})):null,p("showAbsolute")?h("th",{children:"Absolute"}):null,h("th",{children:"Mult."}),h("th",{children:"J (Hz)"}),h("th",{children:h(W0,{style:{fontSize:10}})}),h("th",{children:"\u03A3"}),h("th",{children:"Kind"}),h("th",{children:""})]})}),h("tbody",{children:u==null?void 0:u.map(g=>h(HW,{rowData:g,onUnlink:t,onContextMenu:(v,x)=>f(v,x),preferences:o},g.rowKey))})]}),h(xo,{ref:a,context:n})]})}function VW({ranges:e,data:t,info:n,xDomain:r,preferences:o,activeTab:i,molecules:a,showMultiplicityTrees:s,showJGraph:c,showRangesIntegrals:l}){const[u,p]=d.exports.useState(!1),f=_n(),g=Re(),v=mt(),[x,y]=d.exports.useState(!1),w=d.exports.useRef(),k=d.exports.useMemo(()=>{const z=(Y,oe)=>(oe=oe*1e4,Y=Y*1e4,oe>=r[0]*1e4&&Y<=r[1]*1e4||Y<=r[0]*1e4&&oe>=r[1]*1e4),U=Y=>Y.filter(oe=>z(oe.from,oe.to));return e.values?(u?U(e.values):e.values).map(oe=>P(S({},oe),{tableMetaInfo:{isConstantlyHighlighted:z(oe.from,oe.to)}})):[]},[u,e.values,r]),_=d.exports.useCallback((z,U=-1)=>{g({type:ov,payload:{rangeData:z,assignmentData:f,signalIndex:U}})},[f,g]),R=d.exports.useCallback(async z=>{if(t.x&&t.re){const{x:U,re:Y}=t,{from:oe,to:ae}=z,{fromIndex:je,toIndex:ue}=ua(U,{from:oe,to:ae}),me=S({x:Array.from(U.slice(je,ue)),y:Array.from(Y.slice(je,ue))},z);await ec(JSON.stringify(me,void 0,2))?v.show("Data copied to clipboard"):v.error("copy to clipboard failed")}},[t,v]),M=d.exports.useMemo(()=>ve(o,`formatting.panels.ranges.[${i}]`)||Zd(i),[i,o]),N=d.exports.useMemo(()=>[{label:"Copy to clipboard",onClick:R}],[R]),H=d.exports.useCallback(()=>{p(!u)},[u]),A=d.exports.useCallback(()=>{y(!x)},[x]),D=d.exports.useCallback(()=>{w.current.saveSetting(),y(!1)},[]);return h(Xn,{children:$("div",{css:[Dr,x&&X`
              th {
                position: relative;
              }
            `],children:[!x&&h(QG,{ranges:e,info:n,activeTab:i,molecules:a,showRangesIntegrals:l,showMultiplicityTrees:s,showJGraph:c,isFilterActive:u,onUnlink:_,onFilterActivated:H,onSettingClick:A,filterCounter:k.length}),x&&h(xi,{onSave:D,onClose:A}),h("div",{className:"inner-container",children:x?h(oW,{ref:w}):h("div",{className:"table-container",children:k&&k.length>0?h(jW,{activeTab:i,tableData:k,onUnlink:_,context:N,preferences:M}):h(yo,{})})})]})})}const GW=d.exports.memo(VW),WW={ranges:{},data:{},info:{}};function UW(){const{displayerKey:e,xDomain:t,activeTab:n,molecules:r,toolOptions:{selectedTool:o,data:{showMultiplicityTrees:i,showRangesIntegrals:a,showJGraph:s}}}=ce(),{ranges:c,data:l,info:u}=Vt(WW),p=dt();return h(GW,{ranges:c,data:l,info:u,showMultiplicityTrees:i,showJGraph:s,showRangesIntegrals:a,selectedTool:o,displayerKey:e,preferences:p,xDomain:t,activeTab:n,molecules:r})}function u2(){const e=dt();return t=>!ve(e,`display.toolBarButtons.${t}`,!1)}function XW({data:e,activeSpectrum:t,activeTab:n,displayerMode:r,spectrums:o,isAutomaticPickingVisible:i}){const a=Tt(),s=mt(),c=Re(),l=d.exports.useCallback(()=>{a.showConfirmDialog({message:"All records will be deleted, Are You sure?",buttons:[{text:"Yes",handler:()=>{c({type:Nd})}},{text:"No"}]})},[c,a]),u=d.exports.useCallback(()=>{const y=o.map(w=>w.id);c({type:ra,id:y})},[c,o]),p=d.exports.useCallback(()=>{c({type:ra,id:[]})},[c]),f=d.exports.useCallback(()=>{function y(k){let _=n.split(",");_=_[0]===_[1]?[_[0]]:_;const R=[];for(const M of _)k.some(H=>H.info.nucleus===M)||R.push(M);return R}const w=y(e);w.length>0?c({type:Jb,nucleus:w}):s.error("Nothing to calculate")},[n,s,e,c]),g=d.exports.useCallback(()=>{c({type:mv})},[c]),v=d.exports.useCallback(()=>{c({type:bv})},[c]),x=d.exports.useCallback(async()=>{const y=await s.showLoading("Automatic Ranges/Zones detection for all spectra in progress");setTimeout(()=>{c({type:Tv}),c({type:Rv}),y()},0)},[c,s]);return G(qn,{onDelete:l,counter:o==null?void 0:o.length,deleteToolTip:"Delete all spectra",children:[m(Yt,{popupTitle:"Hide all spectra",onClick:p,children:m(IS,{})}),m(Yt,{popupTitle:"Show all spectra",onClick:u,children:m(Ws,{})}),t&&n&&n.split(",").length>1&&m(Yt,{popupTitle:"Add missing projection",onClick:f,children:m(NS,{})}),r===we.DM_1D&&o.length>1&&G(In,{children:[m(Yt,{popupTitle:"Reset Scale",onClick:v,children:m(iF,{})}),m(Yt,{popupTitle:"Same Top",onClick:g,children:m(aF,{})})]}),e&&e.length>0&&i&&m(Yt,{popupTitle:"Automatic Ranges/Zones picking for all spectra",onClick:x,children:m(ox,{})})]})}const YW=d.exports.memo(XW);function ZW({spectrums:e}){const{data:t,activeSpectrum:n,activeTab:r,displayerMode:o}=ce(),a=u2()("hideAutoRangesTool");return m(YW,{data:t,activeSpectrum:n,activeTab:r,displayerMode:o,spectrums:e,isAutomaticPickingVisible:a})}function KW({color:e,activated:t}){return m("div",{style:{backgroundColor:e,height:"12px",width:"12px",opacity:t?1:.1,display:"inline-block"}})}function qW({positiveColor:e,negativeColor:t,activated:n}){return m("svg",{width:"12",height:"12",viewBox:"0 0 12 12",opacity:n?1:.1,children:G("g",{children:[m("path",{d:"M0,0H12L0,12Z",fill:e,strokeWidth:"0"}),m("path",{d:"M12,12H0L12,0Z",fill:t,strokeWidth:"0"})]})})}function JW(e){const{style:t,onClick:n=()=>null,activated:r}=e;return m("button",{style:t,type:"button",onClick:n,children:e.dimension===2?m(qW,P(S({},e.color),{activated:r})):m(KW,S({activated:r},e.color))})}var QW=d.exports.memo(JW);function eU({data:e,onChangeMarkersVisibility:t,markersVisible:n,style:r}){const o=i=>n.findIndex(a=>a.id===i)!==-1;return m("button",{style:P(S({},r),{opacity:o(e.id)&&e.peaks&&e.peaks.values.length>0?1:.1}),type:"button",onClick:()=>t(e),disabled:e.peaks&&e.peaks.values.length===0,children:m(nF,{})})}function tU({data:e,onChangeVisibility:t,style:n}){const r=(o,i)=>e?e.display[i]:!0;return G(In,{children:[e.info.dimension===1&&m("button",{"data-test-id":"hide-show-spectrum-button",style:n,type:"button",onClick:()=>t(e,"isVisible"),children:m(Ws,{style:S({},r(e.id,"isVisible")?{opacity:1,strokeWidth:"1px",fill:e.display.color}:{opacity:.1,fill:e.display.color})})}),e.info.dimension===2&&G("div",{style:{minWidth:"40px"},children:[m("button",{style:P(S({},n),{width:"20px",minWidth:"20px"}),type:"button",onClick:()=>t(e,"isPositiveVisible"),children:m(Ws,{style:S({},r(e.id,"isPositiveVisible")?{opacity:1,strokeWidth:"1px",fill:e.display.positiveColor}:{opacity:.1,fill:e.display.positiveColor})})}),m("button",{style:P(S({},n),{width:"20px",minWidth:"20px"}),type:"button",onClick:()=>t(e,"isNegativeVisible"),children:m(Ws,{style:S({},r(e.id,"isNegativeVisible")?{opacity:1,strokeWidth:"1px",fill:e.display.negativeColor}:{opacity:.1,fill:e.display.negativeColor})})})]})]})}const Pn={button:{backgroundColor:"transparent",border:"none",width:"26px",minWidth:"26px"},row:{display:"flex",alignContent:"center",height:"25px",borderBottom:"0.55px solid #f1f1f1"},name:{flex:1,height:"100%",display:"flex"},info:{flex:"1 1 1px",height:"100%",display:"block",alignItems:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"24px"},icon:{display:"flex",margin:"auto",justifyContent:"center"}};function nU({activeSpectrum:e,markersVisible:t,data:n,onChangeVisibility:r,onChangeMarkersVisibility:o,onChangeActiveSpectrum:i,onOpenSettingModal:a,onContextMenu:s}){var v,x;const c=y=>(y&&(y=y.replace(/(?<value>[0-9]+)/g,"<sub>$<value></sub>")),y),l=e&&e.id===n.id,{color:u,name:p,positiveColor:f,negativeColor:g}=n.display;return G("div",{style:S(S({},Pn.row),l?{backgroundColor:"#fafafa"}:{opacity:e?.2:1}),onContextMenu:s,children:[m(tU,{data:n,onChangeVisibility:r,style:Pn.button}),G("div",{style:Pn.name,onClick:()=>i(n),children:[m("div",{style:P(S({},Pn.icon),{width:"16px"}),children:n.info.isFid?m(K8,{}):n.info.dimension===2?m(V8,{}):m(nx,{})}),m("span",{style:Pn.info,children:p}),m("div",{style:Pn.info,dangerouslySetInnerHTML:{__html:n.info&&c(n.info.solvent)}}),G("span",{style:Pn.info,children:[m("span",{style:{borderLeft:"0.55px solid #e5e5e5",paddingRight:"5px"}}),(v=n.info)==null?void 0:v.experiment]}),m("span",{style:Pn.info,children:(x=n.info)==null?void 0:x.pulse})]}),m(eU,{data:n,style:S(S({},Pn.icon),Pn.button),onChangeMarkersVisibility:o,markersVisible:t}),m(QW,{style:Pn.button,dimension:n.info.dimension,color:{positiveColor:f,color:u,negativeColor:g},activated:l,onClick:y=>a(n,y)})]})}var rU=d.exports.memo(nU);function oU(e){const{onColorChange:t=()=>null,name:n}=e,{values:r,setFieldValue:o}=xt(),i=d.exports.useCallback(a=>{t(a),o(n,`${a.hex}${Math.round(a.rgb.a*255).toString(16)}`)},[n,t,o]);return m(Sp.SketchPicker,{color:{hex:ve(r,n,"#000")},presetColors:km,onChangeComplete:a=>i(a)})}var qu=d.exports.memo(oU);function iU(e){const t=e.length,n=Math.floor(t/307200)||1,r=new Float64Array(t/n>>0);let o=0;for(let i=0;i<r.length;i+=n)r[o++]=e[i];return r}function aU(e,t,n){const{log10:r,abs:o}=Math,{yLogBase:i}=n,a=t.length>0?t[0].x:0,s=t.length>0?t[t.length-1].x:0,c=r(o(e))/r(i);return[{x:a,y:c},{x:s,y:c}]}function sU({color:e="red",data:t,options:n={}}){const{yLogBase:r=2}=n,o=d.exports.useMemo(()=>{const i=iU(t.re),a=U0(i,n),s={},c={};for(let l in a.sanplot){const{x:u,y:p}=a.sanplot[l];let f=new Array(u.length);for(let g=0;g<u.length;g++)f[g]={x:u[g],y:p[g]};s[l]=f,c[l]=aU(a[l],f,{yLogBase:r})}return{sanPlot:s,lines:c}},[t.re,n,r]);return G("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[m("div",{style:{display:"block"},children:G(qo,{width:180,height:220,children:[m(LS,{title:"Sanplot"}),m(zn,{data:o.sanPlot.positive,xAxis:"x",yAxis:"y",label:"positive",lineStyle:{stroke:e,strokeWidth:1.2},markerStyle:{fill:e,stroke:e}}),m(zn,{data:o.lines.positive,xAxis:"x",yAxis:"y",label:"noise level",lineStyle:{stroke:"blue",strokeWidth:.8,strokeDasharray:"3, 3"},markerStyle:{fill:e,stroke:e}}),m(kn,{id:"x",label:"Pt",position:"bottom",tickLabelStyle:{fontSize:"0.6rem"},labelStyle:{fontSize:"0.6rem"}}),m(kn,{id:"y",label:`Intensity [Log${r}]`,position:"left",tickLabelStyle:{fontSize:"0.6rem"},labelStyle:{fontSize:"0.7rem"}}),m(Js,{position:"embedded",bottom:5,right:60})]})}),m("div",{style:{display:"block",width:180,height:180},children:G(qo,{width:180,height:180,children:[m(zn,{data:o.sanPlot.negative,xAxis:"x",yAxis:"y",label:"negative",lineStyle:{stroke:e,strokeWidth:1.2},markerStyle:{fill:e,stroke:e}}),m(zn,{data:o.lines.negative,xAxis:"x",yAxis:"y",label:"noise level",lineStyle:{stroke:"blue",strokeWidth:.8,strokeDasharray:"3, 3"},markerStyle:{fill:e,stroke:e}}),m(kn,{id:"x",label:"Pt",position:"bottom",tickLabelStyle:{fontSize:"0.6rem"},labelStyle:{fontSize:"0.5rem"}}),m(kn,{id:"y",label:`Intensity [Log${r}]`,position:"left",tickLabelStyle:{fontSize:"0.6rem"},labelStyle:{fontSize:"0.7rem"}}),m(Js,{position:"embedded",bottom:5,right:60})]})})]})}var lU=d.exports.memo(sU);function cU({data:e,onSubmit:t}){const n=d.exports.useRef(null),r=d.exports.useCallback(()=>{n.current&&n.current.submitForm()},[]);return m(bt,{ref:n,initialValues:e.display,onSubmit:t,children:G("div",{style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[m("div",{style:{display:"block",position:"relative"},children:m(qu,{name:"color",onColorChange:r})}),m(lU,{color:"red",data:e.data})]})})}var tu="/Users/brians/git/react-slider/src/components/ReactSlider/ReactSlider.jsx";function Qi(){return Qi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qi.apply(this,arguments)}function uU(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ju(e,t)}function Ju(e,t){return Ju=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Ju(e,t)}function nu(e){return e&&e.stopPropagation&&e.stopPropagation(),e&&e.preventDefault&&e.preventDefault(),!1}function dU(e){e.stopPropagation&&e.stopPropagation()}function ru(e){return e==null?[]:Array.isArray(e)?e.slice():[e]}function Bs(e){return e!==null&&e.length===1?e[0]:e.slice()}function pU(e,t,n,r){for(var o=0;o<e;o+=1){var i=r-o*n;t[e-1-o]>i&&(t[e-1-o]=i)}}function fU(e,t,n,r){for(var o=0;o<e;o+=1){var i=r+o*n;t[o]<i&&(t[o]=i)}}function js(e){Object.keys(e).forEach(function(t){typeof document!="undefined"&&document.addEventListener(t,e[t],!1)})}function hU(e){Object.keys(e).forEach(function(t){typeof document!="undefined"&&document.removeEventListener(t,e[t],!1)})}function Ur(e,t){return Qu(gU(e,t),t)}function Qu(e,t){var n=(e-t.min)%t.step,r=e-n;return Math.abs(n)*2>=t.step&&(r+=n>0?t.step:-t.step),parseFloat(r.toFixed(5))}function gU(e,t){var n=e;return n<=t.min&&(n=t.min),n>=t.max&&(n=t.max),n}var Qr=function(e){uU(t,e);function t(r){var o;o=e.call(this,r)||this,o.onKeyUp=function(){o.onEnd()},o.onMouseUp=function(){o.onEnd(o.getMouseEventMap())},o.onTouchEnd=function(){o.onEnd(o.getTouchEventMap())},o.onBlur=function(){o.setState({index:-1},o.onEnd(o.getKeyDownEventMap()))},o.onMouseMove=function(c){o.setState({pending:!0});var l=o.getMousePosition(c),u=o.getDiffPosition(l[0]),p=o.getValueFromPosition(u);o.move(p)},o.onTouchMove=function(c){if(!(c.touches.length>1)){o.setState({pending:!0});var l=o.getTouchPosition(c);if(typeof o.isScrolling=="undefined"){var u=l[0]-o.startPosition[0],p=l[1]-o.startPosition[1];o.isScrolling=Math.abs(p)>Math.abs(u)}if(o.isScrolling){o.setState({index:-1});return}var f=o.getDiffPosition(l[0]),g=o.getValueFromPosition(f);o.move(g)}},o.onKeyDown=function(c){if(!(c.ctrlKey||c.shiftKey||c.altKey||c.metaKey))switch(o.setState({pending:!0}),c.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":c.preventDefault(),o.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":c.preventDefault(),o.moveUpByStep();break;case"Home":c.preventDefault(),o.move(o.props.min);break;case"End":c.preventDefault(),o.move(o.props.max);break;case"PageDown":c.preventDefault(),o.moveDownByStep(o.props.pageFn(o.props.step));break;case"PageUp":c.preventDefault(),o.moveUpByStep(o.props.pageFn(o.props.step));break}},o.onSliderMouseDown=function(c){if(!(o.props.disabled||c.button===2)){if(o.setState({pending:!0}),!o.props.snapDragDisabled){var l=o.getMousePosition(c);o.forceValueFromPosition(l[0],function(u){o.start(u,l[0]),js(o.getMouseEventMap())})}nu(c)}},o.onSliderClick=function(c){if(!o.props.disabled&&o.props.onSliderClick&&!o.hasMoved){var l=o.getMousePosition(c),u=Ur(o.calcValue(o.calcOffsetFromPosition(l[0])),o.props);o.props.onSliderClick(u)}},o.createOnKeyDown=function(c){return function(l){o.props.disabled||(o.start(c),js(o.getKeyDownEventMap()),nu(l))}},o.createOnMouseDown=function(c){return function(l){if(!(o.props.disabled||l.button===2)){o.setState({pending:!0});var u=o.getMousePosition(l);o.start(c,u[0]),js(o.getMouseEventMap()),nu(l)}}},o.createOnTouchStart=function(c){return function(l){if(!(o.props.disabled||l.touches.length>1)){o.setState({pending:!0});var u=o.getTouchPosition(l);o.startPosition=u,o.isScrolling=void 0,o.start(c,u[0]),js(o.getTouchEventMap()),dU(l)}}},o.handleResize=function(){var c=window.setTimeout(function(){o.pendingResizeTimeouts.shift(),o.resize()},0);o.pendingResizeTimeouts.push(c)},o.renderThumb=function(c,l){var u=o.props.thumbClassName+" "+o.props.thumbClassName+"-"+l+" "+(o.state.index===l?o.props.thumbActiveClassName:""),p={ref:function(v){o["thumb"+l]=v},key:o.props.thumbClassName+"-"+l,className:u,style:c,onMouseDown:o.createOnMouseDown(l),onTouchStart:o.createOnTouchStart(l),onFocus:o.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":o.props.orientation,"aria-valuenow":o.state.value[l],"aria-valuemin":o.props.min,"aria-valuemax":o.props.max,"aria-label":Array.isArray(o.props.ariaLabel)?o.props.ariaLabel[l]:o.props.ariaLabel,"aria-labelledby":Array.isArray(o.props.ariaLabelledby)?o.props.ariaLabelledby[l]:o.props.ariaLabelledby},f={index:l,value:Bs(o.state.value),valueNow:o.state.value[l]};return o.props.ariaValuetext&&(p["aria-valuetext"]=typeof o.props.ariaValuetext=="string"?o.props.ariaValuetext:o.props.ariaValuetext(f)),o.props.renderThumb(p,f)},o.renderTrack=function(c,l,u){var p={key:o.props.trackClassName+"-"+c,className:o.props.trackClassName+" "+o.props.trackClassName+"-"+c,style:o.buildTrackStyle(l,o.state.upperBound-u)},f={index:c,value:Bs(o.state.value)};return o.props.renderTrack(p,f)};var i=ru(r.value);i.length||(i=ru(r.defaultValue)),o.pendingResizeTimeouts=[];for(var a=[],s=0;s<i.length;s+=1)i[s]=Ur(i[s],r),a.push(s);return o.state={index:-1,upperBound:0,sliderLength:0,value:i,zIndices:a},o}var n=t.prototype;return n.componentDidMount=function(){typeof window!="undefined"&&(window.addEventListener("resize",this.handleResize),this.resize())},t.getDerivedStateFromProps=function(o,i){var a=ru(o.value);return!a.length||i.pending?null:{value:a.map(function(s){return Ur(s,o)})}},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),typeof window!="undefined"&&window.removeEventListener("resize",this.handleResize)},n.onEnd=function(o){o&&hU(o),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return Bs(this.state.value)},n.getClosestIndex=function(o){for(var i=Number.MAX_VALUE,a=-1,s=this.state.value,c=s.length,l=0;l<c;l+=1){var u=this.calcOffset(s[l]),p=Math.abs(o-u);p<i&&(i=p,a=l)}return a},n.getMousePosition=function(o){return[o["page"+this.axisKey()],o["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(o){var i=o.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(o){var i=o/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return Ur(this.state.startValue+i,this.props)},n.getDiffPosition=function(o){var i=o-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){var o=this.slider,i=this.thumb0;if(!(!o||!i)){var a=this.sizeKey(),s=o.getBoundingClientRect(),c=o[a],l=s[this.posMaxKey()],u=s[this.posMinKey()],p=i.getBoundingClientRect(),f=p[a.replace("client","").toLowerCase()],g=c-f,v=Math.abs(l-u);(this.state.upperBound!==g||this.state.sliderLength!==v||this.state.thumbSize!==f)&&this.setState({upperBound:g,sliderLength:v,thumbSize:f})}},n.calcOffset=function(o){var i=this.props.max-this.props.min;if(i===0)return 0;var a=(o-this.props.min)/i;return a*this.state.upperBound},n.calcValue=function(o){var i=o/this.state.upperBound;return i*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(o){var i=this.slider,a=i.getBoundingClientRect(),s=a[this.posMaxKey()],c=a[this.posMinKey()],l=window["page"+this.axisKey()+"Offset"],u=l+(this.props.invert?s:c),p=o-u;return this.props.invert&&(p=this.state.sliderLength-p),p-=this.state.thumbSize/2,p},n.forceValueFromPosition=function(o,i){var a=this,s=this.calcOffsetFromPosition(o),c=this.getClosestIndex(s),l=Ur(this.calcValue(s),this.props),u=this.state.value.slice();u[c]=l;for(var p=0;p<u.length-1;p+=1)if(u[p+1]-u[p]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:u},function(){i(c),a.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{var o=this.pendingResizeTimeouts.shift();clearTimeout(o)}while(this.pendingResizeTimeouts.length)},n.start=function(o,i){var a=this["thumb"+o];a&&a.focus();var s=this.state.zIndices;s.splice(s.indexOf(o),1),s.push(o),this.setState(function(c){return{startValue:c.value[o],startPosition:i!==void 0?i:c.startPosition,index:o,zIndices:s}})},n.moveUpByStep=function(o){o===void 0&&(o=this.props.step);var i=this.state.value[this.state.index],a=Ur(i+o,this.props);this.move(Math.min(a,this.props.max))},n.moveDownByStep=function(o){o===void 0&&(o=this.props.step);var i=this.state.value[this.state.index],a=Ur(i-o,this.props);this.move(Math.max(a,this.props.min))},n.move=function(o){var i=this.state,a=i.index,s=i.value,c=s.length,l=s[a];if(o!==l){this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;var u=this.props,p=u.pearling,f=u.max,g=u.min,v=u.minDistance;if(!p){if(a>0){var x=s[a-1];o<x+v&&(o=x+v)}if(a<c-1){var y=s[a+1];o>y-v&&(o=y-v)}}s[a]=o,p&&c>1&&(o>l?(this.pushSucceeding(s,v,a),pU(c,s,v,f)):o<l&&(this.pushPreceding(s,v,a),fU(c,s,v,g))),this.setState({value:s},this.fireChangeEvent.bind(this,"onChange"))}},n.pushSucceeding=function(o,i,a){var s,c;for(s=a,c=o[s]+i;o[s+1]!==null&&c>o[s+1];s+=1,c=o[s]+i)o[s+1]=Qu(c,this.props)},n.pushPreceding=function(o,i,a){for(var s=a,c=o[s]-i;o[s-1]!==null&&c<o[s-1];s-=1,c=o[s]-i)o[s-1]=Qu(c,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(o){this.props[o]&&this.props[o](Bs(this.state.value),this.state.index)},n.buildThumbStyle=function(o,i){var a={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():"",zIndex:this.state.zIndices.indexOf(i)+1};return a[this.posMinKey()]=o+"px",a},n.buildTrackStyle=function(o,i){var a={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():""};return a[this.posMinKey()]=o,a[this.posMaxKey()]=i,a},n.buildMarkStyle=function(o){var i;return i={position:"absolute"},i[this.posMinKey()]=o,i},n.renderThumbs=function(o){for(var i=o.length,a=[],s=0;s<i;s+=1)a[s]=this.buildThumbStyle(o[s],s);for(var c=[],l=0;l<i;l+=1)c[l]=this.renderThumb(a[l],l);return c},n.renderTracks=function(o){var i=[],a=o.length-1;i.push(this.renderTrack(0,0,o[0]));for(var s=0;s<a;s+=1)i.push(this.renderTrack(s+1,o[s],o[s+1]));return i.push(this.renderTrack(a+1,o[a],this.state.upperBound)),i},n.renderMarks=function(){var o=this,i=this.props.marks,a=this.props.max-this.props.min+1;return typeof i=="boolean"?i=Array.from({length:a}).map(function(s,c){return c}):typeof i=="number"&&(i=Array.from({length:a}).map(function(s,c){return c}).filter(function(s){return s%i===0})),i.map(parseFloat).sort(function(s,c){return s-c}).map(function(s){var c=o.calcOffset(s),l={key:s,className:o.props.markClassName,style:o.buildMarkStyle(c)};return o.props.renderMark(l)})},n.render=function(){for(var o=this,i=[],a=this.state.value,s=a.length,c=0;c<s;c+=1)i[c]=this.calcOffset(a[c],c);var l=this.props.withTracks?this.renderTracks(i):null,u=this.renderThumbs(i),p=this.props.marks?this.renderMarks():null;return Bn.createElement("div",{ref:function(g){o.slider=g},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},l,u,p)},t}(Bn.Component);Qr.displayName="ReactSlider";Qr.defaultProps={min:0,max:100,step:1,pageFn:function(t){return t*10},minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:function(t){return Bn.createElement("div",Qi({},t,{__self:Qr,__source:{fileName:tu,lineNumber:353,columnNumber:31}}))},renderTrack:function(t){return Bn.createElement("div",Qi({},t,{__self:Qr,__source:{fileName:tu,lineNumber:354,columnNumber:31}}))},renderMark:function(t){return Bn.createElement("span",Qi({},t,{__self:Qr,__source:{fileName:tu,lineNumber:355,columnNumber:30}}))}};Qr.propTypes={};var mU=Qr;function bU(e){const s=e,{onAfterChange:t=()=>null,name:n}=s,r=he(s,["onAfterChange","name"]),{values:o,setFieldValue:i}=xt(),a=d.exports.useCallback(c=>{t(c),i(n,c)},[n,t,i]);return m(mU,S({className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",defaultValue:ve(o,n,[0,100]),onAfterChange:a,renderThumb:(c,l)=>m("div",P(S({},c),{children:m("span",{children:l.valueNow})})),pearling:!0,minDistance:10},r))}var a0=d.exports.memo(bU);function vU(e){let t=e[0].length,n=e.length,r=Math.floor(t*n/204800)||1;const o=new Float64Array(t*n/r>>0);let i=0;for(let a=0;a<o.length;a+=r)o[i++]=e[a/n>>0][a%n];return o}function xU(e,t,n){const{log10:r,abs:o}=Math,{yLogBase:i}=n,a=t.length>0?t[0].x:0,s=t.length>0?t[t.length-1].x:0,c=r(o(e))/r(i);return[{x:a,y:c},{x:s,y:c}]}function yU({color:e="red",data:t,options:n={}}){const{yLogBase:r=2}=n,o=d.exports.useMemo(()=>{const i=vU(t.z),a=U0(i,n),s={},c={};for(let l in a.sanplot){const{x:u,y:p}=a.sanplot[l];let f=new Array(u.length);for(let g=0;g<u.length;g++)f[g]={x:u[g],y:p[g]};s[l]=f,c[l]=xU(a[l],f,{yLogBase:r})}return{sanPlot:s,lines:c}},[t.z,n,r]);return G("div",{children:[m("div",{style:{textAlign:"center",paddingBottom:5,paddingTop:5},children:"San Plot"}),G("div",{style:{borderTop:"1px solid #ededed",marginTop:"10px",paddingTop:"10px",display:"flex",flexDirection:"row"},children:[G(qo,{width:220,height:180,children:[m(zn,{data:o.sanPlot.positive,xAxis:"x",yAxis:"y",label:"positive",lineStyle:{stroke:e,strokeWidth:1.2},markerStyle:{fill:e,stroke:e}}),m(zn,{data:o.lines.positive,xAxis:"x",yAxis:"y",label:"noise level",lineStyle:{stroke:"blue",strokeWidth:.8,strokeDasharray:"3, 3"},markerStyle:{fill:e,stroke:e}}),m(kn,{id:"x",label:"Pt",position:"bottom",tickLabelStyle:{fontSize:"0.6rem"},labelStyle:{fontSize:"0.6rem"}}),m(kn,{id:"y",label:`Intensity [Log ${r}]`,position:"left",tickLabelStyle:{fontSize:"0.6rem"},labelStyle:{fontSize:"0.7rem"}}),m(Js,{position:"embedded",bottom:90,right:5})]}),G(qo,{width:220,height:180,children:[m(zn,{data:o.sanPlot.negative,xAxis:"x",yAxis:"y",label:"negative",lineStyle:{stroke:e,strokeWidth:1.2},markerStyle:{fill:e,stroke:e}}),m(zn,{data:o.lines.negative,xAxis:"x",yAxis:"y",label:"noise level",lineStyle:{stroke:"blue",strokeWidth:.8,strokeDasharray:"3, 3"},markerStyle:{fill:e,stroke:e}}),m(kn,{id:"x",label:"Pt",position:"bottom",tickLabelStyle:{fontSize:"0.6rem"},labelStyle:{fontSize:"0.5rem"}}),m(kn,{id:"y",position:"left",tickLabelStyle:{fontSize:"0.6rem"},labelStyle:{fontSize:"0.7rem"}}),m(Js,{position:"embedded",bottom:90,right:5})]})]})]})}var wU=d.exports.memo(yU);function SU({data:e,onSubmit:t}){const n=d.exports.useRef(null),r=X`
    .positive {
      display: inline-block;
      .track-1 {
        background-color: ${e.display.positiveColor} !important;
      }
    }
    .negative {
      display: inline-block;

      .track-1 {
        background-color: ${e.display.negativeColor} !important;
      }
    }
  `,o=d.exports.useCallback(()=>{n.current.submitForm()},[]);return h(bt,{ref:n,initialValues:e.display,onSubmit:t,children:$("div",{css:r,children:[$("div",{className:"positive",children:[h("span",{style:{padding:"0 10px"},children:"Positive"}),h(qu,{name:"positiveColor",onColorChange:o}),$("div",{style:{padding:"5px"},children:[h("span",{className:"label",children:"contour Levels [ min - max ]"}),h(a0,{name:"contourOptions.positive.contourLevels",onAfterChange:o}),h("span",{className:"label",children:"number of Layers "}),h(Le,{name:"contourOptions.positive.numberOfLayers",onChange:o,type:"number"})]})]}),$("div",{className:"negative",children:[h("span",{style:{padding:"0 10px"},children:"Negative"}),h(qu,{name:"negativeColor",onColorChange:o}),$("div",{style:{padding:"5px"},children:[h("span",{className:"label",children:"contour Levels [ min - max ]"}),h(a0,{name:"contourOptions.negative.contourLevels",onAfterChange:o}),h("span",{className:"label",children:"number of Layers "}),h(Le,{name:"contourOptions.negative.numberOfLayers",onChange:o,type:"number"})]})]}),h(wU,{data:e.data})]})})}const CU=X`
  position: fixed;
  z-index: 999999999;
  width:100%;
  height:100%;
  left:0;
  top:0;
  .inner-conatiner{
    position:absolute;
    display: flex;
    flex-direction: row-reverse;
    border-radius: 4px;
    background-color: white;
    box-shadow: rgba(0, 0, 0, 0.15) 0px 0px 0px 1px,
      rgba(0, 0, 0, 0.15) 0px 8px 16px;
      overflow: auto;
      height: 350px;
  }


  .sketch-picker {
    border-radius: none !important;
    box-shadow: none !important;
  }


  .horizontal-slider {
    width: 80%;
    height: 15px;
  }

  .thumb {
    height: 15px;
    line-height: 15px;
    width: 20px;
    text-align: center;
    color: black;
    border-radius: 5px;
    cursor: grab;
    font-size: 10px;
    background-image: -webkit-linear-gradient(top, #f4f1ee, #fff);
    background-image: linear-gradient(top, #f4f1ee, #fff);
  }

  .track {
    top: 0;
    bottom: 0;
    background: #eaeaea;
    border-radius: 999px;
    border-radius: 5px;
  }

  .track-1 {
    background: red;
  }
   
  .label{
    font-size: 12px;
    margin: 8px 0;
    display: block;
  }
 
  }
`;function kU({position:e,data:t,onClose:n}){const r=Re(),{id:o,info:i}=t,a=d.exports.useCallback(u=>{r({type:bb,id:o,display:u})},[r,o]),s=d.exports.useCallback(u=>{u.target===u.currentTarget&&n()},[n]);if(!e)return null;const{x:c,y:l}=e;return h("div",{css:CU,onClick:s,children:h("div",{className:"inner-conatiner",style:{left:i.dimension===2?c-450:c-240,width:i.dimension===2?450:240,padding:i.dimension===2?"10px 0":"",top:l},children:i.dimension===2?h(SU,{onSubmit:a,data:t}):h(cU,{onSubmit:a,data:t})})})}function EU(){return!0}var _U=d.exports.memo(kU,EU);function TU({data:e,activeSpectrum:t,activeTab:n,onTabChange:r}){const o=d.exports.useRef(),[i,a]=d.exports.useState([]),[s,c]=d.exports.useState(null),[l,u]=d.exports.useState(null),[p,f]=d.exports.useState(!1),g=mt(),v=Re();d.exports.useEffect(()=>{if(e){const A=e.reduce((D,z)=>(z.info.dimension===1&&z.display.isPeaksMarkersVisible===!0&&D.push({id:z.id}),D),[]);a(A)}},[e,v]);const x=d.exports.useMemo(()=>e?Dl("nucleus")(e,!0):[],[e]);d.exports.useEffect(()=>{r({tab:n,data:x[n]})},[n,r,x]);const y=d.exports.useCallback(A=>{const D=i.findIndex(U=>U.id===A.id),z=[...i];D===-1?z.push({id:A.id}):z.splice(D,1),v({type:Od,data:z}),a(z)},[v,i]),w=d.exports.useCallback(A=>{r({tab:A.tabid,data:x[A.tabid]}),v({type:jd,tab:A.tabid})},[v,r,x]),k=d.exports.useMemo(()=>[{label:"Copy to Clipboard",onClick:async A=>{const{x:D,y:z,info:U}=A;await ec(JSON.stringify({x:D,y:z,info:U},void 0,2))?g.success("Data copied to clipboard"):g.error("Copy to clipboard failed")}},{label:"Delete",onClick:A=>{setTimeout(()=>{v({type:Nd,id:A.id})},0)}}],[g,v]),_=d.exports.useCallback((A,D)=>{co(A)||(A.preventDefault(),o.current.handleContextMenu(A,D))},[o]),R=d.exports.useCallback((A,D)=>{u({x:D.nativeEvent.clientX,y:D.nativeEvent.clientY}),c(A),f(!0)},[]),M=d.exports.useCallback((A,D)=>{v({type:ra,id:A.id,key:D,value:!A.display[D]})},[v]),N=d.exports.useCallback(A=>{setTimeout(()=>{t&&t.id===A.id?v({type:dl,data:null}):v({type:dl,data:{id:A.id}})},0)},[t,v]),H=d.exports.useCallback(()=>{f(!1)},[]);return G("div",{style:{height:"calc(100% - 25px)"},children:[m(vi,{activeTab:n,onClick:w,children:x&&Object.keys(x).map(A=>{var D;return m(fn,{tablabel:A,tabid:A,children:(D=x[A])==null?void 0:D.map(z=>m(rU,{activeSpectrum:t,markersVisible:i,data:z,onChangeVisibility:M,onChangeMarkersVisibility:y,onChangeActiveSpectrum:N,onOpenSettingModal:R,onContextMenu:U=>_(U,z)},z.id))},A)})}),m(xo,{ref:o,context:k}),p?m(_U,{onClose:H,data:s,position:l}):null]})}const RU=d.exports.memo(TU);function AU({onTabChange:e}){const{data:t,activeSpectrum:n,activeTab:r}=ce();return m(RU,{data:t,activeSpectrum:n,activeTab:r,onTabChange:e})}const PU={overflow:"hidden",height:"100%",display:"flex",flexDirection:"column",width:"100%"};function MU(){const[e,t]=d.exports.useState([]),n=d.exports.useCallback(r=>{t(r.data?r.data:[])},[]);return G("div",{style:PU,children:[m(ZW,{spectrums:e}),m(AU,{onTabChange:n})]})}var FU=d.exports.memo(MU);const jt={hmbc:{from:2,to:3},cosy:{from:3,to:4},hsqc:{from:1,to:1},hmqc:{from:1,to:1},inadequate:{from:1,to:1}};function d2(e,t){return jt[t]&&e.from===jt[t].from&&e.to===jt[t].to}function p2(e){return e.split(/\d+/)[1]}function f2(e,t){const n=ve(e,`state.${t.atomType}.error`,null);if(n){for(let{key:r,color:o}of wd)if(r!=="incomplete"&&(r==="notAttached"||r==="ambiguousAttachment")&&ve(n,`${r}`,[]).some(i=>e.values[i].id===t.id))return o}return null}function h2(e,t,n,r,o){var i;if(e&&e.info.dimension===2){const a=na(e,t.signal.id);if(a){const s=t.axis==="x"?"y":"x",c=(i=a[s])==null?void 0:i.delta;if(c!==void 0)return c*n>=r&&c*n<=o}}return!1}function Sl(e,t,n,r,o,i,a){if(e&&e.info.dimension===2){const s=na(e,t.signal.id);if((s==null?void 0:s.x.delta)&&(s==null?void 0:s.y.delta))return s.x.delta*n>=r&&s.x.delta*n<=o&&s.y.delta*n>=i&&s.y.delta*n<=a}return!1}function s0(e){var r;let t="X";e.experimentType==="hsqc"||e.experimentType==="hmqc"?t=!e.signal||e.signal.sign===0?"S":`S${e.signal.sign===1?"+":"-"}`:e.experimentType==="hmbc"||e.experimentType==="cosy"||e.experimentType==="tocsy"?t="M":e.experimentType==="noesy"||e.experimentType==="roesy"?t="NOE":e.experimentType==="inadequate"?t="I":e.experimentType==="adequate"&&(t="A");const n=(r=e.signal.j)==null?void 0:r.pathLength;if(n){const o=jt[e.experimentType]&&n.from>=jt[e.experimentType].from&&n.from<=jt[e.experimentType].to&&n.to>=jt[e.experimentType].from&&n.to<=jt[e.experimentType].to;return`${t}${o?"":"*"}`}return t}function g2(e){return Ml(P(S({},e),{edited:P(S({},e.edited),{moved:!0})}))}function Xi(e,t){const n=e.id.split("_");return Ml(P(S({},e),{id:n[t==="x"?0:1],axis:t,match:[],edited:P(S({},e.edited),{moved:!0})}))}function Dt(e,t,n,r){const o=pn(t),i=gn(e),a=t.id.split("_");return r==="add"?HS(i,o===1?g2(t):Xi(t,n)):(r==="remove"||r==="unmove")&&zS(i,n==="x"?a[0]:a[1]),i}function OU({correlationDim1:e,correlationDim2:t,selectedCorrelationIdDim1:n,selectedCorrelationIdDim2:r,action:o,link:i,correlations:a}){const s=a.find(v=>v.id===n),c=a.find(v=>v.id===r),l=(s==null?void 0:s.id)!==e.id,u=t&&(c==null?void 0:c.id)!==(t==null?void 0:t.id),p=pn(i),f=[],g={};if(o==="move"){if(p===1){const v=Dt(e,i,"x","remove");let x;s?x=Dt(l?s:v,i,"x","add"):x=Fi({atomType:e.atomType,link:[g2(i)]}),f.push(v,x),g.skipDataUpdate=!0}else if(p===2){const v=Dt(e,i,"x","remove");f.push(v);const x=Dt(t,i,"y","remove");f.push(x),s&&c?(f.push(Dt(l?s:v,i,"x","add")),f.push(Dt(u?c:x,i,"y","add"))):s&&r==="new"?(f.push(Dt(l?s:v,i,"x","add")),f.push(Fi({atomType:t.atomType,link:[Xi(i,"y")]}))):n==="new"&&c?(f.push(Fi({atomType:e.atomType,link:[Xi(i,"x")]})),f.push(Dt(u?c:x,i,"y","add"))):n==="new"&&r==="new"&&(f.push(Fi({atomType:e.atomType,link:[Xi(i,"x")]})),f.push(Fi({atomType:t.atomType,link:[Xi(i,"y")]}))),g.skipDataUpdate=!0}}else if(o==="remove"){const v=Dt(e,i,"x","remove");if(f.push(v),pn(i)===2){const x=Dt(t,i,"y","remove");f.push(x)}}else o==="unmove"?p===1?s&&f.push(Dt(s,i,"x","unmove")):p===2&&s&&c&&(f.push(Dt(s,i,"x","unmove")),f.push(Dt(c,i,"y","unmove"))):o==="setPathLength"&&(f.push(l0(e,i,"x")),f.push(l0(t,i,"y")));return{editedCorrelations:f,buildCorrelationDataOptions:g}}function l0(e,t,n){var i,a;const r=gn(e);if(pn(t)===2){const s=t.id.split("_")[n==="x"?0:1],c=r.link.find(l=>l.id===s);if(c){const l=(i=t.signal.j)==null?void 0:i.pathLength;d2(l,c.experimentType)?((a=c.signal.j)==null||delete a.pathLength,c.signal.j&&Object.keys(c.signal.j).length===0&&delete c.signal.j,delete c.edited.pathLength):(c.signal.j?c.signal.j.pathLength=l:c.signal.j={pathLength:l},c.edited.pathLength=!0)}}return r}function $U(e,t){e=e.toLowerCase().replace(/\s+/g,"").split(",").map(o=>o==="sp"?"sp1":o).join(","),e=e.replaceAll("sp","");let n=[];return/^(?:[0-9],{0,1})+$/g.test(e)&&(n=e.split(",").filter(o=>o.length>0).map(o=>Number(o))),n=n.filter(o=>o>=(t==="protonsCount"?0:1)&&(t==="protonsCount"||o<=3)),n.filter((o,i,a)=>a.indexOf(o)===i)}function DU(e,t,n,r,o,i,a){if(a.pseudo===!0||n===null||!a.link.some(g=>g.experimentID===n.id))return!1;const s=t.split(",").map(g=>p2(g)),c=1e4,l=r[0]*c,u=r[1]*c,p=o[0]*c,f=o[1]*c;if(i===we.DM_1D){const g=a.link.find(y=>pn(y)===1);if(!g)return!1;let v=X0(g);if(v===void 0)return!1;if(v*=c,dn(e,g.experimentID,!0)&&s[0]===a.atomType&&v>=l&&v<=u||a.link.some(y=>{const w=dn(e,y.experimentID,!0);return h2(w,y,c,l,u)}))return!0}else if(i===we.DM_2D){if(!s.includes(a.atomType))return!1;const g=a.link.find(x=>pn(x)===2);if(!g)return!1;const v=dn(e,g.experimentID,!0);if(Sl(v,g,c,l,u,p,f))return!0;if(a.link.some(x=>{const y=dn(e,x.experimentID,!0);return Sl(y,x,c,l,u,p,f)}))return!0}return!1}function Cl({correlation:e}){const{data:t,xDomain:n,yDomain:r,displayerMode:o,activeTab:i,activeSpectrum:a}=ce();return d.exports.useMemo(()=>DU(t,i,a,n,r,o,e),[a,i,e,o,t,n,r])}const IU=X`
  margin-top: 10px;
  padding: 5px;
  text-align: center;

  p {
    font-size: 14px;
  }

  button:focus {
    outline: none;
  }

  button {
    flex: 2;
    padding: 5px;
    border: 1px solid gray;
    border-radius: 5px;
    height: 30px;
    margin: 0 auto;
    margin-top: 15px;
    display: block;
    width: 90px;

    color: white;
    background-color: gray;
  }
`;function c0({description:e,onConfirm:t}){const n=d.exports.useCallback(r=>{r.preventDefault(),r.stopPropagation(),t()},[t]);return $("div",{css:IU,children:[h("p",{children:e}),h("button",{type:"button",onClick:n,children:"Confirm"})]})}const NU=X`
  width: 100%;
  height: 100%;
  margin-top: 10px;
  text-align: center;

  .input-container {
    width: 100%;
    margin-top: 5px;
    text-align: center;

    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  button {
    flex: 2;
    padding: 5px;
    border: 1px solid gray;
    border-radius: 5px;
    height: 30px;
    margin: 0 auto;
    margin-top: 15px;
    display: block;
    width: 60px;

    color: white;
    background-color: gray;
  }

  .warning {
    margin-top: 5px;
    color: red;
  }
`;function LU({signal:e,experimentType:t,onEdit:n}){var u,p,f,g;const[r,o]=d.exports.useState(((u=e.j)==null?void 0:u.pathLength)!==void 0?e.j.pathLength.from:((p=jt[t])==null?void 0:p.from)||0),[i,a]=d.exports.useState(((f=e.j)==null?void 0:f.pathLength)!==void 0?e.j.pathLength.to:((g=jt[t])==null?void 0:g.to)||0),[s,c]=d.exports.useState(!1),l=d.exports.useCallback(()=>{const v={from:r,to:i},x=P(S({},e),{j:P(S({},e.j),{pathLength:v})});n(x)},[i,r,n,e]);return d.exports.useEffect(()=>{c(r<=0||r>i)},[i,r]),$("div",{css:NU,children:[h("p",{children:"Setting of the minimum and maximum path length (J coupling)."}),$("div",{className:"input-container",children:[h(qe,{title:"Min:",style:{label:{marginRight:"5px",fontSize:"14px",fontWeight:"normal"}},children:h(Tr,{type:"number",value:r,onChange:v=>{o(Number(v.target.value))},style:{input:{color:s?"red":"black"}}})}),h(qe,{title:"Max:",style:{label:{marginRight:"5px",fontSize:"14px",fontWeight:"normal"}},children:h(Tr,{type:"number",value:i,onChange:v=>{a(Number(v.target.value))}})})]}),s?$("p",{className:"warning",children:["Minimum must not be 0 or higher than the maximum value."," "]}):h(ii,{type:"button",onClick:l,disabled:s,children:"Set"})]})}const HU=X`
  width: 100%;
  height: 100%;
  margin-top: 10px;
  text-align: center;

  p {
    font-size: 14px;
  }

  .selection-container {
    margin-top: 10px;
    width: 100%;
    text-align: center;
  }

  button {
    flex: 2;
    padding: 5px;
    border: 1px solid gray;
    border-radius: 5px;
    height: 30px;
    margin: 0 auto;
    margin-top: 15px;
    display: block;
    width: 60px;

    color: white;
    background-color: gray;
  }
`;function zU({correlationDim1:e,correlationDim2:t,link:n,correlations:r,onEdit:o}){const[i,a]=d.exports.useState(e.id),[s,c]=d.exports.useState((t==null?void 0:t.id)||void 0);function l(p){const f=er(p);return`${f?f.toFixed(2):"?"}`}const u=d.exports.useCallback((p,f)=>{const g=r.reduce((v,x)=>(x.pseudo===!1&&x.atomType===n.atomType[f]&&v.push({key:x.id,value:x.id,label:`${x.label.origin}: ${l(x)}`}),v),[]);return g.push({key:"new",value:"new",label:`new -> ${(f===0?er(e):er(t)).toFixed(2)}`}),h(hn,{onChange:v=>{f===0?a(v):c(v)},data:g,defaultValue:p.id,style:{width:110,height:25,margin:0,border:"1px solid grey"}})},[e,t,r,n.atomType]);return $("div",{css:HU,children:[h("p",{children:"Move of signals on either one or both axes."}),h("p",{children:'"New" means to separate into a new row or column.'}),$("div",{className:"selection-container",children:[u(e,0),t&&u(t,1)]}),h("button",{type:"button",onClick:()=>o(i,s),children:"Move"})]})}const BU=X`
  width: 490px;
  height: 220px;
  padding: 5px;

  button:focus {
    outline: none;
  }

  .header {
    height: 24px;
    border-bottom: 1px solid #f0f0f0;
    display: flex;
    align-items: center;

    button {
      height: 36px;
      margin: 2px;
      background-color: transparent;
      border: none;
      svg {
        height: 16px;
      }
    }

    p {
      font-weight: bold;

      margin-bottom: 5px;
      margin-right: 30px;
      padding: 0px 10px;
      width: 100%;

      text-align: center;
    }
  }

  button {
    flex: 2;
    padding: 5px;
    border: 1px solid gray;
    border-radius: 5px;
    height: 30px;
    margin: 0 auto;
    margin-top: 15px;
    display: block;
    width: 20%;

    color: white;
    background-color: gray;
  }

  .tabs-container {
    width: 100%;
    flex: 1;
    overflow: auto;
    border: none;
  }
`;function ef({correlationDim1:e,correlationDim2:t,link:n,correlations:r,onClose:o,onEdit:i}){const[a,s]=d.exports.useState("move"),c=d.exports.useCallback(()=>{const p=pn(n);return p===1?` 1D (${n.signal.delta.toFixed(3)})`:p===2?`${n.signal.x?`${n.signal.x.delta.toFixed(2)}`:"?"} (${e.label.origin}), ${n.signal.y?n.signal.y.delta.toFixed(2):"?"} (${t.label.origin})`:""},[e.label.origin,n,t]),l=d.exports.useCallback((p,f,g,v)=>{const{editedCorrelations:x,buildCorrelationDataOptions:y}=OU({correlationDim1:e,correlationDim2:t,selectedCorrelationIdDim1:f,selectedCorrelationIdDim2:g,action:p,link:v||n,correlations:r});i(x,p,v||n,y),o==null||o()},[e,t,r,n,o,i]),u=d.exports.useMemo(()=>h("div",{className:"tabs-container",children:$(vi,{position:gp.TOP,activeTab:a,onClick:p=>s(p.tabid),children:[h(fn,{tablabel:"Move",tabid:"move",children:h(zU,{correlationDim1:e,correlationDim2:t,link:n,correlations:r,onEdit:(p,f)=>l("move",p,f)})}),h(fn,{tablabel:"Unmove",tabid:"unmove",children:h(c0,{description:"Movement of signal to its original place.",onConfirm:()=>l("unmove",e.id,t.id)})}),h(fn,{tablabel:"Remove",tabid:"remove",children:h(c0,{description:"Deletion of signal.",onConfirm:()=>l("remove",void 0,void 0)})}),h(fn,{tablabel:"J Coupling",tabid:"setPathLength",children:h(LU,{signal:n.signal,experimentType:n.experimentType,onEdit:p=>{const f=P(S({},n),{signal:p});l("setPathLength",e,t,f)}})})]})}),[a,e,t,r,l,n]);return $("div",{css:BU,children:[$("div",{className:"header handle",children:[h(At,{onClick:o}),h("p",{className:"header-info",children:`${n.experimentType.toUpperCase()} signal at ${c()}`})]}),u]})}function jU({spectraData:e,correlationsData:t,correlation:n,onEdit:r}){var k;const o=d.exports.useRef(),i=Tt(),a=d.exports.useMemo(()=>{if(n.pseudo===!0)return[];const _=[];return n.link.forEach(R=>{if(R.pseudo===!1){_.push(R.signal.id),_.push(Xt(R.signal.id,"Crosshair_X"));const M=Cd(e,R.experimentID,R.signal.id,!0);M&&_.push(M)}}),_},[n,e]),s=gt(a),c=d.exports.useCallback(_=>{_.currentTarget.focus(),s.show()},[s]),l=d.exports.useCallback(_=>{_.currentTarget.blur(),s.hide()},[s]),u=Cl({correlation:n}),p=d.exports.useMemo(()=>({style:{color:f2(t,n)||void 0,backgroundColor:s.isActive?"#ff6f0057":u?"#f5f5dc":"inherit"},title:n.pseudo===!1&&n.link.reduce((_,R)=>(R.pseudo===!1&&!_.includes(R.experimentType.toUpperCase())&&_.push(R.experimentType.toUpperCase()),_),[]).sort().join("/"),onMouseEnter:c,onMouseLeave:l}),[n,t,s.isActive,u,c,l]),f=d.exports.useMemo(()=>n.edited.equivalence?{backgroundColor:"#F7F2E0"}:{color:Number.isInteger(n.equivalence)?n.equivalence===1?"#bebebe":"black":"red"},[n]),g=d.exports.useMemo(()=>n.pseudo===!1?n.link.filter(_=>pn(_)===1&&_.pseudo===!1).map(_=>{var R;return{label:`edit 1D (${_.signal.delta.toFixed(3)}${((R=_.edited)==null?void 0:R.moved)===!0?"[MOVED]":""})`,onClick:()=>{s.hide(),i.show(h(ef,{onClose:()=>i.close(),onEdit:r,link:_,correlationDim1:n,correlationDim2:void 0,correlations:t.values}),{position:tt.MIDDLE_RIGHT,isBackgroundBlur:!1})}}}).concat([{label:`delete all (${n.label.origin})`,onClick:()=>{i.showConfirmDialog({message:`All signals of ${n.label.origin} (${er(n).toFixed(2)}) will be deleted. Are you sure?`,buttons:[{text:"Yes",handler:()=>{r([n],"removeAll")}},{text:"No"}]}),s.hide()}}]):[],[n,t.values,s,i,r]),v=d.exports.useCallback(_=>{_.preventDefault(),o.current.handleContextMenu(_)},[o]),w=p,{title:x}=w,y=he(w,["title"]);return h("th",P(S({},y),{title:x===!1?void 0:x,children:$("div",{style:{display:"block"},onContextMenu:_=>{g.length>0&&v(_)},children:[h("p",{children:n.label.origin}),h("p",{children:er(n)?(k=er(n))==null?void 0:k.toFixed(2):""}),h("p",{style:f,children:Number.isInteger(n.equivalence)?n.equivalence:n.equivalence.toFixed(2)}),h(xo,{ref:o,context:g})]})}))}function VU({rowCorrelation:e,columnCorrelation:t,commonLinks:n,correlations:r,spectraData:o,onEdit:i}){const a=d.exports.useRef(),s=Tt(),c=d.exports.useMemo(()=>{const _=[];return n.forEach(R=>{if(R.pseudo===!1){_.push(R.signal.id),_.push(Xt(R.signal.id,"Crosshair"));const M=Cd(o,R.experimentID,R.signal.id,!0);M&&_.push(M)}}),_},[n,o]),l=gt(c),u=d.exports.useCallback(_=>{_.currentTarget.focus(),l.show()},[l]),p=d.exports.useCallback(_=>{_.currentTarget.blur(),l.hide()},[l]),f=d.exports.useCallback(_=>{_.preventDefault(),a.current.handleContextMenu(_)},[a]),g=d.exports.useCallback((_,R)=>{const M=e.link.filter(A=>(A.experimentType==="hsqc"||A.experimentType==="hmqc")&&A.pseudo===!0).length;let N,H;if(_==="add"){const A=Ml({experimentType:"hsqc",experimentID:Ge(),atomType:[t.atomType,e.atomType],id:Ge(),pseudo:!0,signal:{id:Ge(),sign:0}});N=Dt(t,A,"x","add"),H=Dt(e,A,"y","add"),H.edited.protonsCount||(H.protonsCount=[M+1])}else N=Dt(t,R,"x","remove"),H=Dt(e,R,"y","remove"),H.edited.protonsCount||(H.protonsCount=M-1>0?[M-1]:[]);i([N,H],_,R,{skipDataUpdate:!0})},[t,i,e]),v=d.exports.useMemo(()=>{const _=n.map(M=>{var H;const N=`${s0(M)} (${M.signal.x?M.signal.x.delta.toFixed(2):"?"}, ${M.signal.y?M.signal.y.delta.toFixed(2):"?"})${((H=M.edited)==null?void 0:H.moved)===!0?"[MOVED]":""}`;return M.pseudo===!1?[{label:`edit ${N}`,onClick:()=>{l.hide(),s.show(m(ef,{onClose:()=>s.close(),onEdit:i,link:M,correlationDim1:t,correlationDim2:e,correlations:r}),{position:tt.MIDDLE_RIGHT,isBackgroundBlur:!1})}}]:[]}).flat(),R=n.find(M=>M.pseudo===!0&&M.experimentType==="hsqc");return e.pseudo===!0&&(R?_.push({label:"remove pseudo HSQC",onClick:()=>g("remove",R)}):_.push({label:"add pseudo HSQC",onClick:()=>g("add")})),_},[t,n,r,g,l,s,i,e]),x=d.exports.useMemo(()=>n.map((_,R)=>{var M;return G("label",{children:[m("label",{style:{color:_.pseudo===!0||((M=_.edited)==null?void 0:M.moved)===!0?"blue":"black"},children:s0(_)}),R<n.length-1&&m("label",{children:"/"})]},_.id)}),[n]),y=d.exports.useMemo(()=>n.reduce((_,R)=>(_.includes(R.experimentType.toUpperCase())||_.push(R.experimentType.toUpperCase()),_),[]).join("/"),[n]),w=Cl({correlation:e}),k=Cl({correlation:t});return G("td",{onContextMenu:_=>{v.length>0&&f(_)},style:{backgroundColor:l.isActive?"#ff6f0057":k||w?"#f5f5dc":"inherit"},title:y,onMouseEnter:u,onMouseLeave:p,children:[x,m(xo,{ref:a,context:v})]})}function GU({additionalColumnData:e,correlations:t,correlation:n,styleRow:r,styleLabel:o,onSaveEditEquivalences:i,onSaveEditNumericValues:a,onEditCorrelationTableCellHandler:s,spectraData:c}){var U;const l=d.exports.useRef(),u=Tt(),p=d.exports.useMemo(()=>{if(n.pseudo===!0)return[];const Y=[];return n.link.forEach(oe=>{if(oe.pseudo===!1){Y.push(oe.signal.id),Y.push(Xt(oe.signal.id,"Crosshair_Y"));const ae=Cd(c,oe.experimentID,oe.signal.id,!0);ae&&Y.push(ae)}}),Y},[n,c]),f=gt(p),g=d.exports.useCallback(Y=>{i(n,Y.target.value)},[n,i]),v=d.exports.useCallback((Y,oe)=>{a({correlation:n,values:$U(Y.target.value,oe),key:oe})},[n,a]),x=d.exports.useMemo(()=>e.map(Y=>{const oe=[];return n.link.forEach(ae=>{Y.link.forEach(je=>{if(ae.axis!==je.axis&&ae.experimentID===je.experimentID&&ae.signal.id===je.signal.id&&!oe.some(ue=>ue.signal.id===ae.signal.id)){let ue=ae.experimentType;ae.signal&&ae.signal.sign!==0&&(ue+=ae.signal.sign===1?" (+)":" (-)"),oe.push(Ml(P(S({},ae),{experimentLabel:ue,axis:void 0,id:`${je.id}_${ae.id}`})))}})}),m(VU,{rowCorrelation:n,columnCorrelation:Y,commonLinks:oe,correlations:t,spectraData:c,onEdit:s},`addColData_${n.id}_${Y.id}`)}),[e,n,t,s,c]),y=d.exports.useMemo(()=>n.edited.equivalence?{color:"blue"}:{color:n.equivalence===1?"#bebebe":"black"},[n]),w=d.exports.useCallback(Y=>{Y.currentTarget.focus(),f.show()},[f]),k=d.exports.useCallback(Y=>{Y.currentTarget.blur(),f.hide()},[f]),_=Cl({correlation:n}),R=d.exports.useMemo(()=>({style:P(S({},r),{backgroundColor:f.isActive?"#ff6f0057":_?"#f5f5dc":"inherit"}),title:n.pseudo===!1&&n.link.reduce((Y,oe)=>(oe.pseudo===!1&&!Y.includes(oe.experimentType.toUpperCase())&&Y.push(oe.experimentType.toUpperCase()),Y),[]).sort().join("/"),onMouseEnter:w,onMouseLeave:k}),[n.link,n.pseudo,f.isActive,_,w,k,r]),M=d.exports.useMemo(()=>n.pseudo===!1?n.link.filter(Y=>pn(Y)===1&&Y.pseudo===!1).map(Y=>{var oe;return{label:`edit 1D (${Y.signal.delta.toFixed(3)})${((oe=Y.edited)==null?void 0:oe.moved)===!0?"[MOVED]":""}`,onClick:()=>{f.hide(),u.show(m(ef,{onClose:()=>u.close(),onEdit:s,link:Y,correlationDim1:n,correlationDim2:void 0,correlations:t}),{position:tt.MIDDLE_RIGHT,isBackgroundBlur:!1})}}}).concat([{label:`delete ${n.label.origin}`,onClick:()=>{u.showConfirmDialog({message:`All signals of ${n.label.origin} (${er(n).toFixed(2)}) will be deleted. Are you sure?`,buttons:[{text:"Yes",handler:()=>{s([n],"removeAll")}},{text:"No"}]}),f.hide()}}]):[],[n,f,u,s,t]),N=d.exports.useCallback(Y=>{Y.preventDefault(),l.current.handleContextMenu(Y)},[l]),z=R,{title:H}=z,A=he(z,["title"]),D=H||"";return G("tr",{style:r,children:[G("td",P(S({title:D},A),{style:P(S({},R.style),{styleLabel:o}),onContextMenu:Y=>{M.length>0&&N(Y)},children:[BS(t,n),m(xo,{ref:l,context:M})]})),m("td",P(S({title:D},A),{children:er(n)?(U=er(n))==null?void 0:U.toFixed(2):""})),m("td",P(S({title:D},A),{children:n.pseudo===!1?n.atomType!=="H"?m(tr,{type:"number",value:n.equivalence,style:y,onSave:g}):m("text",{style:y,children:n.equivalence}):""})),m("td",P(S({title:D},A),{children:n.atomType!=="H"?m(tr,{type:"text",value:n.protonsCount.join(","),style:n.edited.protonsCount?{color:"blue"}:{},onSave:Y=>v(Y,"protonsCount")}):""})),m("td",P(S({title:D},A),{style:P(S({},R.style),{borderRight:"1px solid"}),children:n.atomType!=="H"?m(tr,{type:"text",value:n.hybridization.map(Y=>`sp${Y}`).join(","),style:n.edited.hybridization?{color:"blue"}:{},onSave:Y=>v(Y,"hybridization")}):""})),x]})}const WU=X`
  overflow: auto;
  height: 100%;
  display: block;
  table {
    border-spacing: 0;
    border: 1px solid #dedede;
    width: 100%;
    font-size: 12px;
    height: 100%;
  }
  tr {
    :last-child {
      td {
        border-bottom: 0;
      }
    }
  }
  thead tr {
    background-color: white !important;
  }
  th {
    position: sticky;
    background-color: white;
    top: 0;
  }

  th,
  td {
    white-space: nowrap;
    text-align: center;
    margin: 0;
    padding: 0.4rem;
    border-bottom: 1px solid #dedede;
    border-right: 1px solid #dedede;

    :last-child {
      border-right: 0;
    }
    button {
      background-color: transparent;
      border: none;
    }
  }
`;function UU({correlationsData:e,filteredCorrelationsData:t,additionalColumnData:n,editEquivalencesSaveHandler:r,onSaveEditNumericValues:o,onEditCorrelationTableCellHandler:i,showProtonsAsRows:a,spectraData:s}){const c=d.exports.useMemo(()=>t?t.values.filter(u=>a?u.atomType==="H":u.atomType!=="H").map(u=>h(GU,{additionalColumnData:n,correlations:e.values,correlation:u,styleRow:{backgroundColor:"mintcream"},styleLabel:u.atomType==="H"?{color:f2(e,u)}:{},onSaveEditEquivalences:r,onSaveEditNumericValues:o,onEditCorrelationTableCellHandler:i,spectraData:s},`correlation${u.atomType}${u.id}`)):[],[t,a,n,e,r,o,i,s]),l=d.exports.useMemo(()=>n.map(u=>h(jU,{spectraData:s,correlationsData:e,correlation:u,onEdit:i},`additionalCorrelationHeader_${u.id}`)),[n,e,i,s]);return h("div",{css:WU,children:$("table",{children:[h("thead",{children:$("tr",{children:[h("th",{children:"Atom"}),h("th",{children:"\u03B4 (ppm)"}),h("th",{children:"Equiv"}),h("th",{children:"#H"}),h("th",{style:{borderRight:"1px solid"},children:"Hybrid"}),l]})}),h("tbody",{children:c})]})})}const XU=X`
  display: flex;
  width: 100%;
  font-size: 15px;
  font-weight: 300;
  white-space: nowrap;
  span {
    margin-left: 8px;
  }
`;function YU({correlationsData:e}){if(!e)return null;const t=jS(e.options.mf),n=Object.keys(t).length>0?Object.keys(t).map((r,o)=>{const i=e.state[r],a=i?i.error:void 0,s=a?b3.findIndex(c=>a[c]!==void 0):"black";return h("span",{style:{color:i?i.complete===!0&&(!a||Object.keys(a).length===0)?"green":s>=0?wd[s].color:"black":"black"},children:`${r}: ${i?i.current:"-"}/${t[r]}   `},`molFormulaView_${o}`)}):h("p",{style:{fontStyle:"italic",color:"orange"},children:"Molecular formula is not set"});return h("div",{css:XU,children:n})}var ZU=d.exports.memo(YU);const KU=X`
  text-align: center;

  input {
    height: 100%;
    width: 200px;
    border-radius: 5px;
    border: 0.55px solid #c7c7c7;
    margin: 0px 5px 0px 5px;
    text-align: center;
  }

  button {
    flex: 2;
    padding: 5px;
    border: 1px solid gray;
    border-radius: 5px;
    height: 36px;
    margin: 0 auto;
    margin-top: 15px;
    display: block;
    width: 20%;

    color: white;
    background-color: gray;
  }
`;function qU({onSave:e=()=>null,previousMF:t}){const[n,r]=d.exports.useState(""),[o,i]=d.exports.useState(!0),[a,s]=d.exports.useState(!1),c=d.exports.useCallback(p=>{if(p.trim().length===0)return!1;try{return jm(p),!0}catch{return!1}},[]),l=d.exports.useCallback(p=>{s(!0),c(p.target.value)?(i(!0),r(p.target.value)):(i(!1),r(""))},[c]),u=d.exports.useCallback(()=>{e(a?n.trim():t)},[a,n,e,t]);return $("div",{css:KU,children:[h("input",{type:"text",onChange:l,defaultValue:t}),h("button",{type:"button",onClick:u,disabled:!o,children:o?"Set":"Invalid"})]})}const JU=X`
  overflow: auto;
  width: 400px;
  height: 550px;
  padding: 5px;
  button:focus {
    outline: none;
  }
  .header {
    height: 24px;
    border-bottom: 1px solid #f0f0f0;
    display: flex;
    align-items: center;

    button {
      height: 36px;
      margin: 2px;
      background-color: transparent;
      border: none;
      svg {
        height: 16px;
      }
    }
  }

  button {
    flex: 2;
    padding: 5px;
    border: 1px solid gray;
    border-radius: 5px;
    height: 30px;
    margin: 0 auto;
    margin-top: 15px;
    display: block;
    width: 20%;

    color: white;
    background-color: gray;
  }

  .info {
    margin-top: 0;
    margin-bottom: 10px;
    padding: 0px 10px;
    width: 100%;

    text-align: center;
  }

  .optional {
    margin-top: 20px;
    margin-bottom: 5px;
    padding: 0px 10px;

    text-align: center;
    font-size: 18px;
    font-weight: bold;
  }
  .optional2 {
    margin-top: 5px;
    margin-bottom: 25px;
    padding: 0px 10px;
    width: 100%;

    text-align: center;
  }
`;function QU({onClose:e,onSave:t,molecules:n,previousMF:r}){const[o,i]=d.exports.useState(0);d.exports.useEffect(()=>{n&&n.length>0&&i(0)},[n]);const a=d.exports.useCallback(l=>{t==null||t(l),e==null||e()},[e,t]),s=d.exports.useCallback(()=>{t==null||t(n[o].mf),e==null||e()},[o,n,e,t]),c=d.exports.useCallback(l=>{i(l)},[]);return $("div",{css:JU,children:[h("div",{className:"header handle",children:h(At,{onClick:e})}),h("div",{children:h("p",{className:"info",children:"Please type in a molecular formula!"})}),h(qU,{onSave:a,previousMF:r}),$("div",{children:[h("p",{className:"optional",children:"OR"}),h("p",{className:"optional2",children:"Select a molecule as reference!"})]}),h(qx,{molecules:n,onChange:c}),h("button",{type:"button",onClick:s,children:"Set"})]})}const eX=X`
  width: 220px;
  height: 270px;
  padding: 5px;
  text-align: center;

  button:focus {
    outline: none;
  }

  .header {
    height: 24px;
    border-bottom: 1px solid #f0f0f0;
    display: flex;
    align-items: center;

    span {
      color: #464646;
      font-size: 15px;
      flex: 1;
      user-select: none;
    }

    button {
      height: 36px;
      margin: 2px;
      background-color: transparent;
      border: none;
      svg {
        height: 16px;
      }
    }
  }

  button {
    flex: 2;
    padding: 5px;
    border: 1px solid gray;
    border-radius: 5px;
    height: 30px;
    margin: 0 auto;
    margin-top: 15px;
    display: block;
    width: 20%;

    color: white;
    background-color: gray;
  }

  table {
    margin-top: 10px;
    width: 100%;

    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
    }

    input {
      width: 100px;
      text-align: center;
      border-radius: 5px;
      border: 0.55px solid #c7c7c7;
    }
  }
`;function tX({onClose:e,onSave:t,previousTolerance:n}){const[r,o]=d.exports.useState(),[i,a]=d.exports.useState({});d.exports.useEffect(()=>{if(n){o(n);const u={};Object.keys(n).forEach(p=>{u[p]=!0}),a(u)}else o(void 0)},[n]);const s=d.exports.useCallback(()=>{t==null||t(r),e==null||e()},[e,t,r]),c=d.exports.useCallback((u,p)=>{const f=u.target.value;f.trim().length>0?(o(P(S({},r),{[p]:Number(f)})),a(P(S({},i),{[p]:!0}))):a(P(S({},i),{[p]:!1}))},[i,r]),l=d.exports.useMemo(()=>r?Object.keys(r).map(u=>$("tr",{children:[h("td",{children:u}),h("td",{children:h("input",{type:"number",onChange:p=>c(p,u),defaultValue:r[u],style:i[u]?{}:{backgroundColor:"orange"}})})]},`tolerance_${u}`)):void 0,[i,c,r]);return $("div",{css:eX,children:[$("div",{className:"header handle",children:[h("span",{children:"Set Shift Tolerances"}),h(At,{onClick:e})]}),$("table",{children:[h("thead",{children:$("tr",{children:[h("th",{children:"Atom"}),h("th",{children:"Value"})]})}),h("tbody",{children:l})]}),h("button",{type:"button",onClick:s,disabled:Object.keys(i).some(u=>!i[u]),children:"Set"})]})}const nX=X`
  display: flex;
  flex-direction: column;
  text-align: center;
  height: 100%;
  width: 100%;

  .extra-header-content {
    display: flex;
    width: 100%;

    .overview-container {
      width: 100%;
      display: flex;
      align-items: center;
      margin-left: 10px;
    }

    .table-view-selection {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      margin-right: 2px;

      white-space: nowrap;

      label {
        font-size: 13px;
      }
    }
  }
`;function rX(){const{molecules:e,correlations:t,data:n,xDomain:r,yDomain:o,displayerMode:i,activeTab:a}=ce(),s=Re(),c=Tt(),l=_n(),[u,p]=d.exports.useState([]),[f,g]=d.exports.useState("H"),[v,x]=d.exports.useState(!1),[y,w]=d.exports.useState(!1),k=d.exports.useMemo(()=>{const ue=me=>{if(me.pseudo===!0)return!1;const $e=a.split(",").map(Ht=>p2(Ht)),He=1e4,Pe=r[0]*He,St=r[1]*He,nt=o[0]*He,Ft=o[1]*He;if(i===we.DM_1D){const Ht=me.link.find(Kt=>pn(Kt)===1);if(!Ht)return!1;let at=X0(Ht);if(at===void 0)return!1;if(at*=He,dn(n,Ht.experimentID,!0)&&$e[0]===me.atomType&&at>=Pe&&at<=St||me.link.some(Kt=>{const Jn=dn(n,Kt.experimentID,!0);return h2(Jn,Kt,He,Pe,St)}))return!0}else if(i===we.DM_2D){if(!$e.includes(me.atomType))return!1;const Ht=me.link.find(zt=>pn(zt)===2);if(!Ht)return!1;const at=dn(n,Ht.experimentID,!0);if(Sl(at,Ht,He,Pe,St,nt,Ft))return!0;if(me.link.some(zt=>{const Kt=dn(n,zt.experimentID,!0);return Sl(Kt,zt,He,Pe,St,nt,Ft)}))return!0}return!1};if(t){const me=y?t.values.filter($e=>ue($e)):t.values;return P(S({},t),{values:me})}},[a,t,i,y,n,r,o]),_=d.exports.useCallback(ue=>{s({type:Cb,payload:{mf:ue}})},[s]),R=d.exports.useCallback(ue=>{s({type:kb,payload:{tolerance:ue}})},[s]),M=d.exports.useCallback(()=>{c.show(h(QU,{onClose:()=>c.close(),onSave:_,molecules:e,previousMF:t.options.mf}))},[t,_,c,e]),N=d.exports.useCallback(()=>{c.show(h(tX,{onClose:()=>c.close(),onSave:R,previousTolerance:t.options.tolerance}))},[t,R,c]),H=d.exports.useMemo(()=>["H","H-H"].concat(t?t.values.map(me=>me.atomType).filter((me,$e,He)=>me!=="H"&&He.indexOf(me)===$e):[]).map(me=>({key:me,label:me,value:me})),[t]);d.exports.useEffect(()=>{const ue=f.split("-")[0];p(k?k.values.filter(me=>me.atomType===ue).reverse():[])},[k,f]);const A=d.exports.useCallback((ue,me)=>{s({type:vu,payload:{id:ue.id,correlation:P(S({},ue),{equivalence:me,edited:P(S({},ue.edited),{equivalence:me!==1})})}})},[s]),D=d.exports.useCallback(({correlation:ue,values:me,key:$e})=>{s({type:vu,payload:{id:ue.id,correlation:P(S({},ue),{[$e]:me,edited:P(S({},ue.edited),{[$e]:!0})}),options:{skipDataUpdate:!0}}})},[s]),z=d.exports.useCallback((ue,me)=>{s({type:wb,payload:{correlations:ue,options:me}})},[s]),U=d.exports.useCallback(ue=>{s({type:Sb,payload:{correlation:ue,assignmentData:l}})},[l,s]),Y=d.exports.useCallback(ue=>{const me=pn(ue);if(me===1){const $e=dn(n,ue.experimentID,!1),He=Sd($e,ue.signal.id),Pe=Km($e,ue.signal.id);s({type:Lb,payload:{spectrum:$e,range:He,signal:Pe,assignmentData:l}})}else if(me===2){const $e=dn(n,ue.experimentID,!1),He=rl($e,ue.signal.id),Pe=na($e,ue.signal.id);s({type:Kb,payload:{spectrum:$e,zone:He,signal:Pe,assignmentData:l}})}},[l,s,n]),oe=d.exports.useCallback(ue=>{var $e;if(pn(ue)===2){const He=dn(n,ue.experimentID,!1),Pe=rl(He,ue.signal.id),St=na(He,ue.signal.id);s({type:qb,payload:{spectrum:He,zone:Pe,signal:St,pathLength:($e=ue.signal.j)==null?void 0:$e.pathLength}})}},[s,n]),ae=d.exports.useCallback((ue,me,$e,He)=>{me==="add"||me==="move"||me==="remove"||me==="unmove"||me==="setPathLength"?($e&&$e.pseudo===!1&&(me==="remove"?Y($e):me==="setPathLength"&&oe($e)),z(ue,He)):me==="removeAll"&&U(ue[0])},[oe,U,Y,z]),je=d.exports.useCallback(()=>{w(!y)},[y]);return $("div",{css:nX,children:[$(qn,{canDelete:!1,counter:t?t.values.length:0,onFilter:je,filterToolTip:y?"Show all correlations":"Hide correlations out of view",filterIsActive:y,counterFiltered:k==null?void 0:k.values.length,children:[h(rn,{title:`Set molecular formula (${t.options.mf})`,popupPlacement:"right",children:h("button",{type:"button",onClick:M,children:h(VS,{})})}),h(rn,{title:"Set shift tolerance",popupPlacement:"right",children:h("button",{type:"button",onClick:N,children:h(GS,{})})}),$("div",{className:"extra-header-content",children:[h("div",{className:"overview-container",children:h(ZU,{correlationsData:t})}),h("div",{className:"table-view-selection",children:$("span",{children:[h("label",{children:"View:"}),h(hn,{onChange:ue=>{g(ue),x(ue==="H-H")},data:H,defaultValue:f,style:{fontSize:"12px",width:"70px",height:"18px",border:"1px solid grey"}})]})})]})]}),h(UU,{correlationsData:t,filteredCorrelationsData:k,additionalColumnData:u,editEquivalencesSaveHandler:A,onSaveEditNumericValues:D,onEditCorrelationTableCellHandler:ae,showProtonsAsRows:v,spectraData:n})]})}var oX=d.exports.memo(rX);const ou={container:{padding:10,backgroundColor:"#f1f1f1",height:"100%",overflowY:"auto"},groupContainer:{padding:"5px",borderRadius:"5px",margin:"10px 0px",backgroundColor:"white"},row:{display:"flex",margin:"5px 0px"},header:{borderBottom:"1px solid #e8e8e8",paddingBottom:"5px",fontWeight:"bold",color:"#4a4a4a"},inputLabel:{flex:2,fontSize:"11px",fontWeight:"bold",color:"#232323"},input:{width:"30%",textAlign:"center"}},iX=[{id:1,label:"From :",checkController:"showFrom",formatController:"fromFormat"},{id:2,label:"To :",checkController:"showTo",formatController:"toFormat"},{id:3,label:"Absolute :",checkController:"showAbsolute",formatController:"absoluteFormat"},{id:4,label:"Relative :",checkController:"showRelative",formatController:"relativeFormat"}];function aX({nucleus:e,innerRef:t}){const n=mt(),r=dt(),o=d.exports.useRef(),i=d.exports.useCallback(()=>{if(e){const s=e.reduce((l,u)=>(l[u]=lT,l),{}),c=ar(r,"formatting.panels.zones");o.current.setValues(c||s)}},[e,r]);d.exports.useEffect(()=>{i()},[i]);const a=d.exports.useCallback(s=>{r.dispatch({type:hi,payload:{key:"zones",value:s}}),n.success("zones preferences saved successfully")},[n,r]);return d.exports.useImperativeHandle(t,()=>({saveSetting:()=>{o.current.submitForm()}}),[]),m("div",{style:ou.container,children:m(bt,{onSubmit:a,ref:o,children:e==null?void 0:e.map(s=>G("div",{style:ou.groupContainer,children:[m(Sn,{style:ou.header,value:s}),iX.map(c=>m(wn,{label:c.label,checkControllerName:`${s}.${c.checkController}`,formatControllerName:`${s}.${c.formatController}`},c.id))]},s))})})}const sX=d.exports.memo(aX);function lX(e,t){const n=hc();return m(sX,{innerRef:t,nucleus:n})}var cX=d.exports.forwardRef(lX);const uX=X`
  width: 100%;
  height: 100%;
  margin-top: 10px;
  text-align: center;

  .input-container {
    width: 100%;
    margin-top: 5px;
    text-align: center;

    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;

    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
    }
  }

  button {
    flex: 2;
    padding: 5px;
    border: 1px solid gray;
    border-radius: 5px;
    height: 30px;
    margin: 0 auto;
    margin-top: 15px;
    display: block;
    width: 60px;

    color: white;
    background-color: gray;
  }

  .warning {
    margin-top: 5px;
    color: red;
  }
`;function dX({signalIndex:e}){var r,o,i,a,s,c,l,u,p,f,g,v,x,y,w,k,_,R;const{errors:t,values:n}=xt();return $("div",{css:uX,children:[h("p",{children:"Setting of the minimum and maximum path length (J coupling)."}),$("div",{className:"input-container",children:[h(Ku,{name:`signals[${e}].j.pathLength.from`,defaultValue:((o=(r=n.signals[e].j)==null?void 0:r.pathLength)==null?void 0:o.from)||((i=jt[n.experimentType])==null?void 0:i.from)||1,label:"Min: ",style:{input:{color:((c=(s=(a=t.signals)==null?void 0:a[e].j)==null?void 0:s.pathLength)==null?void 0:c.from)?"red":"black"}},min:1,max:((u=(l=n.signals[e].j)==null?void 0:l.pathLength)==null?void 0:u.to)||((p=jt[n.experimentType])==null?void 0:p.to),pattern:"[1-9]+"}),h(Ku,{name:`signals[${e}].j.pathLength.to`,defaultValue:((g=(f=n.signals[e].j)==null?void 0:f.pathLength)==null?void 0:g.to)||((v=jt[n.experimentType])==null?void 0:v.to)||1,label:"Max: ",style:{input:{color:((w=(y=(x=t.signals)==null?void 0:x[e].j)==null?void 0:y.pathLength)==null?void 0:w.to)?"red":"black"}},min:((_=(k=n.signals[e].j)==null?void 0:k.pathLength)==null?void 0:_.from)||((R=jt[n.experimentType])==null?void 0:R.from)||1,pattern:"[1-9]+"})]})]})}function pX({signalIndex:e}){return m(dX,{signalIndex:e})}const fX=X`
  text-align: center;
  width: 100%;

  .errorText {
    color: red;
  }

  .infoText {
    padding: 10px;
    margin: 10px 0;
    font-size: 14px;
    text-align: left;
    color: white;
    background-color: #5f5f5f;
    border-radius: 5px;
  }
`,hX=X`
  color: red;
`,gX=X`
  display: inline-grid;
  list-style: none;
  padding: 0.5rem 1.5rem;
`;function mX(){const{values:e,setFieldValue:t,errors:n}=xt(),r=d.exports.useCallback(s=>!!((n==null?void 0:n.signals)&&(n==null?void 0:n.signals[s])),[n]),o=d.exports.useMemo(()=>e.signals.length>0?e.signals.map((c,l)=>h(fn,{tabid:`${l}`,tabstyles:r(l)?hX:gX,render:()=>$("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",fontSize:"11px"},children:[$("span",{children:["\u{1D6C5}",h("sub",{children:c.x.nucleus}),": ",c.x.delta.toFixed(2)]}),$("span",{children:["\u{1D6C5}",h("sub",{children:c.y.nucleus}),": ",c.y.delta.toFixed(2)]})]}),children:h(pX,{signalIndex:l})},`signalForm_zone${l}`)):[],[r,e.signals]),i=d.exports.useCallback(({tabid:s})=>{t("activeTab",s)},[t]),a=d.exports.useCallback(({tabid:s})=>{const c=e.signals.filter((l,u)=>u!==Number(s));t("signals",c)},[t,e.signals]);return $("div",{children:[h("div",{css:fX}),h(vi,{activeTab:e.activeTab,onClick:i,onDelete:a,children:o})]})}const bX=()=>d.exports.useMemo(()=>Ke().shape({signals:yl().of(Ke().shape({j:Ke().shape({pathLength:Ke().shape({from:ft().required().positive().integer(),to:ft().required().positive().integer()})})})).min(1,"There must be at least one signal in a zone!")}),[]),vX=X`
  width: 500px;
  height: 250px;
  padding: 5px;
  button:focus {
    outline: none;
  }
  .header {
    height: 24px;
    border-bottom: 1px solid #f0f0f0;
    display: flex;
    align-items: center;
    span {
      color: #464646;
      font-size: 15px;
      flex: 1;
      border-left: 1px solid #ececec;
      padding-left: 6px;
    }

    button {
      background-color: transparent;
      border: none;
      padding: 5px;

      svg {
        height: 16px;
      }
    }
  }
  .container {
    display: flex;
    margin: 30px 5px;
  }
`;function xX({onSaveEditZoneModal:e=()=>null,onCloseEditZoneModal:t=()=>null,onZoomEditZoneModal:n=()=>null,rowData:r}){const o=d.exports.useRef(null),i=bX(),a=d.exports.useCallback(()=>{n(r)},[n,r]);d.exports.useEffect(()=>{a()},[a]);const s=d.exports.useCallback(()=>{t()},[t]),c=d.exports.useCallback(async u=>{const p=P(S({},r),{signals:u.signals.map(f=>{var g,v;return d2((g=f.j)==null?void 0:g.pathLength,r.tableMetaInfo.experiment)&&((v=f.j)==null||delete v.pathLength,f.j&&Object.keys(f.j).length===0&&delete f.j),f})});await e(p),s()},[s,e,r]),l=d.exports.useMemo(()=>({activeTab:"0",signals:r.signals.map(u=>{var p,f;return P(S({},u),{j:S({pathLength:{from:((p=jt[r.tableMetaInfo.experiment])==null?void 0:p.from)||1,to:((f=jt[r.tableMetaInfo.experiment])==null?void 0:f.to)||1}},u.j)})})}),[r.signals,r.tableMetaInfo.experiment]);return h("div",{css:vX,children:$(bt,{ref:o,initialValues:l,validationSchema:i,onSubmit:c,children:[$("div",{className:"header handle",children:[h(ii,{onClick:a,className:"zoom-button",children:h(fa,{title:"Set to default view on range in spectrum"})}),h("span",{children:"Zone and Signal edition"}),h(wp,{onClick:()=>o.current.submitForm(),popupTitle:"Save and exit"}),h(At,{onClick:s})]}),h(mX,{})]})})}const yX={marginLeft:2,marginRight:2,border:"none",height:"20px"};function wX({rowData:e,rowSpanTags:t}){const n=Re(),r=_n(),o=Tt(),i=d.exports.useCallback(u=>{n({type:pv,payload:{rowData:e,value:u}})},[n,e]),a=d.exports.useCallback(()=>{n({type:Vl,payload:{id:e.id,assignmentData:r}})},[r,n,e]),s=d.exports.useCallback(()=>{const u=Math.abs(e.x.from-e.x.to)*10;n({type:Ll,xDomain:e.x.from<=e.x.to?[e.x.from-u,e.x.to+u]:[e.x.to-u,e.x.from+u]});const p=Math.abs(e.y.from-e.y.to)*10;n({type:Md,yDomain:e.y.from<=e.y.to?[e.y.from-p,e.y.to+p]:[e.y.to-p,e.y.from+p]})},[n,e.x.from,e.x.to,e.y.from,e.y.to]),c=d.exports.useCallback(u=>{n({type:fv,payload:{editedRowData:u}})},[n]),l=d.exports.useCallback(()=>{n({type:Ca,payload:{selectedTool:K.editRange.id,tempRange:e}}),o.show(m(xX,{onCloseEditZoneModal:()=>o.close(),onSaveEditZoneModal:c,onZoomEditZoneModal:()=>s(),rowData:e}),{position:tt.MIDDLE_RIGHT,transition:Gn.SCALE,isBackgroundBlur:!1})},[n,o,e,c,s]);return G(d.exports.Fragment,{children:[m("td",{children:m(hn,{onChange:u=>{i(u)},data:cd,defaultValue:e.tableMetaInfo.signal.kind,style:yX})}),G("td",P(S({},t),{children:[m("button",{type:"button",className:"delete-button",onClick:a,children:m(Rr,{})}),m("button",{type:"button",className:"zoom-button",onClick:s,children:m(fa,{title:"Zoom to zone in spectrum"})}),m("button",{type:"button",className:"edit-button",onClick:l,children:m(G0,{color:"blue"})})]}))]})}function u0({rowData:e,assignment:t,highlight:n,onHover:r,onClick:o,onUnlink:i,axis:a,showUnlinkButton:s,setShowUnlinkButton:c}){return m("td",P(S({},r),{onClick:l=>o(l,t,a),style:n.isActive||t.isActive&&t.activeAxis===a?{color:"red",fontWeight:"bold"}:void 0,children:ve(e,`tableMetaInfo.signal.${a}.diaIDs`,[]).length>0?G("div",{onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e.tableMetaInfo.signal[a].diaIDs.length," ",m("sup",{children:m("button",{type:"button",style:{visibility:s?"visible":"hidden",padding:0,margin:0},onClick:l=>i(l,!1,a),children:m(Pl,{color:"red"})})})]}):t.isActive&&t.activeAxis===a?"0":""}))}function SX({rowData:e,assignmentSignal:t,onHoverSignalX:n,onHoverSignalY:r,showUnlinkButtonSignalX:o,showUnlinkButtonSignalY:i,setShowUnlinkButtonSignalX:a,setShowUnlinkButtonSignalY:s,onClick:c,onUnlink:l,highlightSignalX:u,highlightSignalY:p}){return G(d.exports.Fragment,{children:[m(u0,{rowData:e,assignment:t,highlight:u,onHover:n,onClick:c,onUnlink:l,axis:"x",showUnlinkButton:o,setShowUnlinkButton:a}),m(u0,{rowData:e,assignment:t,highlight:p,onHover:r,onClick:c,onUnlink:l,axis:"y",showUnlinkButton:i,setShowUnlinkButton:s})]})}function CX({rowData:e,onHoverSignalX:t,onHoverSignalY:n}){const r=Re(),o=ve(e,"tableMetaInfo.signal.x.delta",null),i=ve(e,"tableMetaInfo.signal.y.delta",null),a=ve(e,"tableMetaInfo.signal.id",void 0),s=d.exports.useCallback(l=>{const u=l.target.value;r({type:xu,payload:{zoneID:e.id,signal:{id:a,x:u}}})},[r,a,e.id]),c=d.exports.useCallback(l=>{const u=l.target.value;r({type:xu,payload:{zoneID:e.id,signal:{id:a,y:u}}})},[r,a,e.id]);return G(d.exports.Fragment,{children:[m("td",P(S({},t),{children:o!==null?m(tr,{value:o.toFixed(2),onSave:s,type:"number",style:{padding:"0.1rem 0.4rem"}}):""})),m("td",P(S({},n),{children:i!==null?m(tr,{value:i.toFixed(2),onSave:c,type:"number",style:{padding:"0.1rem 0.4rem"}}):""}))]})}function d0({rowData:e,assignment:t,highlight:n,onHover:r,onClick:o,onUnlink:i,axis:a,showUnlinkButton:s,setShowUnlinkButton:c,rowSpanTags:l}){return m("td",P(S(S({},l),r),{onClick:u=>o(u,t,a),children:ve(e,`${a}.nbAtoms`,0)>0?ve(e,`${a}.diaIDs`,0).length>0?G("div",{onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e[a].nbAtoms," ","(",m("span",{style:t.isActive&&t.activeAxis===a||t.isOnHover&&t.onHoverAxis===a||n.isActive?{color:"red",fontWeight:"bold"}:{color:"black",fontWeight:"normal"},children:ve(e,`${a}.diaIDs`,[]).length}),")"," ",m("sup",{children:m("button",{type:"button",style:{visibility:s?"visible":"hidden",padding:0,margin:0},onClick:u=>i(u,!0,a),children:m(Pl,{color:"red"})})})]}):t.isActive&&t.activeAxis===a?G("div",{children:[`${ve(e,`${a}.nbAtoms`,"")} (`,m("span",{style:{color:"red",fontWeight:"bold"},children:"0"}),")"]}):e[a].nbAtoms:t.isActive&&t.activeAxis===a?G("div",{children:["0 (",m("span",{style:{color:"red",fontWeight:"bold"},children:"0"}),")"]}):""}))}function kX({rowData:e,assignmentZone:t,onHoverZoneX:n,onHoverZoneY:r,showUnlinkButtonZoneX:o,showUnlinkButtonZoneY:i,setShowUnlinkButtonZoneX:a,setShowUnlinkButtonZoneY:s,rowSpanTags:c,onClick:l,onUnlink:u,highlightZoneX:p,highlightZoneY:f}){return G(d.exports.Fragment,{children:[m(d0,{rowData:e,assignment:t,highlight:p,onHover:n,onClick:l,onUnlink:u,axis:"x",showUnlinkButton:o,setShowUnlinkButton:a,rowSpanTags:c}),m(d0,{rowData:e,assignment:t,highlight:f,onHover:r,onClick:l,onUnlink:u,axis:"y",showUnlinkButton:i,setShowUnlinkButton:s,rowSpanTags:c})]})}const EX={backgroundColor:"#ff6f0057"},_X={backgroundColor:"#f5f5dc"};function TX({rowData:e,onUnlink:t,onContextMenu:n,rowIndex:r}){const o=rr(e.id),i=gt([o.id]),a=gt([Xt(o.id,"X")].concat(o.assigned.x||[])),s=gt([Xt(o.id,"Y")].concat(o.assigned.y||[])),c=rr(e.tableMetaInfo.id),l=gt([Xt(c.id,"X")].concat(c.assigned.x||[],Xt(c.id,"Crosshair"))),u=gt([Xt(c.id,"Y")].concat(c.assigned.y||[],Xt(c.id,"Crosshair"))),[p,f]=d.exports.useState(!1),[g,v]=d.exports.useState(!1),[x,y]=d.exports.useState(!1),[w,k]=d.exports.useState(!1),_=d.exports.useMemo(()=>({rowSpan:e.tableMetaInfo.rowSpan,style:ve(e,"tableMetaInfo.hide",!1)===!0?{display:"none"}:null}),[e]),R=d.exports.useCallback((z,U,Y)=>{z&&z.stopPropagation(),t(e,U,e.tableMetaInfo.signalIndex,Y),Y==="x"?U!==void 0?U?(f(!1),o.removeAll("x")):(y(!1),c.removeAll("x")):(f(!1),y(!1)):Y==="y"?U!==void 0?U?(v(!1),o.removeAll("y")):(k(!1),c.removeAll("y")):(v(!1),k(!1)):(f(!1),o.removeAll("x"),y(!1),c.removeAll("x"),v(!1),o.removeAll("y"),k(!1),c.removeAll("y"))},[c,o,t,e]),M=d.exports.useCallback((z,U,Y)=>{z.stopPropagation(),U.onClick(Y)},[]),N=d.exports.useMemo(()=>({onMouseEnter:()=>{o.onMouseEnter("x"),a.show()},onMouseLeave:()=>{o.onMouseLeave("x"),a.hide()}}),[o,a]),H=d.exports.useMemo(()=>({onMouseEnter:()=>{o.onMouseEnter("y"),s.show()},onMouseLeave:()=>{o.onMouseLeave("y"),s.hide()}}),[o,s]),A=d.exports.useMemo(()=>({onMouseEnter:()=>{c.onMouseEnter("x"),l.show()},onMouseLeave:()=>{c.onMouseLeave("x"),l.hide()}}),[c,l]),D=d.exports.useMemo(()=>({onMouseEnter:()=>{c.onMouseEnter("y"),u.show()},onMouseLeave:()=>{c.onMouseLeave("y"),u.hide()}}),[c,u]);return $("tr",P(S({onContextMenu:z=>n(z,e),style:i.isActive||o.isActive?EX:ve(e,"tableMetaInfo.isConstantlyHighlighted",!1)===!0?_X:null},i.onHover),{children:[h("td",P(S({},_),{children:r+1})),h(CX,{rowData:e,onHoverSignalX:A,onHoverSignalY:D}),h(SX,{rowData:e,assignmentSignal:c,onHoverSignalX:A,onHoverSignalY:D,showUnlinkButtonSignalX:x,showUnlinkButtonSignalY:w,setShowUnlinkButtonSignalX:z=>y(z),setShowUnlinkButtonSignalY:z=>k(z),onClick:M,onUnlink:R,highlightSignalX:l,highlightSignalY:u}),h(kX,{rowData:e,assignmentZone:o,onHoverZoneX:N,onHoverZoneY:H,showUnlinkButtonZoneX:p,showUnlinkButtonZoneY:g,setShowUnlinkButtonZoneX:z=>f(z),setShowUnlinkButtonZoneY:z=>v(z),rowSpanTags:_,onClick:M,onUnlink:R,highlightZoneX:a,highlightZoneY:s}),h(wX,{rowData:e,rowSpanTags:_})]}))}const RX=X`
  border-spacing: 0;
  border: 1px solid #dedede;
  width: 100%;
  font-size: 12px;
  .react-contextmenu-wrapper {
    display: contents;
  }
  tr {
    :last-child {
      td {
        border-bottom: 0;
      }
    }
  }
  thead tr:nth-of-type(1) th {
    top: 0;
  }
  thead tr:nth-of-type(2) th {
    top: 21px;
  }
  th {
    position: sticky;
    background-color: white;
    z-index: 2;
  }
  th,
  td {
    white-space: nowrap;
    text-align: center;
    margin: 0;
    padding: 0.1rem 0.4rem;
    border-bottom: 1px solid #dedede;
    border-right: 1px solid #dedede;

    :last-child {
      border-right: 0;
    }
    button {
      background-color: transparent;
      border: none;
      padding: 0 5px;
    }
  }
`;function AX({tableData:e,onUnlink:t,context:n,nuclei:r,experiment:o}){const i=d.exports.useRef(null),a=d.exports.useCallback((f,g)=>{co(f)||(f.preventDefault(),i.current.handleContextMenu(f,g))},[i]),s=d.exports.useMemo(()=>{const f=[];return e.forEach((g,v)=>{g.signals.length===1?f.push(P(S({},g),{tableMetaInfo:P(S({},g.tableMetaInfo),{signal:g.signals[0],rowIndex:v,signalIndex:0,id:g.signals[0].id,experiment:o,nuclei:r})})):g.signals.length>1&&g.signals.forEach((x,y)=>{let w=!1,k=null;y<g.signals.length-1&&y===0?k=g.signals.length:w=!0,f.push(P(S({},g),{tableMetaInfo:P(S({},g.tableMetaInfo),{signal:x,rowSpan:k,hide:w,rowIndex:v,signalIndex:y,id:x.id,experiment:o})}))})}),f},[o,r,e]),{items:c,isSortedDesc:l,onSort:u}=l2(s),p=d.exports.useMemo(()=>c.map((f,g)=>h(TX,{rowIndex:g,rowData:f,onUnlink:t,onContextMenu:(v,x)=>a(v,x)},`${f.tableMetaInfo.id}`)),[a,c,t]);return $("div",{children:[$("table",{css:RX,children:[$("thead",{children:[$("tr",{children:[h("th",{rowSpan:2,children:"#"}),h("th",{colSpan:2,children:"\u03B4 (ppm)"}),h("th",{colSpan:2,children:h(W0,{})}),h("th",{colSpan:2,children:"\u03A3"}),h("th",{rowSpan:2,children:"Kind"}),h("th",{rowSpan:2,children:""})]}),$("tr",{children:[h("th",P(S({id:"tableMetaInfo.signal.x.delta"},u),{children:$(Do,{text:"F2",children:[r[0]," ",l("tableMetaInfo.signal.x.delta").content]})})),h("th",P(S({id:"tableMetaInfo.signal.y.delta"},u),{children:$(Do,{text:"F1",children:[r[1]," ",l("tableMetaInfo.signal.y.delta").content]})})),h("th",{children:h(Do,{text:"F2",children:r[0]})}),h("th",{children:h(Do,{text:"F1",children:r[1]})}),h("th",{children:h(Do,{text:"F2",children:r[0]})}),h("th",{children:h(Do,{text:"F1",children:r[1]})})]})]}),h("tbody",{children:p})]}),h(xo,{ref:i,context:n})]})}function Do(e){return $(Xn,{children:[h("div",{style:{position:"absolute",fontSize:8,color:"#3539E6"},children:e.text}),h("div",{style:{marginLeft:5},children:e.children})]})}const PX=X`
  .remove-assignments-btn {
    border-radius: 5px;
    margin-top: 3px;
    margin-left: 2px;
    border: none;
    height: 16px;
    width: 18px;
    font-size: 12px;
    padding: 0;
    background-color: transparent;
  }
  .toggle {
    width: 22px;
    height: 22px;
    margin-left: 2px;
    display: flex;
    justify-content: center;
    align-items: center;
  }
`;function MX({zones:e,activeTab:t,xDomain:n,yDomain:r,experiment:o}){const[i,a]=d.exports.useState(!1),s=_n(),c=Re(),l=Tt(),[u,p]=d.exports.useState(!1),f=d.exports.useRef(),g=d.exports.useMemo(()=>{const N=(A,D,z,U)=>(A=A*1e4,D=D*1e4,z=z*1e4,U=U*1e4,(D>=n[0]*1e4&&A<=n[1]*1e4||A<=n[0]*1e4&&D>=n[1]*1e4)&&(U>=r[0]*1e4&&z<=r[1]*1e4||z<=r[0]*1e4&&U>=r[1]*1e4)),H=A=>A.filter(D=>N(D.x.from,D.x.to,D.y.from,D.y.to));if(e.values)return(i?H(e.values):e.values).map(D=>P(S({},D),{tableMetaInfo:{isConstantlyHighlighted:N(D.x.from,D.x.to,D.y.from,D.y.to)}}))},[e,i,n,r]),v=d.exports.useCallback(()=>{a(!i)},[i]),x=d.exports.useCallback((N=null,H=void 0,A=-1,D=void 0)=>{c({type:hv,payload:{zoneData:N,assignmentData:s,isOnZoneLevel:H,signalIndex:A,axis:D}})},[s,c]),y=d.exports.useCallback(()=>{x()},[x]),w=d.exports.useCallback(()=>{l.showConfirmDialog({message:"All assignments will be removed. Are you sure?",buttons:[{text:"Yes",handler:y},{text:"No"}]})},[y,l]),k=d.exports.useCallback(()=>{l.showConfirmDialog({message:"All zones will be deleted. Are You sure?",buttons:[{text:"Yes",handler:()=>{c({type:Vl,payload:{assignmentData:s}})}},{text:"No"}]})},[s,c,l]),_=d.exports.useCallback(()=>{p(!u)},[u]),R=d.exports.useCallback(()=>{f.current.saveSetting(),p(!1)},[]),M=d.exports.useCallback(N=>{Et.emit("onZonesVisibilityChange",{key:N})},[]);return h(Xn,{children:$("div",{css:[Dr,PX,u&&X`
              th {
                position: relative;
              }
            `],children:[!u&&$(qn,{counter:e.values?e.values.length:0,onDelete:k,deleteToolTip:"Delete All Zones",onFilter:v,filterToolTip:i?"Show all zones":"Hide zones out of view",filterIsActive:i,counterFiltered:g==null?void 0:g.length,showSettingButton:!0,onSettingClick:_,children:[h(rn,{title:"Remove all Assignments",popupPlacement:"right",children:h("button",{className:"remove-assignments-btn",type:"button",onClick:w,disabled:!e.values||e.values.length===0,children:h(V0,{})})}),h(On,{popupTitle:"show/hide zones",popupPlacement:"right",defaultValue:!0,onClick:()=>M("zones"),children:h("span",{style:{fontSize:"12px",pointerEvents:"none"},children:"z"})}),h(On,{popupTitle:"show/hide signals",popupPlacement:"right",defaultValue:!0,onClick:()=>M("signals"),children:h("span",{style:{fontSize:"12px",pointerEvents:"none"},children:"s"})}),h(On,{popupTitle:"show/hide peaks",popupPlacement:"right",defaultValue:!0,onClick:()=>M("peaks"),children:h("span",{style:{fontSize:"12px",pointerEvents:"none"},children:"p"})})]}),u&&h(xi,{onSave:R,onClose:_}),h("div",{className:"inner-container",children:u?h(cX,{ref:f}):h("div",{className:"table-container",children:g&&g.length>0?h(AX,{tableData:g,onUnlink:x,nuclei:t&&t.split(",").length===2?t.split(","):["?","?"],experiment:o}):h(yo,{})})})]})})}const FX=d.exports.memo(MX),OX={zones:{}};function $X(){const{displayerKey:e,xDomain:t,yDomain:n,activeTab:r}=ce(),{zones:o,info:i}=Vt(OX),a=dt();return h(FX,{xDomain:t,yDomain:n,activeTab:r,displayerKey:e,preferences:a,zones:o,experiment:i.experiment})}var DX=1/0,IX="[object Symbol]",m2=/[\\^$.*+?()[\]{}|]/g,NX=RegExp(m2.source),LX=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,HX=typeof self=="object"&&self&&self.Object===Object&&self,zX=LX||HX||Function("return this")(),BX=Object.prototype,jX=BX.toString,p0=zX.Symbol,f0=p0?p0.prototype:void 0,h0=f0?f0.toString:void 0;function VX(e){if(typeof e=="string")return e;if(WX(e))return h0?h0.call(e):"";var t=e+"";return t=="0"&&1/e==-DX?"-0":t}function GX(e){return!!e&&typeof e=="object"}function WX(e){return typeof e=="symbol"||GX(e)&&jX.call(e)==IX}function UX(e){return e==null?"":VX(e)}function XX(e){return e=UX(e),e&&NX.test(e)?e.replace(m2,"\\$&"):e}var ai=XX;function YX(e,t){return typeof e=="string"?t.checkString(e):typeof e=="number"?t.checkNumber(e):!1}function ed(e,t,n,r){if(typeof e=="object")if(Array.isArray(e)){for(const o of e)if(ed(o,t,n,r))return!0}else for(const o in e){n.push(o);const i=ed(e[o],t,n,r);if(n.pop(),i)return!0}else{if(t.is)return t.is.test(n.join("."))?!!e:!1;{const o=n.join(".");for(const i of r.ignorePaths)if(i.test(o))return!1;return t.key&&!t.key.test(o)?!1:YX(e,t)}}return!1}function g0(e,t,n,r){if(t.length){let o=!1;for(const i of t)if(ed(e,i,[],r)?!i.negate:i.negate){if(n==="OR")return!0;o=!0}else if(n==="AND")return!1;return o}return!0}const ZX={"<":function(t){return n=>n<t[0]},"<=":function(t){return n=>n<=t[0]},"=":function(t){return n=>n===t[0]},">=":function(t){return n=>n>=t[0]},">":function(t){return n=>n>t[0]},"..":function(t){return n=>n>=t[0]&&n<=t[1]}};function KX(e){const{values:t,operator:n}=qX(e),r=ZX[n];if(!r)throw new Error(`unknown operator ${n}`);return r(t)}function qX(e){const t=/^\s*\(?\s*(?<startOperator><=|>=|<|=|>|\.\.)?(?<firstValue>-?\d*\.?\d+)(?:(?<afterDots>\.\.)(?<secondValue>-?\d*\.?\d*))?\s*\)?\s*$/.exec(e);if(!t)return{operator:"=",values:[Number(e)]};if(!t.groups)throw new Error("unreachable");const{startOperator:n,firstValue:r,afterDots:o,secondValue:i}=t.groups;let a=n,s=r?[Number(r)]:[];return n===".."?a="<=":!n&&o&&!i?a=">=":o&&(a=".."),i&&s.push(Number(i)),{values:s,operator:a||"="}}const JX={"<":function(t){return n=>n<t[0]},"<=":function(t){return n=>n<=t[0]},"=":function(t,n){const r=`^${ai(t[0])}$`,o=new RegExp(r,n);return i=>o.test(i)},"~":function(t,n){const r=ai(t[0]),o=new RegExp(r,n);return i=>o.test(i)},">=":function(t){return n=>n>=t[0]},">":function(t){return n=>n>t[0]},"..":function(t){return n=>n>=t[0]&&n<=t[1]}};function QX(e,t){const{values:n,operator:r}=eY(e),o=JX[r];if(!o)throw new Error(`unreachable unknown operator ${r}`);return o(n,t)}function eY(e){const t=e.split(".."),n=/^\s*\(?(?<operator><=|<|=|>=|>)?\s*(?<value>\S*)\s*\)?$/.exec(t[0]);if(!n)return{operator:"~",values:[e]};if(!n.groups)throw new Error("unreachable");let{operator:r,value:o}=n.groups,i=t[1],a=[o];return t.length>1&&(r="..",i?o?a.push(i):(a=[i],r="<="):r=">="),{operator:r||"~",values:a}}function tY(e,t){const{insensitive:n,pathAlias:r}=t;return e.map(o=>{const i={};o.startsWith("-")&&(i.negate=!0,o=o.substring(1));const a=o.indexOf(":");if(a>-1){const s=o.substring(a+1);if(a>0){const c=o.substring(0,a);c==="is"&&(i.is=new RegExp(`(^|\\.)${ai(s)}(\\.|$)`,n)),r[c]?i.key=r[c]:i.key=new RegExp(`(^|\\.)${ai(c)}(\\.|$)`,n)}m0(i,s,n)}else m0(i,o,n);return i})}function m0(e,t,n){e.checkString=QX(t,n),e.checkNumber=KX(t)}function nY(e,t){const{insensitive:n}=t,r={};for(const[o,i]of Object.entries(e))i instanceof RegExp?r[o]=i:r[o]=new RegExp(`(^|\\.)${ai(i)}(\\.|$)`,n);return r}let b0=/[ ;,\t\r\n]/;function rY(e){const t=[];let n=!1,r=!0,o=[],i="";for(let a=0;a<e.length;a++){const s=e.charAt(a);if(n){if(i==='"'){if(s==='"'){i="";continue}o.pop(),n=!1,a--;continue}o.push(s),i=s;continue}if(r){if(b0.test(s)){i=s;continue}r=!1}if(s==='"'){n=!0,i="";continue}if(b0.test(s)){o.length&&t.push(o.join("")),o=[],r=!0;continue}o.push(s),i=""}return i==='"'&&o.pop(),o.length&&t.push(o.join("")),t}function oY(e,t={}){let{index:n=!1,predicate:r="AND",ignorePaths:o=[],pathAlias:i={}}=t;const a=t.limit?t.limit:1/0,s=t.caseSensitive?"":"i";let c=t.keywords||[];const l=nY(i,{insensitive:s}),u=o.map(g=>typeof g=="string"?new RegExp(`(^|\\.)${ai(g)}(\\.|$)`,s):g);typeof c=="string"&&(c=rY(c));const p=tY(c,{insensitive:s,pathAlias:l});let f=0;if(n){const g=[];for(let v=0;v<e.length&&f<a;v++)g0(e[v],p,r,{ignorePaths:u,pathAlias:l})&&(f=g.push(v));return g}else{const g=[];for(let v=0;v<e.length&&f<a;v++)g0(e[v],p,r,{ignorePaths:u,pathAlias:l})&&(f=g.push(e[v]));return g}}const kl={data:{solvent:{description:"Solvent database",value:sY([...WS,...US])}}};function v0(e,t){const r=(kl.data[e]?kl.data[e].value:[]).filter(a=>a.nucleus===t);return{data:r,getSolvents:()=>iY(r),search:(a=[])=>oY(r,{keywords:a})}}function iY(e){const t=[],n=new Map;for(const r of e)n.has(r.solvent)||(n.set(r.solvent,!0),t.push(r.solvent));return t}function aY(){return Object.keys(kl.data).map(e=>{const{description:t}=kl.data[e];return{id:e,name:t}})}function sY(e){return e.map(t=>(t.ranges=t.ranges.map(n=>S({id:Ge()},n)),t),[])}function lY(e){const t=[];let n=0;for(const a of e){let s=[];const r=a,{ranges:c}=r,l=he(r,["ranges"]);for(const u of c){s.push(u.id||Ge());const o=u,{signals:p=[]}=o,f=he(o,["signals"]);for(const g of p){const i=g,{js:v=[]}=i,x=he(i,["js"]),y=cY(v),w=P(S(S(S(S({},l),f),x),y),{index:n,id:s,ranges:c});t.push(w)}}n++}return t}function cY(e){if(e&&e.length>0){const{coupling:t,multiplicity:n}=e.reduce((r,{coupling:o,multiplicity:i})=>(r.coupling.push(o.toFixed(1)),r.multiplicity+=i,r),{coupling:[],multiplicity:""});return{multiplicity:n,coupling:t.join(",")}}else return{multiplicity:"s",coupling:""}}const x0={container:{padding:10,backgroundColor:"#f1f1f1",height:"100%",overflowY:"auto"},groupContainer:{padding:"5px",borderRadius:"5px",margin:"10px 0px",backgroundColor:"white"},header:{borderBottom:"1px solid #e8e8e8",paddingBottom:"5px",fontWeight:"bold",color:"#4a4a4a"},inputContainer:{flex:4,borderRadius:"5px"},inputLabel:{flex:2,fontSize:"11px",fontWeight:"bold",color:"#232323"},input:{width:"100px"}};function uY(e,t){const n=dt(),r=mt(),o=d.exports.useRef(),i=d.exports.useCallback(()=>{const s=ar(n,"formatting.panels.database");o.current.setValues(s||m1)},[n]);d.exports.useEffect(()=>{i()},[i]);const a=d.exports.useCallback(s=>{n.dispatch({type:hi,payload:{key:"database",value:s}}),r.success("database preferences saved successfully")},[r,n]);return d.exports.useImperativeHandle(t,()=>({saveSetting:()=>{o.current.submitForm()}})),m("div",{style:x0.container,children:m(bt,{onSubmit:a,ref:o,children:G("div",{style:x0.groupContainer,children:[m(wn,{label:"Smiles",checkControllerName:"showSmiles",hideFormat:!0}),m(wn,{label:"Solvent",checkControllerName:"showSolvent",hideFormat:!0}),m(wn,{label:"Names",checkControllerName:"showNames",hideFormat:!0}),m(wn,{label:"Range",checkControllerName:"showRange",hideFormat:!0}),m(wn,{label:"\u03B4 (ppm)",checkControllerName:"showDelta",hideFormat:!0}),m(wn,{label:"Assignment",checkControllerName:"showAssignment",hideFormat:!0}),m(wn,{label:"J (Hz)",checkControllerName:"showCoupling",hideFormat:!0}),m(wn,{label:"Multiplicity",checkControllerName:"showMultiplicity",hideFormat:!0})]})})})}var dY=d.exports.forwardRef(uY);const iu={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},pY=[{showWhen:"showNames",index:1,Header:"names",accessor:e=>e.names?e.names.join(","):"",enableRowSpan:!0,style:S({width:"100px",minWidth:"100px",maxWidth:"100px"},iu)},{showWhen:"showRange",index:2,Header:"From - To",accessor:e=>`${e.from.toFixed(2)} - ${e.to.toFixed(2)}`,enableRowSpan:!0},{showWhen:"showDelta",index:3,Header:"\u03B4 (ppm)",accessor:"delta"},{showWhen:"showAssignment",index:4,Header:"Assignment",accessor:"assignment"},{showWhen:"showMultiplicity",index:5,Header:"Multi.",accessor:"multiplicity"},{showWhen:"showCoupling",index:6,Header:"J (Hz)",accessor:"coupling",style:S({width:"60px",minWidth:"60px"},iu)},{showWhen:"showSolvent",index:7,Header:"Solvent",accessor:"solvent",style:S({width:"80px",minWidth:"80px"},iu)},{showWhen:"showSmiles",index:8,Header:"Smiles",accessor:"index",enableRowSpan:!0,Cell:({row:e})=>h("div",{className:"smiles-container",style:{width:"100px",display:"block",overflow:"hidden"},children:(e==null?void 0:e.original.smiles)&&h(j$,{height:60,width:60,smiles:e.original.smiles})})}];function fY({data:e,onAdd:t}){const n=dt(),r=d.exports.useMemo(()=>[{index:10,Header:"",width:"1%",maxWidth:"24px",minWidth:"24px",id:"add-button",accessor:"index",enableRowSpan:!0,Cell:({row:i})=>h("button",{type:"button",className:"add-button",onClick:()=>t(i),children:h(ci,{})})}],[t]),o=d.exports.useMemo(()=>{const i=ar(n,"formatting.panels.database",m1);let a=[...r];for(const c of pY){const s=c,{showWhen:l}=s,u=he(s,["showWhen"]);i[l]&&ic(a,u)}return a.sort((c,l)=>c.index-l.index)},[r,n]);return e&&e.length>0?h(oc,{data:e,columns:o,highlightedSource:wt.DATABASE,groupKey:"index",approxItemHeight:30,enableVirtualScroll:!0}):h(yo,{})}var hY=d.exports.memo(fY);const gY=X`
  .header {
    height: 30px;
    padding: 2px 0px 2px 5px;
  }
  .input-container {
    width: 100%;
  }
  .search-input {
    width: 100% !important;
    border-radius: 5px;
    border: 0.55px solid gray;
    padding: 0 5px;
    outline: none;
  }
  .smiles-container svg {
    display: block;
    margin: 0 auto;
  }
`,y0={solvent:"",searchKeywords:""};function mY({nucleus:e,selectedTool:t}){const n=Re(),{handleChangeOption:r}=gc(),o=Tn(e),[i,a]=d.exports.useState(!1),s=d.exports.useRef(),[c,l]=d.exports.useState(y0),u=d.exports.useRef(null),[p,f]=d.exports.useState({data:[],databases:[],solvents:[]}),{item:g}=XS("Database"),v=d.exports.useCallback(()=>{a(!i)},[i]),x=d.exports.useCallback(()=>{s.current.saveSetting(),a(!1)},[]),y=d.exports.useCallback(N=>{if(typeof N=="string"||N===-1){const H=String(N);l(A=>P(S({},A),{solvent:H}))}else l(H=>P(S({},H),{searchKeywords:N.target.value}))},[]);d.exports.useEffect(()=>{(g==null?void 0:g.isOpen)&&setTimeout(()=>{const N=xY(aY());u.current=v0(N[0].key,e);const H=u.current.data,A=w0(u.current.getSolvents());f({data:H,databases:N,solvents:A})})},[g==null?void 0:g.isOpen,e]),d.exports.useEffect(()=>{const{solvent:N,searchKeywords:H}=c;setTimeout(()=>{if(u.current)if(!N&&!H){const A=u.current.data,D=w0(u.current.getSolvents());f(z=>P(S({},z),{data:A,solvents:D}))}else{const A=[...H.split(",")];N!=="-1"&&A.unshift(`solvent:${N}`);const D=u.current.search(A);f(z=>P(S({},z),{data:D}))}})},[c]),d.exports.useEffect(()=>{function N(H){t===K.databaseRangesSelection.id&&l(A=>{const D=A.searchKeywords?A.searchKeywords.split(","):[],[z,U]=H.range,Y=[...D,`delta:${o(z)}..${o(U)}`].join(",");return P(S({},A),{searchKeywords:Y})})}return Et.on("brushEnd",N),()=>{Et.off("brushEnd",N)}},[o,t]);const w=d.exports.useCallback(N=>{u.current=v0(N,e),l(y0)},[e]),k=d.exports.useMemo(()=>lY(p.data),[p.data]),_=d.exports.useCallback(N=>{const{index:H}=N.original,{ranges:A,solvent:D,names:z=[]}=p.data[H];n({type:Pv,payload:{ranges:A,info:{solvent:D,nucleus:e,name:z[0]}}})},[n,e,p.data]),R=d.exports.useCallback(()=>{l(N=>P(S({},N),{searchKeywords:""}))},[]),M=d.exports.useCallback(N=>{const H=N?K.databaseRangesSelection.id:K.zoom.id;r(H)},[r]);return $("div",{css:[Dr,gY,i&&X`
            .table-container {
              table,
              th {
                position: relative !important;
              }
            }
          `],children:[!i&&$(qn,{showSettingButton:!0,onSettingClick:v,canDelete:!1,className:"header",children:[h(On,{defaultValue:t===K.databaseRangesSelection.id,popupTitle:"Filter by select ranges",popupPlacement:"right",onClick:M,children:h(YS,{style:{pointerEvents:"none",fontSize:"12px",transform:"rotate(90deg)"}})},`${t}`),h(hn,{style:{flex:2},data:p.databases,onChange:w}),h(hn,{style:{flex:1},data:p.solvents,onChange:y}),h(Tr,{value:c.searchKeywords,renderIcon:()=>h(h9,{}),style:{inputWrapper:{flex:3}},className:"search-input",type:"text",debounceTime:250,placeholder:"Search for parameter...",onChange:y,onClear:R,canClear:!0})]}),i&&h(xi,{onSave:x,onClose:v}),h("div",{className:"inner-container",children:i?h(dY,{ref:s}):h(hY,{data:k,onAdd:_})})]})}const bY=d.exports.memo(mY);function vY(){const{activeTab:e,toolOptions:{selectedTool:t}}=ce();return e?h(bY,{nucleus:e,selectedTool:t}):h("div",{})}function w0(e){const t=e.map(n=>({key:n,label:n,value:n}),[]);return t.unshift({key:"-1",label:"All",value:"-1"}),t}function xY(e){return e.map(({id:t,name:n})=>({key:t,value:t,label:n}))}const yY={width:"100%",height:"100%",padding:"0px",display:"flex",flexDirection:"column"};function wY({children:e,className:t,style:n,testID:r}){return m("div",{className:t,style:S(S({},yY),n),"data-test-id":r,children:e})}var SY=d.exports.memo(wY);const CY={width:"100%",overflowY:"auto",display:"flex",flexDirection:"column",padding:"5px 0px",color:"gray"};function kY({children:e,className:t,style:n}){const r=d.exports.useMemo(()=>d.exports.Children.map(e,o=>d.exports.cloneElement(o,{style:S({borderBottom:"0.55px solid #d8d8d8"},o.props.style)})),[e]);return m("div",{className:t,style:S(S({},CY),n),children:r})}var EY=d.exports.memo(kY);const _Y={width:"100%",display:"flex",alignItems:"flex-start"};function TY(e){return e.toLowerCase()==="top"?"flex-start":e.toLowerCase()==="bottom"?"flex-end":"center"}function RY({children:e,className:t,style:n,align:r="center",vAlign:o="center",size:i=1,onClick:a=()=>null}){return m("div",{className:t,style:S(P(S({},_Y),{alignItems:TY(o),textAlign:r,flex:i}),n),onClick:a,children:e})}var ea=d.exports.memo(RY);const AY={width:"100%",display:"flex",padding:"0px 5px",color:"#424242",backgroundColor:"#d8d8d8",borderBottom:"0.55px solid #d8d8d8",fontSize:11,fontWeight:"bold"};function PY({children:e,className:t,style:n}){return m("div",{className:t,style:S(S({},AY),n),children:e})}var MY=d.exports.memo(PY);const FY={width:"100%",display:"flex",padding:"5px 0px"};function OY({children:e,className:t,style:n,onClick:r=()=>null}){return m("div",{className:t,style:S(S({},FY),n),onClick:r,children:e})}var b2=d.exports.memo(OY);function $Y({filters:e,spectraCounter:t,selectedTool:n,activeFilterID:r}){const o=Re(),i=Tt(),a=mt(),s=d.exports.useRef({index:null}),c=d.exports.useCallback(async(g,v)=>{const x=await a.showLoading(`${v?"Enable":"Disable"} filter in progress`);setTimeout(()=>{o({type:Tb,id:g,checked:v}),x()},0)},[a,o]),l=d.exports.useCallback(({id:g,name:v})=>{const x=[{text:"Yes",handler:async()=>{const y=await a.showLoading("Delete filter process in progress");o({type:Rb,payload:{id:g}}),y()}},{text:"No"}];t>1&&x.unshift({text:"Yes, for all spectra",handler:async()=>{const y=await a.showLoading("Delete all spectra filter process in progress");o({type:Ab,payload:{filterType:v}}),y()}}),i.showConfirmDialog({message:"Are you sure you want to delete the spectrum?",buttons:x})},[a,o,i,t]),u=d.exports.useCallback(async g=>{const v=await a.showLoading("Filter snapshot process in progress");setTimeout(()=>{o({type:Qb,id:g}),v()},0)},[a,o]),p=d.exports.useCallback((g,v)=>{const{id:x,name:y}=g;r&&r===x?s.current.index=v:r||(s.current.index=null);const w=["filter-row"];return r===x?w.push("filter-active"):n===y?w.push("filter-current"):s.current.index!=null&&v>s.current.index&&w.push("filter-deactive"),w.join(" ")},[r,n]),f=d.exports.useMemo(()=>e==null?void 0:e.map((g,v)=>G(b2,{className:p(g,v),children:[m(ea,{align:"center",size:2,onClick:()=>u(g.id),children:g.label}),m(ea,{align:"left",size:3,children:m("div",{onClick:x=>x.stopPropagation(),children:m(Y0,{data:g.error?g.error:g.value})})}),G(ea,{align:"center",vAlign:"center",size:1,children:[m(Ta,{checked:g.flag,onChange:x=>c(g.id,x.target.checked)}),g.isDeleteAllow&&m("button",{className:"btn",type:"button",onClick:()=>l(g),children:m(Rr,{})})]})]},g.id)),[u,e,p,l,c]);return m(In,{children:f})}const DY={filters:[]},IY=d.exports.memo($Y);function NY(){const{toolOptions:{selectedTool:e,data:{activeFilterID:t}}}=ce(),{filters:n}=Vt(DY),r=p1().length;return m(IY,{selectedTool:e,filters:n,spectraCounter:r,activeFilterID:t})}const LY=X`
  .btn {
    background-color: transparent;
    border: none;
    height: 25;
    width: 25;
    padding: 5px;
  }
  .filter-row {
    padding: 5px !important;
  }
  .filter-active {
    background-color: #f7f7f7;
    div,
    span,
    .btn {
      color: black !important;
    }

    li {
      background-color: transparent !important;
    }
  }
  .filter-current {
    background-color: #707070;
    div,
    span,
    .btn {
      color: white !important;
    }

    li {
      background-color: transparent !important;
    }
  }

  .filter-deactive {
    opacity: 0.3;
  }
`;function HY({filters:e}){return d.exports.useMemo(()=>e?$(SY,{testID:"filters-table",children:[h(MY,{children:$(b2,{children:[h(ea,{align:"center",size:1,children:"Label"}),h(ea,{align:"center",size:2,children:"Properties"})]})}),h(EY,{css:LY,children:h(NY,{})})]}):h(yo,{}),[e])}const zY={filters:[]},BY=d.exports.memo(HY);function jY(){const{filters:e}=Vt(zY);return h(BY,{filters:e})}const VY=X`
  padding: 10px;
  border-top: solid #f2f2f2 1px;

  .row {
    flex: row;
    display: flex;
    padding-bottom: 10px;
  }

  .inner-content {
    flex: 1;
  }

  .custom-label {
    width: 160px;
  }

  .footer-container {
    display: flex;
    flex-direction: row-reverse;
    align-items: flex-end;
  }

  .btn:not([disabled]):hover {
    background-color: #ffffff;
  }
  .btn:hover {
    background-color: #f2f2f2 !important;
  }
  .btn:disabled {
    opacity: 0.5;
  }
  .btn {
    border: none;
    padding: 0 15px;
    background-color: #ffffff;
    border-radius: 5px;
    height: 25px;
  }

  .input {
    font-size: 14px;
    border-radius: 5px;
    border: 1px solid #cccccc;
    padding: 5px;
    width: 100px;
    margin-right: 10px;
    height: initial !important;
  }
`,GY=Ke().shape({frequency:ft().integer().required().label("Frequency"),"1d":Ke({"1H":Ke({from:ft().integer().required().label("1H ' From ' "),to:ft().integer().required().label("1H ' To ' ")}),"13C":Ke().shape({from:ft().integer().required().label("13C ' From ' "),to:ft().integer().required().label("13C ' To ' ")}),lineWidth:ft().integer().min(1).required().label("Line Width")})});function WY({onPredict:e=()=>null}){const t=d.exports.useRef(),n=d.exports.useCallback(()=>{t.current.submitForm()},[]),r=d.exports.useCallback(async o=>{e(o)},[e]);return $("div",{css:VY,children:[h("div",{children:$(bt,{ref:t,initialValues:Um,validationSchema:GY,onSubmit:r,children:[h(i2,{}),$("div",{className:"row margin-10",children:[h("span",{className:"custom-label",children:"Frequency : "}),h(Wo,{data:Xm,style:{width:290,height:30,margin:0},name:"frequency"})]}),$("div",{className:"row",children:[h(Sn,{value:"1H",className:"custom-label"}),h(qe,{title:"From",children:h(Le,{name:"1d.1H.from",type:"number"})}),h(qe,{title:"To",style:{label:{padding:"0 10px"}},children:h(Le,{name:"1d.1H.to",type:"number"})})]}),$("div",{className:"row",children:[h(Sn,{value:"13C",className:"custom-label"}),h(qe,{title:"From",children:h(Le,{name:"1d.13C.from",type:"number"})}),h(qe,{title:"To",style:{label:{padding:"0 10px"}},children:h(Le,{name:"1d.13C.to",type:"number"})})]}),$("div",{className:"row margin-10 padding-h-10",children:[h("span",{className:"custom-label",children:"Line Width : "}),h(Le,{name:"1d.lineWidth",type:"number",style:{input:{margin:0}}}),h("span",{style:{paddingLeft:"0.4rem"},children:" Hz "})]})]})}),h("div",{children:h("button",{type:"button",onClick:n,className:"btn",children:"Predict spectrum"})})]})}function UY(){const[e,t]=d.exports.useState(),n=d.exports.useCallback(a=>{t(a)},[]),r=Re(),o=mt(),i=d.exports.useCallback(async a=>{if(e){r({type:Er,isLoading:!0});const s=await o.showLoading("Predict 1H, 13C, COSY, HSQC, and HMBC in progress");r({type:Gl,payload:{mol:e,options:a}}),s()}else o.error("No Molecule selected")},[o,r,e]);return m(a2,{onMoleculeChange:n,actionsOptions:{hidePredict:!0,hideDelete:!0,hideExport:!0},children:m(WY,{onPredict:i})})}const XY=[{title:"Spectra",component:m(FU,{}),hidePreferenceKey:"hideSpectraPanel",mode:null},{title:"Information",component:m(yF,{}),style:{overflow:"hidden"},hidePreferenceKey:"hideInformationPanel",mode:null},{title:"Peaks",component:m(ZG,{}),hidePreferenceKey:"hidePeaksPanel",mode:null},{title:"Filters",component:m(jY,{}),hidePreferenceKey:"hideFiltersPanel",mode:null},{title:"Integrals",component:m(HV,{}),hidePreferenceKey:"hideIntegralsPanel",mode:null},{title:"Ranges",component:m(UW,{}),hidePreferenceKey:"hideRangesPanel",mode:we.DM_1D},{title:"Multiple Spectra Analysis",component:m(LG,{}),hidePreferenceKey:"hideMultipleSpectraAnalysisPanel",mode:null},{title:"Matrix Generation",component:m(ZV,{}),hidePreferenceKey:"",mode:null,isExperimental:!0},{title:"Zones",component:m($X,{}),hidePreferenceKey:"hideZonesPanel",mode:we.DM_2D},{title:"Summary",component:m(oX,{}),hidePreferenceKey:"hideSummaryPanel",mode:null},{title:"Structures",component:m(a2,{}),hidePreferenceKey:"hideStructuresPanel",mode:null},{title:"Database",component:m(vY,{}),hidePreferenceKey:"hideDatabasePanel",mode:null},{title:"Automatic Assignment",component:m(pF,{}),hidePreferenceKey:"",mode:null,isExperimental:!0},{title:"Prediction",component:m(UY,{}),hidePreferenceKey:"hidePredictionPanel",mode:null}],S0={null:"Spectra",peakPicking:"Peaks",integral:"Integrals",rangesPicking:"Ranges",zone2D:"Zones",multipleSpectraAnalysis:"Multiple Spectra Analysis"};function YY({displayerMode:e}){const t=dt(),n=tx(),r=d.exports.useCallback(o=>!ve(t,`display.panels.${o.hidePreferenceKey}`)&&o.isExperimental===void 0&&(o.mode==null||o.mode===e)||o.isExperimental&&n,[e,n,t]);return m("div",{style:{width:"100%",height:"100%",flex:"1 1 0%"},children:m(Jf,{children:XY.map((o,i)=>r(o)&&m(Jf.Item,{title:o.title,defaultOpened:i===0,children:o.component},o.title))})})}const ZY=d.exports.memo(YY);function KY(){const{displayerMode:e,toolOptions:{selectedTool:t}}=ce();return m(ZY,{displayerMode:e,selectedTool:t})}function gc(){const e=Re(),t=mt(),{open:n}=ZS(),[r,o]=d.exports.useState(!1),i=d.exports.useRef({clicks:[]}),a=d.exports.useCallback(p=>{[K.peakPicking.id,K.integral.id,K.zone2D.id,K.exclusionZones.id].includes(p)&&t.show("Press Shift + Left Mouse button to select zone"),Object.keys(S0).includes(p)&&n(S0[p]),e({type:Ca,payload:{selectedTool:p}})},[t,e,n]),s=d.exports.useCallback(()=>{i.current.clicks.length===0&&e({type:ti,zoomType:Zi.HORIZONTAL});const p=si(()=>{i.current.clicks=[]},500);i.current.clicks.push(p),p(),i.current.clicks.length>1&&(Wn(i.current.clicks,f=>f.cancel()),i.current.clicks=[],e({type:ti}))},[e,i]),c=d.exports.useCallback(()=>{e({type:Ld})},[e]),l=d.exports.useCallback(()=>{e({type:$d,isRealSpectrumVisible:!r}),o(!r)},[e,r]),u=d.exports.useCallback(()=>{e({type:Bd})},[e]);return{handleChangeOption:a,handleFullZoomOut:s,changeDisplayViewModeHandler:c,changeSpectrumViewHandler:l,alignSpectrumsVerticallyHandler:u,isRealSpectrumShown:r}}function qY(){const{keysPreferences:e,displayerMode:t,overDisplayer:n,data:r,activeSpectrum:o}=ce(),i=Re(),a=mt(),s=Wd(),{handleChangeOption:c,handleFullZoomOut:l,alignSpectrumsVerticallyHandler:u,changeDisplayViewModeHandler:p}=gc(),{saveToClipboardHandler:f,saveAsJSONHandler:g,saveAsHandler:v}=ex(),{highlight:x,remove:y}=mi(),w=_n(),k=d.exports.useMemo(()=>t===we.DM_1D&&r&&r.length>0,[r,t]),_=d.exports.useCallback(async H=>{const{type:A,extra:{id:D}}=H;switch(A){case wt.INTEGRAL:{i({type:Hl,integralID:D}),y();break}case wt.PEAK:{i({type:Nl,data:{id:D}}),y();break}case wt.RANGE:{i({type:jl,payload:{data:{id:D,assignmentData:w}}}),y();break}case wt.ZONE:{i({type:Vl,payload:{id:D,assignmentData:w}}),y();break}case wt.EXCLUSION_ZONE:{const z=await a.showLoading("Exclusion filter in progress");i({type:yv,payload:{id:D,spectrumID:H.extra.spectrumID}}),z(),y();break}}},[w,i,y,a]),R=d.exports.useCallback((H,A)=>{r&&r.length>0&&A>=1&&A<=9&&(H.shiftKey?(i({type:pl,keyCode:A}),a.show(`Configuration Reset, press '${A}' again to reload it.`)):co(H)||((e==null?void 0:e[A])?i({type:Vd,keyCode:A}):(i({type:pl,keyCode:A}),a.show(`Configuration saved, press '${A}' again to reload it.`))))},[a,r,i,e]),M=d.exports.useCallback(H=>{function A(z,U=!0){if(t===we.DM_1D&&!o)throw new Error(`Select a spectrum to proceed with ${z}`);if(U&&t===we.DM_2D)throw new Error(`Switch to 1D Mode and select a spectrum to proceed with ${z}`)}function D(z,U=!0){if(t===we.DM_2D&&!o)throw new Error(`Select a spectrum to proceed with ${z}`);if(U&&t===we.DM_1D)throw new Error(`Switch to 2D Mode and select a spectrum to proceed with ${z}`)}try{if(!H.shiftKey&&!H.metaKey)switch(H.key){case"f":l();break;case"z":case"Escape":c(K.zoom.id);break;case"r":{t===we.DM_2D?(D(K.zone2D.label,!1),c(K.zone2D.id)):(A(K.rangesPicking.label,!1),c(K.rangesPicking.id));break}case"a":{A(K.phaseCorrection.label),c(K.phaseCorrection.id);break}case"b":{A(K.baseLineCorrection.label),c(K.baseLineCorrection.id);break}case"p":{A(K.peakPicking.label),c(K.peakPicking.id);break}case"i":{A(K.integral.label),c(K.integral.id);break}case"e":{A(K.exclusionZones.label),c(K.exclusionZones.id);break}default:}if(!H.shiftKey&&!H.metaKey&&!H.ctrlKey)switch(H.key){case"c":{k&&u();break}case"s":{k&&p();break}default:}if(!H.shiftKey&&(H.metaKey||H.ctrlKey))switch(H.key){case"c":f(),H.preventDefault();break;case"s":g(),H.preventDefault();break;case"o":s(),H.preventDefault();break;default:}if(H.shiftKey&&(H.metaKey||H.ctrlKey))switch(H.key){case"s":case"S":v(),H.preventDefault();break;default:}}catch(z){a.error(z.message)}},[o,a,u,k,p,t,c,l,s,v,g,f]),N=d.exports.useCallback(H=>{if(!["input","textarea"].includes(H.target.localName)&&n){const A=Number(H.code.substr(H.code.length-1))||0;A>0?R(H,A):["Delete","Backspace"].includes(H.key)&&x.sourceData?(H.preventDefault(),_(x.sourceData)):M(H)}},[_,x,R,n,M]);return d.exports.useEffect(()=>(document.addEventListener("keydown",N,!0),()=>document.removeEventListener("keydown",N,!0)),[N]),null}const JY="https://docs.nmrium.org";var QY={version:"git-08ada516b698f7b540fa7c57683e79a54704feee"};function eZ({width:e=100,height:t=100}){return G("svg",{style:{width:e,height:t},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 752.34 221.73",children:[m("path",{fill:"#ea580c",fillRule:"evenodd",d:"M.64,31.7A31.67,31.67,0,0,1,54.72,9.29l0,0A31.66,31.66,0,0,1,64,31.7V190a13.39,13.39,0,0,0,26.77,0V54a31.7,31.7,0,0,1,31.7-31.7V40.58A13.38,13.38,0,0,0,109.13,54V190a31.71,31.71,0,0,1-63.41,0V31.7a13.29,13.29,0,0,0-3.88-9.46l0,0A13.41,13.41,0,0,0,19,31.7V164.82H.64Z"}),m("path",{fill:"#2b143e",fillRule:"evenodd",d:"M154.21,54v68.17a13.34,13.34,0,0,0,3.89,9.47h0A13.39,13.39,0,0,0,181,122.14V99.32h-.06a31.63,31.63,0,0,1,9.29-22.38l0,0a31.65,31.65,0,0,1,44.8,0l0,0a31.58,31.58,0,0,1,9.3,22.39V118H226V99.32a13.3,13.3,0,0,0-3.89-9.46h0a13.44,13.44,0,0,0-18.93,0l0,0a13.3,13.3,0,0,0-3.83,8.19v24.09a31.7,31.7,0,0,1-54.11,22.42v0a31.66,31.66,0,0,1-9.3-22.4V54Z"}),m("path",{fill:"#2b143e",fillRule:"evenodd",d:"M729.19,96.34c-8.65,0-14.26,3.17-17.67,8-3.41-5.12-8.78-8-16-8-8.16,0-13.52,3.17-16.32,7.31v-5.6H661V159h18.28V124.62c0-7.19,3.41-11.46,9.5-11.46,5.85,0,8.78,3.9,8.78,10V159h18.27V124.62c0-7.19,3.42-11.46,9.51-11.46,5.85,0,8.77,3.9,8.77,10V159h18.28V121.57C752.34,106.33,743.2,96.34,729.19,96.34Z"}),m("path",{fill:"#2b143e",fillRule:"evenodd",d:"M629.26,98.05v33.26c0,8.66-4.63,12.56-11.33,12.56-5.85,0-10.6-3.54-10.6-11.09V98.05H589.05v37.41c0,16.45,10.48,25.22,22.79,25.22,8,0,14.13-2.92,17.42-7.43V159h18.28V98.05Z"}),m("rect",{fill:"#2b143e",x:"558.22",y:"98.05",width:"18.28",height:"60.93"}),m("path",{fill:"#2b143e",fillRule:"evenodd",d:"M567.36,92.68a11,11,0,1,0-11-11A11.08,11.08,0,0,0,567.36,92.68Z"}),m("path",{fill:"#ea580c",fillRule:"evenodd",d:"M478.77,159H498V116.57L525.66,159H549.2l-22.3-34.75c5.45-2.13,8.12-4.14,11.48-8.86a31.07,31.07,0,0,0,6.07-18.26V94.62c0-10.61-3.45-15.93-9.28-21.78S520.75,63.09,510,63.09H478.71l.06,95.89Zm33.1-50.27h-6.46v-.06H498V82.19h10.87c4.67,0,9.44,1.38,11.94,3.81a12.84,12.84,0,0,1,3.81,9.2C524.58,102.52,518.92,108.71,511.87,108.71Z"}),m("polygon",{fill:"#ea580c",fillRule:"evenodd",points:"372.91 60.8 372.91 158.98 392.16 158.98 392.16 119.23 419.91 157.41 447.61 119.23 447.61 158.98 466.87 158.98 466.87 60.8 419.91 125.22 372.91 60.8"}),m("polygon",{fill:"#ea580c",fillRule:"evenodd",points:"283.89 61.04 283.89 159.1 303.14 159.1 303.14 105.85 361.01 160.93 361.01 62.83 341.67 62.83 341.67 116.08 283.89 61.04"})]})}const tZ=X`
  display: flex;
  flex-direction: column;
  user-select:
  button:focus {
    outline: none;
  }
  .header {
    height: 34px;
    border-bottom: 1px solid #f0f0f0;
    display: flex;
    padding: 5px;

    span {
      color: #464646;
      font-size: 15px;
      flex: 1;
      user-select: none;

    }

    button {
      background-color: transparent;
      border: none;
      svg {
        height: 16px;
      }
    }
  }
  .container {
    width: 100%;
    height: 100%;
    padding: 20px;
  }

  .center-container {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  ul {
    list-style-type: disc;
    margin-left:20px;
    }
  span,li{
    user-select: text;
  }
  span.title {
    font-weight: bold;
    color: #ea580c;
  }
  span.content {
    color: #2b143e;
    font-size: 14px;
    text-align: left;
  }

  img {
    width: 100px;
  }

  a {
    color: #969696;
  }

  a:hover,
  a:focus {
    color: #00bcd4;
  }

  .separator {
    border-bottom: 1px solid gray;
    width: 15px;
    height: 1px;
    margin: 10px 0px;
  }
`;function nZ({onClose:e=()=>null}){return $("div",{css:tZ,children:[$("div",{className:"header handle",children:[h("span",{children:"About NMRium"}),h(At,{onClick:e})]}),$("div",{className:"container",children:[$("div",{className:"center-container",children:[h(eZ,{width:160,height:50}),"Version ",h(rZ,{}),h("span",{className:"separator"}),h("a",{href:"https://git.nmrium.org",target:"_blank",rel:"noreferrer",children:"GitHub ( https://git.nmrium.org )"})]}),h("div",{className:"center-container",children:h("span",{className:"separator"})}),h("span",{className:"content",children:"This project is developed by Zakodium S\xE0rl (Switzerland), the University of Cologne (Germany), Johannes Gutenberg University Mainz (Germany) and Universidad del Valle (Colombia)."}),$("div",{className:"center-container",children:[h("span",{className:"separator"}),h("span",{className:"title",children:"Funding is provided by"}),h("span",{className:"separator"})]}),h("div",{className:"content",children:$("ul",{children:[h("li",{children:"IDNMR grant, which part of the Scientific Library Services and Information Systems (LIS) initiative of the DFG."}),h("li",{children:"Zakodium S\xE0rl (Switzerland)."}),h("li",{children:"Universidad del Valle (Cali, Colombia)."})]})})]})]})}function rZ(){const{version:e}=QY;return e==="HEAD"?h(Xn,{children:"HEAD"}):e.startsWith("git-")?$("a",{href:`https://github.com/cheminfo/nmrium/tree/${e.slice(4)}`,target:"_blank",rel:"noreferrer",children:["git-",e.slice(4,14)]}):h("a",{href:`https://github.com/cheminfo/nmrium/tree/${e}`,target:"_blank",rel:"noreferrer",children:e})}function oZ(){return G(In,{children:[m("p",{className:"section-header",children:"Spectra"}),m(qe,{title:"Transparency of Dimmed Spectra [ 0 - 1 ]",children:m(Le,{name:"controllers.dimmedSpectraTransparency",checkValue:e=>e>=0&&e<=1,type:"number"})})]})}const iZ=[{label:"Spectra selection panel",name:"display.panels.hideSpectraPanel"},{label:"Spectra information Panel",name:"display.panels.hideInformationPanel"},{label:"Peaks and peak picking",name:"display.panels.hidePeaksPanel"},{label:"Integration and integrals",name:"display.panels.hideIntegralsPanel"},{label:"1D ranges peak picking",name:"display.panels.hideRangesPanel"},{label:"Chemical structure panel",name:"display.panels.hideStructuresPanel"},{label:"Filters Panel",name:"display.panels.hideFiltersPanel"},{label:"2D zones peak picking",name:"display.panels.hideZonesPanel"},{label:"Assignment summary Panel",name:"display.panels.hideSummaryPanel"},{label:"Multiple Spectra Analysis Panel",name:"display.panels.hideMultipleSpectraAnalysisPanel"},{label:"Database Panel",name:"display.panels.hideDatabasePanel"},{label:"Prediction Panel",name:"display.panels.hidePredictionPanel"},{label:"Experimental Features",name:"display.general.hideExperimentalFeatures"}];function aZ({preferences:e}){return G(In,{children:[m("p",{className:"section-header",children:"Show / Hide Panels"}),iZ.map(t=>!ve(e,`basePreferences.${t.name}`,!1)&&m(vr,{className:"checkbox-element",label:t.label,name:t.name,reverse:!0},t.name))]})}const sZ=X`
  .counter-col {
    width: 30px;
  }
  .nucleus-label-col {
    display: flex;
    justify-content: center;
    width: 80px;
  }

  .width-100 {
    width: 100% !important;
    margin: 0px !important;
  }

  .nucleus-format-input-col {
    text-align: center;
    width: 100px;
  }

  th {
    font-size: 11px;
    font-weight: 600;
  }
  .operation-container {
    display: flex;
  }
  .add {
    background-color: transparent;
    border: 0;
    outline: none;
    svg {
      font-szie: 14px;
      fill: green;
    }
  }
`;function lZ(){const{values:e,setFieldValue:t}=xt(),n=d.exports.useMemo(()=>ve(e,"formatting.nucleus",[]),[e]),r=d.exports.useCallback(i=>{const a=n.splice(0,i);t("formatting.nucleus",a)},[n,t]),o=d.exports.useCallback(()=>{const i={key:Ge(),name:"",ppm:"0.00",hz:"0.00"},a=[...n,i];t("formatting.nucleus",a)},[n,t]);return $(d.exports.Fragment,{children:[h("p",{className:"section-header",children:"Formating according to Nucleus"}),h("div",{css:sZ,children:$("table",{children:[h("thead",{children:$("tr",{children:[h("th",{className:"counter-col",children:"#"}),h("th",{className:"nucleus-label-col",children:"Nucleus "}),h("th",{className:"nucleus-format-input-col",children:"\u03B4 (ppm)"}),h("th",{className:"nucleus-format-input-col",children:"Coupling (Hz)"}),h("th",{className:"nucleus-format-input-col"})]})}),h("tbody",{children:n==null?void 0:n.map((i,a)=>{const s=a+1;return $("tr",{children:[$("td",{className:"counter-col",children:[$("span",{children:[s," - "]})," "]}),h("td",{className:"nucleus-label-col",children:h(Le,{name:`formatting.nucleus.${a}.name`,className:"width-100"})}),h("td",{className:"nucleus-format-input-col",children:h(Le,{name:`formatting.nucleus.${a}.ppm`,className:"width-100"})}),h("td",{className:"nucleus-format-input-col",children:h(Le,{name:`formatting.nucleus.${a}.hz`,className:"width-100"})}),$("td",{className:"operation-container",children:[h(At,{onClick:()=>r(a),popupTitle:`remove ${i.name}`,popupPlacement:"right"}),n.length===a+1&&h("button",{className:"add",type:"button",onClick:o,children:h(ci,{})})]})]},`${i.key}`)})})]})})]})}const cZ=X`
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  .header {
    text-align: center;
    padding: 10px 0 10px 0px;
    margin: 0px;
    color: #005d9e;
    place-items: normal;
    text-transform: none;
    background-color: #fcfcfc;
  }
  .main-content {
    width: 100%;
    flex: 1;
    overflow: auto;
    border: none;
  }

  .tab-content {
    width: 100%;
  }

  .inner-content {
    padding: 15px 30px;
    width: 100%;
    overflow: auto;
  }

  button:focus {
    outline: none;
  }
  button:hover {
    color: #007bff;
  }
  .btn:hover {
    background-color: #ffffff;
  }
  .btn {
    border: none;
    padding: 0 15px;
    background-color: #ffffff5e;
    border-radius: 5px;
    height: 25px;
  }

  .footer-container {
    display: flex;
    align-items: flex-end;
    justify-content: flex-end;
    background: rgb(242, 242, 242);
    background: -moz-linear-gradient(
      0deg,
      rgba(242, 242, 242, 1) 0%,
      rgba(245, 245, 245, 1) 37%,
      rgba(255, 255, 255, 1) 90%
    );
    background: -webkit-linear-gradient(
      0deg,
      rgba(242, 242, 242, 1) 0%,
      rgba(245, 245, 245, 1) 37%,
      rgba(255, 255, 255, 1) 90%
    );
    background: linear-gradient(
      0deg,
      rgba(242, 242, 242, 1) 0%,
      rgba(245, 245, 245, 1) 37%,
      rgba(255, 255, 255, 1) 90%
    );
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#f2f2f2",endColorstr="#ffffff",GradientType=1);
    padding: 6px 15px;
    height: 55px;
  }

  .section-header {
    font-size: 13px;
    color: #2ca8ff;
    margin-bottom: 10px;
    border-bottom: 0.55px solid #f9f9f9;
    padding: 6px 2px;
  }

  .label {
    font-size: 12px;
    font-weight: bold;
    margin-right: 10px;
  }

  .input {
    font-size: 14px;
    border-radius: 5px;
    border: 1px solid #cccccc;
    padding: 5px;
    width: 100px;
    margin-right: 10px;
    height: initial !important;
  }

  .close-bt {
    border: none;
    color: red;
    background-color: transparent;
    outline: none;
    position: absolute;
    right: 10px;
    top: 2px;
    width: 30px;
    height: 30px;
  }

  .checkbox-label {
    min-width: 300px;
    display: inline-block;
  }

  .help-checkbox-element {
    .checkbox-label {
      width: 260px;
    }
  }
  .checkbox-element {
    margin-bottom: 5px;
  }
`;function uZ({onClose:e}){const[t,n]=d.exports.useState("controllers"),r=dt(),o=mt(),i=d.exports.useRef(),a=d.exports.useCallback(()=>{i.current.submitForm()},[]),s=d.exports.useCallback(()=>{r.dispatch({type:Vv}),o.success("Settings saved successfully"),e==null||e()},[o,e,r]),c=d.exports.useCallback(u=>{r.dispatch({type:jv,payload:u}),o.success("Settings saved successfully"),e==null||e()},[o,e,r]),l=d.exports.useCallback(u=>{n(u.tabid)},[]);return $("div",{css:cZ,children:[$("div",{className:"header handle",children:[h("span",{children:"General Settings"}),h(At,{onClick:e,className:"close-bt"})]}),h("div",{className:"main-content",children:h(bt,{ref:i,initialValues:r,onSubmit:c,children:$(vi,{position:gp.LEFT,activeTab:t,onClick:l,children:[h(fn,{tablabel:"Controllers",tabid:"controllers",children:h("div",{className:"inner-content",children:h(oZ,{})})}),h(fn,{tablabel:"Formatting",tabid:"formatting",children:h("div",{className:"inner-content",children:h(lZ,{})})}),h(fn,{tablabel:"Display",tabid:"display",children:h("div",{className:"inner-content",children:h(aZ,{preferences:r})})})]})})}),$("div",{className:"footer-container",children:[h("button",{type:"button",onClick:s,className:"btn",children:"Reset"}),h("button",{type:"button",onClick:a,className:"btn",children:"Save"})]})]})}const xn={container:{height:"100%",display:"flex",fontSize:"12px"},input:{width:"50px"},inputContainer:{flex:"2"},label:{flex:"5"},actionButton:{height:"100%",width:"60px",borderRadius:"5px",border:"0.55px solid #c7c7c7",margin:"0px 5px",userSelect:"none"}};function dZ(){const e=Re(),t=d.exports.useRef(),n=d.exports.useRef(),r=d.exports.useRef(),o=d.exports.useRef(),i=d.exports.useCallback(()=>{e({type:Db,options:{maxNumberOfPeaks:n.current.value,minMaxRatio:t.current.value,noiseFactor:r.current.value,lookNegative:o.current.checked}})},[e]),a=d.exports.useCallback(()=>{e({type:En})},[e]);return G("div",{style:xn.container,children:[m(Zo,{ref:n,label:"Max Number Of Peaks:",name:"maxNumberOfPeaks",style:{input:xn.input,inputContainer:xn.inputContainer,label:xn.label},defaultValue:50}),m(Zo,{ref:r,label:"Noise factor",name:"noiseFactor",style:{input:xn.input,inputContainer:xn.inputContainer,label:xn.label},defaultValue:3}),m(Zo,{ref:t,label:"Min Max Ratio:",name:"minMaxRatio",style:{input:xn.input,inputContainer:xn.inputContainer,label:xn.label},defaultValue:.1,step:"0.01"}),G("div",{style:{justifyItems:"baseline",marginRight:"3px"},children:[m("label",{style:{marginRight:"2px",lineHeight:2,userSelect:"none"},htmlFor:"lookNegative",children:"Detect Negative:"}),m(Ta,{name:"lookNegative",ref:o})]}),m("button",{type:"button",style:xn.actionButton,onClick:i,children:"Apply"}),m("button",{type:"button",style:xn.actionButton,onClick:a,children:"Cancel"})]})}const Vs={container:{padding:"5px",height:"100%",display:"flex",alignItems:"center"},label:{lineHeight:2,userSelect:"none"},actionButton:{height:"100%",width:"60px",borderRadius:"5px",border:"0.55px solid #c7c7c7",margin:"0px 5px",userSelect:"none"}};function pZ(){const e=Re(),t=d.exports.useRef(),n=d.exports.useRef(),[r,o]=d.exports.useState("polynomial"),i=d.exports.useCallback(u=>{let p={};switch(r){case"airpls":p=S({algorithm:n.current.value},u);break;case"polynomial":p=S({algorithm:n.current.value},u);break}e({type:Gb,options:p})},[r,e]),a=d.exports.useCallback(()=>{e({type:En})},[e]),s=d.exports.useCallback(()=>Object.keys(cu).map(u=>({key:u,label:cu[u],value:u})),[]),c=d.exports.useCallback(u=>{o(u)},[]),l=d.exports.useMemo(()=>{switch(r){case"airpls":return{validation:Ke().shape({maxIterations:ft().integer().min(1).required(),tolerance:ft().moreThan(0).required()}),initialValue:{maxIterations:100,tolerance:.001}};case"autoPolynomial":case"polynomial":return{validation:Ke().shape({degree:ft().integer().min(1).max(6).required()}),initialValue:{degree:3}};default:return{validation:{},initialValue:{}}}},[r]);return G("div",{style:Vs.container,children:[m("span",{style:Vs.label,children:"Algorithm: "}),m(hn,{ref:n,data:s(),style:{marginLeft:10,marginRight:10},onChange:c,defaultValue:"polynomial"}),G(bt,{ref:t,onSubmit:i,initialValues:l.initialValue,validationSchema:l.validation,children:[r&&r==="airpls"&&G("div",{style:{display:"flex"},children:[m(qe,{title:"maxIterations:",children:m(Le,{type:"number",name:"maxIterations"})}),m(qe,{title:"tolerance:",style:{label:{padding:"0 5px"}},children:m(Le,{type:"number",name:"tolerance"})})]}),r&&["autoPolynomial","polynomial"].includes(r)&&m(qe,{title:"degree [ 1 - 6 ]:",children:m(Le,{type:"number",name:"degree",min:1,max:6,style:{inputWrapper:{height:"100%"}}})})]},JSON.stringify(l.initialValue)),m("button",{type:"button",style:Vs.actionButton,onClick:()=>t.current.submitForm(),children:"Apply"}),m("button",{type:"button",style:Vs.actionButton,onClick:a,children:"Cancel"})]})}const C0={container:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",border:"0.55px solid #c7c7c7",borderRadius:"5px",userSelect:"none",backgroundColor:"#18ce0f14",fontSize:"10px",color:"#00801d",margin:"0px 5px",cursor:"ew-resize"},label:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"100%",paddingLeft:"5px",paddingRight:"5px"}};function fZ(e,t){const{name:n,value:r=0,onChange:o,label:i,style:a,className:s}=e,c=d.exports.useRef(0),l=d.exports.useRef(r);d.exports.useImperativeHandle(t,()=>({setValue:p=>{l.current=p}}));const u=d.exports.useCallback(p=>{function f(v){let x=v.clientX-c.current;if(c.current=v.clientX,v.buttons===1){const y=x/(v.shiftKey?10:1);l.current=l.current+y,o({value:l.current,name:n})}}function g(){window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",g)}c.current=p.clientX,window.addEventListener("mousemove",f),window.addEventListener("mouseup",g)},[n,o]);return m("div",{style:S(S({},C0.container),a),className:s,onMouseDown:u,children:m("span",{style:C0.label,children:i})})}var k0=d.exports.forwardRef(fZ);const Io={container:{padding:"5px",height:"100%",display:"flex"},input:{width:"100px"},actionButton:{height:"100%",width:"60px",borderRadius:"5px",border:"0.55px solid #c7c7c7",margin:"0px 5px",userSelect:"none"},select:{marginLeft:"5px",marginRight:"10px",border:"none",height:"20px"}},Cn={manual:"manual",automatic:"automatic",absolute:"absolute"},hZ=[{key:Cn.manual,label:"Manual",value:Cn.manual},{key:Cn.automatic,label:"Automatic",value:Cn.automatic},{key:Cn.absolute,label:"Absolute",value:Cn.absolute}];function gZ({data:e,pivot:t,filter:n}){const r=Re(),[o,i]=d.exports.useState({ph0:0,ph1:0}),a=d.exports.useRef({ph0:0,ph1:0}),s=d.exports.useRef(),c=d.exports.useRef(),[l,u]=d.exports.useState(Cn.manual);d.exports.useEffect(()=>{n?(a.current=n.value,i(n.value),s.current.setValue(n.value.ph0),c.current.setValue(n.value.ph1)):(s.current.setValue(a.current.ph0),c.current.setValue(a.current.ph1))},[n]);const p=d.exports.useCallback(()=>{switch(l){case Cn.automatic:{r({type:Ob});break}case Cn.manual:{r({type:Fb,value:o});break}case Cn.absolute:{r({type:$b});break}}},[r,l,o]),f=d.exports.useCallback((w,k)=>{if(k==="ph1"&&e.re){const _=w.ph0-a.current.ph0,R=w.ph1-a.current.ph1;w.ph0+=_-R*(t==null?void 0:t.index)/e.re.length}r({type:Hd,value:w})},[e.re,r,t==null?void 0:t.index]),g=d.exports.useCallback(w=>{const{name:k,value:_}=w.target;if(w.target){const R=P(S({},a.current),{[k]:_});String(_).trim()!=="-"&&f(R,k),a.current=R,i(a.current)}},[f]),v=d.exports.useCallback(w=>{const k=P(S({},a.current),{[w.name]:w.value});f(k,w.name),a.current=k,i(a.current)},[f]),x=d.exports.useCallback(()=>{r({type:En})},[r]),y=d.exports.useCallback(w=>{u(w)},[]);return G("div",{style:Io.container,children:[m(hn,{onChange:y,data:hZ,defaultValue:Cn.manual,style:Io.select}),l===Cn.manual&&G(In,{children:[m(qe,{title:"PH0 :",style:{wrapper:{marginRight:"5px"}},children:m(Tr,{name:"ph0",style:{input:Io.input},onChange:g,value:o.ph0,type:"number",debounceTime:500})}),m(qe,{title:"PH1 :",children:m(Tr,{name:"ph1",style:{input:Io.input},onChange:g,value:o.ph1,type:"number",debounceTime:500})}),m(k0,{ref:s,name:"ph0",label:"Change Ph0 By mouse click and drag",style:{width:"20%"},onChange:v}),m(k0,{ref:c,name:"ph1",label:"Change Ph1 By mouse click and drag",style:{width:"20%"},onChange:v})]}),m("button",{type:"button",style:Io.actionButton,onClick:p,children:"Apply"}),m("button",{type:"button",style:Io.actionButton,onClick:x,children:"Cancel"})]})}const mZ=d.exports.memo(gZ),bZ={datum:{},filter:null};function vZ(){const{toolOptions:{data:{pivot:e}}}=ce(),{data:t,filters:n}=Vt(bZ),r=d.exports.useMemo(()=>n.find(o=>o.name===oo)||null,[n]);return m(mZ,{data:t,filter:r,pivot:e})}const Xr={container:{padding:"5px",height:"100%",display:"flex",fontSize:"12px",alignItems:"baseline"},input:{height:"100%",width:"50px",borderRadius:"5px",border:"0.55px solid #c7c7c7",margin:"0px 5px 0px 5px",textAlign:"center"},inputContainer:{flex:2},label:{flex:5},actionButton:{height:"100%",minWidth:"60px",borderRadius:"5px",border:"0.55px solid #c7c7c7",margin:"0px 5px",userSelect:"none",padding:"3px"},hint:{lineHeight:2,userSelect:"none",fontSize:"11px"}};function xZ(){const e=Re(),t=d.exports.useRef(),n=d.exports.useRef(),r=d.exports.useCallback(()=>{e({type:Ib,options:{peakPicking:{minMaxRatio:Number(n.current.value)||.05,lookNegative:t.current.checked}}})},[e]),o=d.exports.useCallback(()=>{e({type:En})},[e]);return G("div",{style:Xr.container,children:[G("div",{style:{justifyItems:"baseline",margin:"0 10px"},children:[m("label",{style:{marginRight:"2px",lineHeight:2,userSelect:"none"},htmlFor:"lookNegative",children:"Detect negative:"}),m(Ta,{name:"lookNegative",ref:t})]}),m(Zo,{ref:n,label:"Min Max Ratio:",name:"minMaxRatio",style:{input:Xr.input,inputContainer:Xr.inputContainer,label:Xr.label},defaultValue:.05,step:"0.01"}),m("button",{type:"button",style:Xr.actionButton,onClick:r,"data-test-id":"auto-ranges-detection-btn",children:"Auto ranges picking"}),m("button",{type:"button",style:Xr.actionButton,onClick:o,children:"Cancel"}),m("span",{style:Xr.hint,children:"Manual selection using SHIFT + select zone or click on Auto peak picking"})]})}const No={container:{padding:"5px",height:"100%",display:"flex"},input:{height:"100%",width:"80px",borderRadius:"5px",border:"0.55px solid #c7c7c7",margin:"0px 5px 0px 5px",textAlign:"center"},actionButton:{height:"100%",width:"60px",borderRadius:"5px",border:"0.55px solid #c7c7c7",margin:"0px 5px",userSelect:"none"},label:{lineHeight:2,userSelect:"none"}},yZ=Qp(8,21);function wZ(){const e=Re(),{data:t,activeSpectrum:n}=ce(),r=d.exports.useRef(),[o,i]=d.exports.useState(1),a=d.exports.useCallback(()=>{e({type:Pb,value:{zeroFillingSize:Number(r.current.value),lineBroadeningValue:o}})},[e,o]),s=d.exports.useCallback(()=>t&&(n==null?void 0:n.id)?2**Math.round(Math.log2(t[n.index].data.x.length)):"",[n,t]),c=d.exports.useCallback(u=>{if(u.target){const p=u.target.validity.valid?Number(u.target.value):o;i(p)}},[o]),l=d.exports.useCallback(()=>{e({type:En})},[e]);return G("div",{style:No.container,children:[m("span",{style:No.label,children:"Size: "}),m(hn,{ref:r,data:yZ,style:{marginLeft:10,marginRight:10},defaultValue:s()}),m("span",{style:No.label,children:"Line Broadening: "}),m("input",{name:"line-broadening",style:No.input,type:"number",defaultValue:o,onInput:c,pattern:"^\\d*(\\.\\d{0,2})?$",step:"any"}),m("button",{type:"button",style:No.actionButton,onClick:a,children:"Apply"}),m("button",{type:"button",style:No.actionButton,onClick:l,children:"Cancel"})]})}const Lo={container:{padding:"5px",height:"100%",display:"flex",fontSize:"12px"},input:{width:"50px"},inputContainer:{flex:"2"},label:{flex:"5"},actionButton:{height:"100%",borderRadius:"5px",border:"0.55px solid #c7c7c7",margin:"0px 5px",userSelect:"none"}};function SZ(){const e=Re(),t=d.exports.useRef(),n=d.exports.useCallback(()=>{e({type:Nb,options:{thresholdFactor:t.current.value}})},[e]),r=d.exports.useCallback(()=>{e({type:En})},[e]),o=d.exports.useCallback(i=>{i.target&&e({type:Cv,payload:i.target.value})},[e]);return G("div",{style:Lo.container,children:[m(Zo,{ref:t,label:"NoiseFactor",name:"noiseFactor",style:{input:Lo.input,inputContainer:Lo.inputContainer,label:Lo.label},defaultValue:1,onChange:o}),m("button",{type:"button",style:Lo.actionButton,onClick:n,children:"Auto Zones Picking"}),m("button",{type:"button",style:Lo.actionButton,onClick:r,children:"Cancel"})]})}function CZ(e){const{isFullscreen:t,onMaximize:n=()=>null,selectedOptionPanel:r,hideGeneralSettings:o}=e,i=Tt(),a=d.exports.useMemo(()=>{switch(r){case K.zeroFilling.id:return m(wZ,{});case K.phaseCorrection.id:return m(vZ,{});case K.peakPicking.id:return m(dZ,{});case K.rangesPicking.id:return m(xZ,{});case K.baseLineCorrection.id:return m(pZ,{});case K.zone2D.id:return m(SZ,{})}},[r]),s=d.exports.useCallback(()=>{i.show(m(uZ,{}),{position:tt.TOP_CENTER,enableResizing:!0,width:600,height:400})},[i]),c=d.exports.useCallback(()=>{i.show(m(nZ,{}),{isBackgroundBlur:!1,position:tt.MIDDLE,width:500,height:480})},[i]);return G(KS,{children:[G("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[m("div",{children:m(tn,{orientation:"horizontal",children:m(tn.Item,{onClick:c,titleOrientation:"horizontal",id:"logo",title:"About NMRium",children:m("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:m(j8,{})})})})}),m("div",{className:"toolOptionsPanel",children:a})]}),G(tn,{orientation:"horizontal",children:[m(tn.Item,{id:"user-manual",title:"User manual",onClick:()=>window.open(JY,"_blank"),children:m(qS,{})}),!o&&m(tn.Item,{id:"general-settings",onClick:s,title:"General settings",children:m(JS,{})}),!t&&m(tn.Item,{id:"full-screen",onClick:n,title:"Full Screen",className:"windowButton",children:m(QS,{})})]})]})}const kZ=d.exports.memo(CZ);function EZ({isFullscreen:e,onMaximize:t}){const{toolOptions:{selectedOptionPanel:n}}=ce(),{display:{general:r}}=dt();return m(kZ,{selectedOptionPanel:n,isFullscreen:e,onMaximize:t,hideGeneralSettings:(r==null?void 0:r.hideGeneralSettings)||!1})}const $t={MOL:"mol",NMRIUM:"nmrium",JSON:"json",DX:"dx",JDX:"jdx",JDF:"jdf",ZIP:"zip",NMREDATA:"nmredata"},_Z={ZIP:"504b0304"};function TZ(e){return new Uint8Array(e).slice(0,4).reduce((t,n)=>t+=n.toString(16).padStart(2,"0"),"")}async function RZ(e,t={asBuffer:!1}){const n=await fetch(e);return AZ(n),t.asBuffer?n.arrayBuffer():n.text()}function AZ(e){if(!e.ok)throw new Error(`HTTP ${e.status} - ${e.statusText}`);return e}function Uo(e){return e.replace(/^.*\./,"").toLowerCase()}function v2(e){return e.substr(0,e.lastIndexOf("."))}function PZ(e){const t=e.replace(/^.*[\\/]/,"").split(".");return{name:t[0].toLowerCase(),extension:t[1].toLowerCase()}}function Kr(e,t={}){return Promise.all([].map.call(e,n=>new Promise((r,o)=>{const i=new FileReader;i.onabort=a=>o(a),i.onerror=a=>o(a),i.onload=()=>{if(i.result){const a=i.result,s=v2(n.name),c=Uo(n.name);r({binary:a,name:s,extension:c})}},t.asBuffer?i.readAsArrayBuffer(n):i.readAsBinaryString(n)})))}async function Gs(e,t={}){const n=[];for(const r of e)try{const o=await r.async(t.asBuffer?"uint8array":"text"),i=v2(r.name),a=Uo(r.name);n.push({binary:o,name:i,extension:a})}catch(o){console.error(o)}return n}const MZ=X`
  height: 100%;
  background-color: #b5b5b599;
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-flow: column;
  z-index: 99999;

  p {
    color: white;
    background-color: rgb(104, 104, 104);
    padding: 1.5%;
    border-radius: 30px;
    margin: 0px;
  }

  svg {
    stroke-width: 0;
    font-size: 3rem !important;
    fill: white;
  }
`,FZ=X`
  border: 0.55px #e6e6e6 solid;
  display: flex;
  flex: 1;
  flex-direction: 'column';
  height: 100%;
`;function OZ(e){const{width:t,height:n}=ce(),r=Re(),o=mt(),i=d.exports.useCallback(async(g,v)=>{for(let x of v){const y=g.filter(w=>Uo(w.name)===x);switch(x){case $t.MOL:{const w=await Gs(y);r({type:mu,files:w});break}case $t.NMRIUM:case $t.JSON:{const w=await Gs(y,{asBuffer:!0});if(y.length===1){const k=new TextDecoder("utf8");w[0].binary=k.decode(w[0].binary),r({type:ll,files:w})}else throw new Error("You can add only one json file");break}case $t.JDX:case $t.DX:{const w=await Gs(y,{asBuffer:!0});r({type:cl,files:w});break}case $t.JDF:{const w=await Gs(y,{asBuffer:!0});r({type:bu,files:w});break}}}},[r]),a=d.exports.useCallback(async g=>{const v=[...new Set(g.map(x=>Uo(x.name)))];for(let x of v){const y=g.filter(w=>Uo(w.name)===x);try{switch(x){case $t.MOL:{const w=await Kr(y);r({type:mu,files:w});break}case $t.NMRIUM:case $t.JSON:if(y.length===1){const w=await Kr(y,{asBuffer:!0});if(TZ(w[0].binary)===_Z.ZIP){const _=await Ko.loadAsync(w[0].binary);await i(Object.values(_.files),[$t.NMRIUM])}else{const _=new TextDecoder("utf8");w[0].binary=_.decode(w[0].binary),r({type:ll,files:w})}}else throw new Error("You can add only one json file");break;case $t.JDX:case $t.DX:{const w=await Kr(y,{asBuffer:!0});r({type:cl,files:w});break}case $t.JDF:{const w=await Kr(y,{asBuffer:!0});r({type:bu,files:w});break}case $t.ZIP:{const w=await Kr(y,{asBuffer:!0});for(const k of w){const _=await Ko.loadAsync(k.binary),R=[...new Set(Object.values(_.files).map(N=>Uo(N.name)))];R.some(N=>$t[N.toUpperCase()]&&N!==$t.ZIP)?(Object.keys(_.files).some(H=>["2rr","fid","1r"].some(A=>H.endsWith(A)))&&r({type:ul,files:w}),await i(Object.values(_.files),R)):r({type:ul,files:w})}break}case $t.NMREDATA:Kr(y,{asBuffer:!0}).then(async w=>{for(const k of w)r({type:Ad,file:k})});break;default:throw new Error("The file extension must be zip, dx, jdx, json, mol, nmredata or nmrium.")}}catch(w){r({type:Er,isLoading:!1}),o.error(w.message)}}},[o,r,i]),s=d.exports.useCallback(g=>{r({type:Er,isLoading:!0}),a(g)},[r,a]),{getRootProps:c,getInputProps:l,isDragActive:u,open:p}=eC({onDrop:s,noClick:!0}),f=d.exports.useCallback(()=>{p()},[p]);return h(f4,{value:f,children:$("div",P(S({},c()),{role:"none",css:FZ,children:[h("input",S({"data-test-id":"dropzone-input"},l())),u&&$("div",{css:MZ,style:{width:`${t}px`,height:`${n}px`,marginTop:"30px",marginLeft:"30px"},children:[h(tC,{}),h("p",{children:"Drop your files here"})]}),e.children]}))})}const $Z=[Vd,Bl,_b,En,pl,Er,hb,mb,Hb,Ca,Bd,zd,gb,Fd,Ll,Md,zl,$d,Hd,Ld,ti,i4,o4,jd,ra,Od,dl,vb,fl];function DZ(e){return!$Z.includes(e)}const IZ=X`
  .menu {
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
    padding: 0px;
    margin: 0px;
    border-radius: 5px;
    display: flex;
    flex-direction: column;
    position: absolute;
    z-index: 99999;
    padding: 2px;
    background-color: white;

    button:hover {
      background-color: #fafafa;
    }
  }

  .menu-cover {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: 1;
  }

  .menu-item {
    background-color: transparent;
    border: none;
    border-bottom: 0.55px solid whitesmoke;
    height: 35px;
    outline: outline;
    display: table-cell;
    vertical-align: middle;
    text-align: left;
    padding: 0 10px;

    svg {
      display: inline-block;
    }

    :focus {
      outline: none !important;
    }
    span {
      font-size: 10px;
      padding: 0px 10px;
    }
  }
`;function NZ({icon:e,label:t,onClick:n}){return $("button",{type:"button",className:"menu-item",onClick:n,children:[e,h("span",{children:t})]})}function LZ({items:e,boxBounding:t,onClick:n}){const r=d.exports.useRef(),[o,i]=d.exports.useState({x:t.width,y:t.height});return d.exports.useLayoutEffect(()=>{const a=r.current.getBoundingClientRect();i(s=>{let c=t.height;return a.bottom>window.innerHeight&&(c=t.height*2+(a.bottom-window.innerHeight)),P(S({},s),{y:c})})},[t.height]),h("div",{ref:r,className:"menu",style:{transform:`translate(${o.x}px, -${o.y}px) `},children:e==null?void 0:e.map(a=>h(NZ,P(S({},a),{onClick:()=>n(a)}),a.id))})}function E0({component:e,toolTip:t="",items:n=[],onClick:r=()=>null}){const o=d.exports.useRef(null),[i,a]=d.exports.useState(!1),s=d.exports.useCallback(()=>{a(!1)},[]),c=d.exports.useCallback(()=>{a(p=>!p)},[]),l=d.exports.useCallback(p=>{a(!1),r(p)},[r]),u=d.exports.useCallback(()=>{var p;return(p=o.current)==null?void 0:p.getBoundingClientRect()},[]);return $("div",{style:{height:"auto"},css:IZ,children:[h("div",{ref:o,children:h(tn.Item,{id:`menu-${t}`,title:t,active:i,onClick:c,children:e})}),i&&h(LZ,{items:n,boxBounding:u(),onClick:l}),i&&h("div",{className:"menu-cover",onClick:s})]})}const HZ={info:{},datum:{},ftCounter:0,fidCounter:0};function x2(){const{data:e,activeSpectrum:t,activeTab:n}=ce();return d.exports.useMemo(()=>{if(e){let r={},o={},i=0,a=0;for(const s of e){const{isFid:c,isFt:l,nucleus:u}=s.info;n===Mr(u)&&(c&&a++,l&&i++,t&&s.id===t.id&&(r=s.info,o=s.data))}return{info:r,datum:o,ftCounter:i,fidCounter:a}}return HZ},[t,e,n])}function zZ(e){const v=e,{name:t,style:n={},onChange:r=()=>null,className:o="",value:i,placeholder:a=""}=v,s=he(v,["name","style","onChange","className","value","placeholder"]),{values:c,handleChange:l,setFieldValue:u,errors:p}=xt(),f=d.exports.useCallback(x=>{r(x),l(x)},[l,r]);d.exports.useEffect(()=>{i&&u(t,i)},[t,u,i]);const g=d.exports.useMemo(()=>ve(p,t),[p,t]);return m("textarea",S({name:t,className:o,placeholder:a,value:i||ve(c,t),onChange:f,style:S(S({},n),g&&{borderColor:"red",borderWidth:"1px",outline:"none"})},s))}const BZ=X`
  width: 600px;
  height: 300px;

  .inner-content {
    flex: 1;
    border: none;
    overflow: hidden;
    padding: 0px;
  }

  .text-area {
    width: 100%;
    height: 100%;
    outline: none;
    resize: none;
    padding: 0 0 0 15px;
  }
`,jZ=Ke({publicationText:Yo().required()});function VZ({onClose:e}){const t=d.exports.useRef(),n=Re(),r=mt(),o=d.exports.useCallback(async i=>{const a=await r.showLoading("Generate spectrum from publication string in progress");setTimeout(()=>{n({type:Av,payload:i}),a()}),e()},[r,n,e]);return $("div",{css:[$r,BZ],children:[$("div",{className:"header handle",children:[h("span",{children:"Import from publication string"}),h(At,{onClick:e,className:"close-bt"})]}),h("div",{className:"inner-content",children:h(bt,{ref:t,initialValues:{publicationText:"1H NMR (CDCl3, 400MHz) \u03B4 10.58 (b, 1H), 7.40 (d, 1H, J = 8.0 Hz), 6.19 (d, 1H, J = 7.6 Hz), 4.88 (s, 1H), 2.17 (s, 3H), 1.02 (s, 9H), 1.01 (s, 9H), 0.89 (s, 9H)"},validationSchema:jZ,onSubmit:o,children:h(zZ,{name:"publicationText",className:"text-area",placeholder:"Enter publication string"})})}),h("div",{className:"footer-container",children:h("button",{type:"button",onClick:()=>t.current.submitForm(),className:"btn primary",children:"Import"})})]})}const GZ=X`
  display: flex;
  flex-direction: column;
  width: 450px;
  padding: 5px;
  button:focus {
    outline: none;
  }
  .header {
    height: 24px;
    border-bottom: 1px solid #f0f0f0;
    display: flex;
    span {
      color: #464646;
      font-size: 15px;
      flex: 1;
    }

    button {
      background-color: transparent;
      border: none;
      svg {
        height: 16px;
      }
    }
  }
  .container {
    display: flex;
    margin: 30px 5px;
    input,
    button {
      padding: 5px;
      border: 1px solid gray;
      border-radius: 5px;
      height: 36px;
      margin: 2px;
    }
    input {
      flex: 10;
    }
    button {
      flex: 2;
      color: white;
      background-color: gray;
    }
  }
`,WZ=["dx","jdx"];function UZ({onLoadClick:e,onClose:t,startLoading:n}){const r=d.exports.useRef(),o=d.exports.useCallback(()=>{const i=r.current.value,{name:a,extension:s}=PZ(i);WZ.includes(s)?(n==null||n(),RZ(i,{asBuffer:!0}).then(c=>{e({binary:c,name:a,extension:s,jcampURL:i})})):e(null)},[e,n]);return $("div",{css:GZ,children:[$("div",{className:"header handle",children:[h("span",{children:"Load JCAMP Dialog"}),h(At,{onClick:t})]}),$("div",{className:"container",children:[h("input",{ref:r,type:"text",placeholder:"Enter URL to JCAMP-DX file"}),h("button",{type:"button",onClick:o,children:"Load"})]})]})}const _0=[{id:"importFile",icon:m(_c,{}),label:"Import from file system (Press Ctrl + O)"},{id:"importJDX",icon:m(_c,{}),label:"Add JCAMP-DX from URL"},{id:"importPublicationString",icon:m(_c,{}),label:"Import from publication string"}],XZ=[{id:"svg",icon:m(j0,{}),label:"Export as SVG"},{id:"png",icon:m(B0,{}),label:"Export as PNG"},{id:"json",icon:m(Tc,{}),label:"Save data ( Press Ctrl + S )"},{id:"advance_save",icon:m(Tc,{}),label:"Save data as  ( Press Ctrl + Shift + S )"},{id:"nmre",icon:m(Tc,{}),label:"Save NMRE data"},{id:"copy",icon:m(sd,{}),label:"Copy image to Clipboard ( Press Ctrl + C )"}];function YZ({info:e,verticalAlign:t,displayerMode:n,ftCounter:r,fidCounter:o,activeSpectrum:i}){const a=Re(),s=dt(),c=mt(),l=Tt(),u=Wd(),p=tx(),f=d.exports.useMemo(()=>p?_0:_0.filter(ae=>ae.id!=="importPublicationString"),[p]),{isRealSpectrumShown:g,changeSpectrumViewHandler:v,changeDisplayViewModeHandler:x,alignSpectrumsVerticallyHandler:y}=gc(),{saveAsSVGHandler:w,saveAsPNGHandler:k,saveAsJSONHandler:_,saveAsNMREHandler:R,saveToClipboardHandler:M,saveAsHandler:N}=ex(),H=d.exports.useCallback(ae=>{ae?(a({type:cl,files:[ae]}),l.close()):c.error("you file must be one of those extensions [ .jdx, dx ] ")},[c,a,l]),A=d.exports.useCallback(()=>{l.close(),a({type:Er,isLoading:!0})},[a,l]),D=d.exports.useCallback(()=>{l.show(m(UZ,{onLoadClick:H,onClose:()=>l.close(),startLoading:A}),{})},[H,l,A]),z=d.exports.useCallback(()=>{l.show(m(VZ,{onClose:()=>l.close()}),{})},[l]),U=d.exports.useCallback(ae=>!ve(s,`display.toolBarButtons.${ae}`),[s]),Y=d.exports.useCallback(({id:ae})=>{switch(ae){case"importFile":u();break;case"importJDX":D();break;case"importPublicationString":z();break;default:return}},[u,D,z]),oe=d.exports.useCallback(({id:ae})=>{switch(ae){case"svg":w();break;case"png":k();break;case"json":_();break;case"advance_save":N();break;case"nmre":R();break;case"copy":M();break}},[w,k,_,N,R,M]);return G(d.exports.Fragment,{children:[U("hideImport")&&m(E0,{component:m(nC,{}),toolTip:"Import",onClick:ae=>(Y(ae),null),items:f}),U("hideExportAs")&&m(E0,{component:m(Al,{}),toolTip:"Export As",onClick:ae=>(oe(ae),null),items:XZ}),n===we.DM_1D&&U("hideSpectraStackAlignments")&&r>1&&((e==null?void 0:e.isFt)||!i)&&m(tn.Item,{id:"spectra-alignment",className:"cheminfo",title:"Spectra alignment ( Press s )",onClick:x,children:t.align==="stack"?m(Q8,{}):m(eF,{})}),n===we.DM_1D&&U("hideRealImaginary")&&e.isComplex&&m(tn.Item,{id:"display",title:g?"Display Real ":"Display Imaginary",onClick:v,className:"cheminfo",children:m(oF,{})}),n===we.DM_1D&&U("hideSpectraCenterAlignments")&&(r>0||o>0)&&m(tn.Item,{id:"baseline-position",title:t.align==="bottom"?"Baseline  Center ( Press c )":"Baseline  Bottom ( Press c )",onClick:y,className:"cheminfo",children:m("div",{style:{fontSize:24},children:t.align==="bottom"?m(U8,{}):m(W8,{})})})]})}const ZZ=d.exports.memo(YZ);function KZ(){const{activeSpectrum:e,verticalAlign:t,displayerMode:n,activeTab:r}=ce(),{info:o,fidCounter:i,ftCounter:a}=x2();return m(ZZ,{info:o,fidCounter:i,ftCounter:a,activeSpectrum:e,verticalAlign:t,displayerMode:n,activeTab:r})}function cn(e){const{children:t,value:n=null,isActive:r=!1,onChange:o=()=>null,isVisible:i=!0,id:a,title:s}=e,[c,l]=d.exports.useState(e.isActive),u=d.exports.useCallback(()=>{const p=!c;l(p),o(p?n:null)},[c,o,n]);return d.exports.useEffect(()=>{l(r)},[r]),i?m(tn.Item,{onClick:u,title:s,id:a,active:c,children:t}):null}function qZ({children:e,value:t,onChange:n=()=>null}){const[r,o]=d.exports.useState([]),i=d.exports.useCallback(s=>{const l=[...r].map(u=>({value:u.value,isActive:u.value===s}));o(l),n(s)},[n,r]),a=d.exports.useMemo(()=>{let s=0;return d.exports.Children.map(e,c=>{var l;if(c)if(c.type===cn){const u=d.exports.cloneElement(c,{onChange:i,isActive:(l=r[s])==null?void 0:l.isActive,index:s});return s++,u}else return d.exports.cloneElement(c)})},[e,i,r]);return d.exports.useEffect(()=>{const s=d.exports.Children.map(e,c=>{if(c&&c.type===cn)return{value:c.props.value,isActive:c.props.value===t}});o(s)},[e,t]),m(In,{children:a})}function JZ({defaultValue:e,activeSpectrum:t,info:n,datum:r,displayerMode:o,ftCounter:i,mode:a}){const[s,c]=d.exports.useState(""),l=u2(),u=Re(),{handleChangeOption:p,handleFullZoomOut:f}=gc(),g=d.exports.useCallback(x=>{c(x),p(x)},[p]);d.exports.useEffect(()=>{c(e)},[e]);const v=d.exports.useCallback(()=>{u({type:Mb,value:""}),u({type:mb,selectedFilter:null})},[u]);return G(In,{children:[G(qZ,{value:s,onChange:g,children:[l("hideZoomTool")&&m(cn,{value:K.zoom.id,id:"zoomIn",title:`${K.zoom.label} ( Press z )`,children:m("div",{style:{fontSize:14},children:m(fa,{})})},K.zoom.id),l("hideZoomOutTool")&&m(tn.Item,{id:"zoom-out",onClick:f,title:"Horizontal zoom out ( Press f ), Horizontal and Vertical zoom out, double click ( Press ff )",children:m("div",{style:{fontSize:14},children:m(rC,{})})}),o===we.DM_1D&&l("hidePeakTool")&&m(cn,{value:K.peakPicking.id,title:`${K.peakPicking.label} ( Press p )`,isVisible:!!(t&&!(n==null?void 0:n.isFid)),id:"peakPicking",children:m(tF,{})},K.peakPicking.id),o===we.DM_1D&&l("hideIntegralTool")&&m(cn,{value:K.integral.id,isVisible:!!(t&&!(n==null?void 0:n.isFid)),id:"integralPicking",title:`${K.integral.label} ( Press i )`,children:m(rx,{})},K.integral.id),o===we.DM_2D&&l("hideZonePickingTool")&&m(cn,{value:K.zone2D.id,id:"zone2d",isVisible:!!(t&&!(n==null?void 0:n.isFid)),title:`${K.zone2D.label} ( Press r )`,children:m(oC,{})},K.zone2D.id),o===we.DM_2D&&l("hideSlicingTool")&&m(cn,{value:K.slicingTool.id,isVisible:!!(t&&!(n==null?void 0:n.isFid)),id:"slic",title:`${K.slicingTool.label}`,children:m("p",{children:"Slic"})},K.slicingTool.id),o===we.DM_1D&&l("hideAutoRangesTool")&&m(cn,{value:K.rangesPicking.id,isVisible:!!(t&&!(n==null?void 0:n.isFid)),title:`${K.rangesPicking.label} ( Press r )`,id:"ranges-pick",children:m(ox,{})},K.rangesPicking.id),o===we.DM_1D&&l("hideMultipleSpectraAnalysisTool")&&i>1&&a==="RTL"&&m(cn,{value:K.multipleSpectraAnalysis.id,id:"multipleSpectraAnalysis",title:K.multipleSpectraAnalysis.label,children:m(fg,{})},K.multipleSpectraAnalysis.id),o===we.DM_1D&&l("hideZeroFillingTool")&&m(cn,{value:K.zeroFilling.id,isVisible:hd({info:n}),id:"zeroFilling",title:K.zeroFilling.label,children:m(sF,{})},K.zeroFilling.id),o===we.DM_1D&&l("hidePhaseCorrectionTool")&&m(cn,{value:K.phaseCorrection.id,id:"phaseCorrection",title:`${K.phaseCorrection.label} ( Press a )`,isVisible:!!(t&&n&&pd({info:n})&&r.im),children:m(rF,{})},K.phaseCorrection.id),o===we.DM_1D&&l("hideBaseLineCorrectionTool")&&m(cn,{value:K.baseLineCorrection.id,id:"baseLineCorrection",title:`${K.baseLineCorrection.label} ( Press b )`,isVisible:!!(t&&n&&ud({info:n})),children:m(Y8,{})},K.baseLineCorrection.id),o===we.DM_1D&&l("hideExclusionZonesTool")&&!(n==null?void 0:n.isFid)&&i>0&&m(cn,{value:K.exclusionZones.id,title:`${K.exclusionZones.label} ( Press e )`,id:"exclusionZones",children:m("div",{style:{fontSize:18},children:m(fg,{})})},K.exclusionZones.id)]}),o===we.DM_1D&&l("hideFFTTool")&&n&&dd({info:n})&&m(tn.Item,{id:"fft-filter",className:"cheminfo",title:"FFT Filter",onClick:v,children:m(q8,{})})]})}const QZ=d.exports.memo(JZ);function eK({defaultValue:e=K.zoom.id}){const{activeSpectrum:t,displayerMode:n,activeTab:r,mode:o}=ce(),i=x2();return m(QZ,P(S({},i),{activeSpectrum:t,displayerMode:n,activeTab:r,defaultValue:e,mode:o}))}function tK({selectedTool:e}){return m("div",{style:{fontSize:18},children:G(tn,{orientation:"vertical",children:[m(eK,{defaultValue:e}),m(KZ,{})]})})}const nK=d.exports.memo(tK);function rK(){const{toolOptions:{selectedTool:e}}=ce();return m(nK,{selectedTool:e})}const oK=X`
  border: 0.55px #e6e6e6 solid;
  display: flex;
  flex: 1;
  flex-direction: 'column';
  height: 100%;
  margin-left: -1px;
`,iK=X`
  background-color: white;
  width: 100%;
  display: block;
  height: 100%;
  font-size: 14px;

  div:focus {
    outline: none !important;
  }

  button {
    cursor: pointer;
    color: black;
    &:disabled {
      cursor: default;
    }
  }

  button:active,
  button:hover,
  button:focus,
  [type='button']:focus,
  button {
    outline: none !important;
  }
  * {
    -webkit-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
    user-drag: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  .SplitPane {
    height: 100%;
  }

  .Resizer.vertical:after {
    content: '\\22EE';
    top: 50%;
    color: black;
    position: absolute;
    font-size: 14px;
  }

  .Resizer.vertical {
    padding: 2px;
  }

  .Resizer.vertical:hover {
    background-color: #dfdfdf !important;
    border-left: 0.55px #bbbbbbimport preferencesReducer from './reducer/preferencesReducer';
 solid;
    border-right: 0.55px #bbbbbb solid;
  }
`;var El=(e=>(e.EXERCISE_1D="exercise1D",e.PROCESS_1D="process1D",e.DEFAULT="default",e))(El||{});const aK={},sK={spectra:[]};function lK(e){return h(aC,{style:{width:"100%"},children:h(iC,{FallbackComponent:T9,children:h(cK,S({},e))})})}function cK({data:e=sK,workspace:t="default",preferences:n=aK,getSpinner:r=Nv,onDataChange:o,emptyText:i}){const a=d.exports.useRef(null),s=d.exports.useRef(null),[c,l]=sC(!1),u=lC(a,c,{onClose:()=>{l(!1)}}),[p,f]=d.exports.useReducer(c4,Fv,a4),[g,v]=d.exports.useReducer(M4,Gv),{displayerMode:x,data:y}=p;d.exports.useEffect(()=>{DZ(p.actionType)&&(o==null||o(p))},[o,p]);const w=d.exports.useMemo(()=>s4(f),[]);d.exports.useEffect(()=>{var M;(M=a.current)==null||M.focus()},[u]),d.exports.useEffect(()=>{v({type:Bv,payload:{display:n,workspace:t,dispatch:v}})},[n,t]),d.exports.useEffect(()=>{w({type:Er,isLoading:!0}),e&&w({type:Rd,payload:e})},[e,w]);const k=d.exports.useCallback(M=>{co(M)||M.preventDefault()},[]),_=d.exports.useCallback(()=>{w({type:fl,payload:!0})},[w]),R=d.exports.useCallback(()=>{w({type:fl,payload:!1})},[w]);return h(X6,{value:{rootRef:a.current,elementsWraperRef:s.current},children:h(F4,{value:g,children:h("div",{onMouseEnter:_,onMouseLeave:R,style:{height:"100%",position:"relative"},children:h(z6,{wrapperRef:s.current,children:h(d4,{value:w,children:h(u4,{value:p,children:h(U6,{wrapperRef:s.current,children:h(J4,{children:h(K4,{spectraData:y,children:h(b4,{value:r,children:h("div",{className:"nmrium-container",ref:a,css:iK,onContextMenu:k,style:{height:"100%",width:"100%"},children:h(OZ,{children:$("div",{style:{display:"flex",flexDirection:"column",backgroundColor:"white",width:"100%"},children:[h(EZ,{isFullscreen:u,onMaximize:l}),$("div",{style:{display:"flex",flexDirection:"row",height:"100%"},children:[h(rK,{}),$(cC,{initialSeparation:"590px",orientation:"horizontal",sideSeparation:"end",children:[$("div",{css:oK,children:[h(qY,{}),h("div",{"data-test-id":"viewer",style:{width:"100%",height:"100%"},children:x===we.DM_1D?h(_9,{emptyText:i}):h(_6,{emptyText:i})})]}),h(KY,{})]}),h("div",{ref:s,id:"main-wrapper",style:{position:"absolute",pointerEvents:"none",zIndex:0,left:0,right:0,top:0,bottom:0}},String(u))]})]})})})})})})})})})})})})})}var uK=d.exports.memo(lK);function dK(e,t){let n=[];function r(o){Object.keys(o).forEach(i=>{t===i&&n.push({[i]:o[i]}),Array.isArray(o[i])?o[i].forEach(a=>{r(a)}):typeof o[i]=="object"&&o[i]!==null&&r(o[i])})}return r(e),n}function pK(e){const[t,n]=d.exports.useState(),[r,o]=d.exports.useState("");d.exports.useEffect(()=>{const a=dK(e,r);n(r?a:e)},[e,r]);const i=d.exports.useCallback(si(a=>{const s=a.target.value;o(s)},500),[e]);return G("div",{style:{display:"flex",flexDirection:"column",paddingTop:"10px"},children:[m("input",{style:{border:"1px solid gray",padding:"5px"},type:"text",placeholder:"Search for key...",onChange:i}),m(Y0,{data:t}),";"]})}function y2(){const[e,t]=d.exports.useState(),[n,r]=d.exports.useState({}),o=d.exports.useCallback(async a=>{try{const s=await Kr(a,{asBuffer:!0}),c=new TextDecoder("utf8"),l=JSON.parse(c.decode(s[0].binary));t(l)}catch{alert("Invalid JSON file")}},[]),i=d.exports.useCallback(a=>{r(a)},[]);return G("div",{style:{display:"flex",height:"100vh"},children:[m("div",{style:{flex:9},children:m(uK,{data:e,onDataChange:i})}),G("div",{style:{display:"flex",flexDirection:"column",padding:"10px",flex:3},children:[m("div",{style:{flex:3},children:m(uC,{onDrop:o,color:"gray"})}),m("div",{style:{flex:9},children:m(pK,{data:n})})]})]})}var fK=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:y2});const hK=d.exports.lazy(()=>gr(()=>import("./TestHighlight.ca4339ac.js"),["assets/TestHighlight.ca4339ac.js","assets/vendor.ce61fb30.js"]));function gK(){return m(d.exports.Suspense,{fallback:null,children:G(_l,{children:[m(yr,{path:"/test/highlight",component:hK}),m(yr,{path:"/",component:y2}),m(yr,{render:()=>m("div",{children:"Page not found"})})]})})}dC.render(m(pC,{children:G(_l,{children:[m(yr,{path:"/test",component:gK}),m(yr,{path:"/",render:e=>m(IC,S({},e))})]})}),document.getElementById("root"));export{J4 as H,Ul as M,uK as N,yp as S,El as a,ec as c,gt as u};
//# sourceMappingURL=index.66ba6105.js.map
